{"version":3,"sources":["core/models/index.ts","core/models/state.ts","core/models/constants.ts","core/models/enums.ts","assets/img/rabbit.png","assets/svg/AlienOffline.tsx","core/selectors/common.ts","roots/Offline.tsx","core/selectors/router.ts","core/selectors/user.ts","core/selectors/board.ts","modules/task/TaskCheckLabel.tsx","modules/task/TaskCheckedLabel.tsx","modules/task/TaskInfo.tsx","core/selectors/task.ts","core/selectors/payment.ts","core/selectors/boardLists.ts","modules/board-list/ListMembershipStack.tsx","core/hooks/view.ts","core/hooks/longPress.ts","modules/board-list/ListProgress.tsx","core/hooks/interval.ts","core/selectors/membership.ts","modules/board-list/ListMembershipLayout.tsx","atoms/LoadingCard.tsx","atoms/LoadingCardsCahin.tsx","core/selectors/ads.ts","modules/ads/AdsBanner.tsx","assets/svg/NoTasks.tsx","modules/board/BoardEmpty.tsx","modules/board/BoardFinishedTasks.tsx","modules/board/BoardLists.tsx","atoms/Button.tsx","modules/board/BoardActions.tsx","modules/board/BoardLayout.tsx","atoms/CellButton.tsx","core/vk-bridge/taptic.ts","modules/modals/NewList.tsx","core/selectors/settings.ts","modules/modals/ListItemName.tsx","modules/modals/ListItem.tsx","modules/modals/Lists.tsx","modules/modals/SelectedTaskHeader.tsx","modules/modals/SelectedTask.tsx","modules/modals/DeletePreview.tsx","modules/modals/EditTask.tsx","modules/modals/NewTaskHeader.tsx","modules/modals/NewTask.tsx","modules/modals/DropMember.tsx","modules/modals/DeleteList.tsx","modules/modals/Root.tsx","modules/about/Notifications.tsx","core/helpers/index.ts","modules/about/Premium.tsx","assets/svg/ListShareRabbit.tsx","modules/membership-preview/MembershipPreview.tsx","assets/svg/KanbanBoard.tsx","modules/welcome/Welcome.tsx","modules/snaks/SnakbarsErr.tsx","roots/Main.tsx","modules/error-bound/index.tsx","core/socket/callbacks.ts","core/socket/list.ts","modules/routes/Router.tsx","core/reducers/main.ts","core/utils/helpers.ts","core/epics/addons.ts","core/vk-bridge/user.ts","core/epics/errors.ts","core/epics/combine.ts","core/epics/user.ts","core/operations/common.ts","core/vk-bridge/ads.ts","core/epics/ads.ts","core/operations/board.ts","core/epics/board.ts","core/operations/boardList.ts","core/epics/tasks.ts","core/operations/task.ts","core/epics/membership.ts","core/operations/membership.ts","core/epics/socket.ts","core/epics/payment.ts","core/operations/payment.ts","core/store/index.ts","core/epics/index.ts","core/sentry/index.ts","App.tsx","core/callbacks/index.ts","core/fire-callbacks/index.ts","core/global-listen/index.ts","index.tsx","core/fela/index.ts"],"names":["FetchingStateName","FetchingStatus","ClientTheme","appV","appId","payToUserId","premiumPrice","FINISH_TASK_TIMER_VALUE","UNFINISH_TASK_TIMER_VALUE","isDev","process","MaxFreeListsPerPerson","MainView","WelcomeView","Skeys","AppUser","ActiveModal","module","exports","AlienOffline","React","memo","className","style","width","height","viewBox","fill","xmlns","opacity","d","id","x1","y1","x2","y2","gradientUnits","stopColor","stopOpacity","offset","getStateUi","state","ui","getStateRouter","router","getTheme","createSelector","theme","isThemeDrak","Dark","getActiveModal","isAppUser","activeModal","getBoardUiState","board","getMembershipUiState","membership","isAdsShown","showAds","Offline","css","useFela","online","useSelector","dispatch","useDispatch","useEffect","type","payload","User","Ads","setTimeout","separator","display","flexDirection","marginTop","marginBottom","alignSelf","textAlign","weight","level","visibility","alignItems","size","getLocationNotificationEnabled","Number","location","query","vk_are_notifications_enabled","getLocationVkAppId","vk_app_id","getLocationUserId","vk_user_id","getLocationPathName","pathname","getLocationMainPath","pathName","match","matchPath","path","params","main","getLocationSubPath","sub","getActiveMainView","createStructuredSelector","mainPath","Welcome","Board","ListMembership","ListSharePreview","About","getUserDataState","fetchingDatas","getUserSKeysDataState","UserSKeys","getUserDataStatus","userData","status","getUserSKeysDataStatus","isUserDataUpdating","keysStatus","Updating","getUserId","data","locationUserId","getQToQuery","initialQuery","getBoardListsDataState","isBoardUpdating","dataState","userUpdating","getBoardListData","getBoardLists","userId","map","isOwner","createdBy","getNewTaskValues","newTask","getEditTaskValues","editedTask","TaskCheckLabel","name","uniqId","onClick","e","stopPropagation","onChange","target","checked","htmlFor","points","fontSize","fontWeight","TaskCheckedLabel","defaultChecked","TaskInfo","task","dueDate","memberships","description","dark","color","iconStyle","TimeInfo","length","photos","m","avatar","visibleCount","padding","layout","marginRight","whiteSpace","overflow","textOverflow","format","Date","locale","ru","getTaskDeleteDataState","DeleteTask","getPostNewTaskDataState","NewTask","getTasksDataState","Tasks","getEditTaskDataState","EditTask","isTasksUpdating","getTasksData","getFinishedTasksCount","tasks","filter","t","finished","isNewTaskUpdating","isNewTaskError","Error","getNewTaskError","error","getNewTaskData","getNewTaskInfo","newTaskId","hasError","updating","isTaskDeleteUpdating","isEditTaskUpdating","isEditTaskError","getEditTaskError","isNotSameSelectedAndEdit","selectedTask","isEditTaskReady","Ready","getEditTaskInfo","notSameData","taskReady","getSelectedTaskInfo","getSelectedTaskId","getSelectedTaskGUID","taskGUID","getPaymentInfoDataState","PaymentInfo","getPaymentProccessDataState","PaymentProccess","getLastGoogleSyncProccessDataState","LastGoogleSync","isPaymentUpdating","info","proccess","hasUserPremium","getLastGoogleSyncHrs","isLastGoogleSyncUpdating","googleSyncProccess","getNewListDataState","NewBoardList","getEditListDataState","EditBoardList","getDeleteListDataState","DeleteBoardList","getFirstListDataState","FirstBoardList","isFirstListUpdating","isNewListUpdating","isNewListCreated","isEditListUpdating","isEditListCreated","isDeleteListUpdating","boardUpdating","isListMembershipOpenedByOwner","list","boardListOpenId","find","l","getSelectedList","selectedList","getSelectedListTasks","getFinishedListTasks","getSelectedListId","selectedBoardListInfo","canUserContinueCreateLists","hasPremium","ListMembershipStack","paddingTop","paddingRight","useViewChange","viewEnum","defaultKeyView","withSwipe","defaultView","useMemo","useState","activePanel","history","viewState","setView","goBack","pop","vkBridge","send","goForward","push","activeView","preventDefault","isTouchEvent","touches","ListProgress","tasksToBeFinishedTimer","callback","delay","savedCallback","useRef","current","setInterval","clearInterval","useInterval","calcValue","toFixed","value","getDropMembershipDataState","DropMembership","getPreviewMembershipDataState","ListMembershipPreview","getSaveMembershipDataState","SaveMembership","isDropMembershipUpdating","isPreviewMembershipReady","getPreviewMembershipData","isSaveMembershipUpdating","isSaveMembershipReady","getMembershipList","getUserFirstNameToDelete","dropUserId","ml","firstName","ListMembershipLayout","key","before","src","href","undefined","after","disabled","DropMembershipItem","canDropMembership","LoadingCard","borderRadius","backgroundColor","shimmerAnimation","backgroundImage","backgroundRepeat","animationDuration","animationFillMode","animationIterationCount","animationTimingFunction","animationName","backgroundPosition","LoadingCardChain","cards","transRef","transition","useTransition","from","transform","enter","ref","useChain","card","div","getAdsDataState","getAdsData","adsState","AdsBanner","adsData","adsBanner","hideAds","useCallback","boxShadow","border","minHeight","outline","onClose","bannerData","NoTasks","clipPath","mask-type","maskUnits","x","y","mask","BoardEmpty","lineHeight","BoardFinishedTasks","showFinishedList","setShow","finishedCount","showFinished","itemsFragments","v","marginLeft","BoardLists","showUpdating","updatingListOfTasks","timer","clearTimeout","selectTask","unique","trail","taskRender","left","paddingBottom","Button","square","props","mode","btnStyle","bgByMode","colorByMode","BoardActions","tasksToBeFinished","selectedBoardListId","boardUpadting","openListsModal","Lists","openNewTaskModal","vertical","filled","wide","stretched","BoardLayout","CellButton","selected","cellButtonStyle","textDecoration","margin","cursor","background","position","paddingLeft","pointerEvents","tapticSelected","NewList","click","setClicked","created","canCreateLists","platform","usePlatform","handleChangeName","placeholder","minLength","maxLength","autoFocus","OS","IOS","getNotifications","notifications","getAppId","isPlatformIOS","defaultMemoize","ListItemName","listItem","sel","editBoardListName","detections","onLongPress","shouldPreventDefault","timeout","start","addEventListener","passive","clear","removeEventListener","onMouseDown","onTouchStart","onMouseUp","onMouseLeave","onTouchEnd","useLongPress","closeModal","ListItem","deletting","search","getSearch","deleteList","DeletList","goToMembership","sharePost","listguid","a","link","ListsPC","updateModalHeight","listItems","withModalRootContext","SelectedTaskHeader","editable","deletedPreview","formValues","currentTarget","SelectedTask","showTask","showDelete","startEdit","multiline","DeletePreview","cancelDelete","deleteTask","nextDay","addDays","EditTaskPC","stopEdit","disabledSubmit","isBefore","submitForm","showError","header","min","NewTaskHeader","NewTaskPC","DropMember","dropMember","DeleteList","back","RootModals","setDelete","setEditable","goToAbout","dynamicContentHeight","settlingHeight","Notifications","notifyEnabled","notifyRequest","setRequest","handleToggle","enabled","result","ruSyntaxHelper","count","countArray","toString","split","firstNumber","secondNumber","thirdNumber","itemsToAppear","text","Premium","gUpdating","gHrs","computedTime","Math","trunc","humanTime","handleBuy","startSync","cellInfoCss","infoStyle","textStyle","textCss","btnCss","buyButton","transitionFragments","item","ListShareRabbit","cx","cy","r","stroke","rx","stroke-width","stroke-linecap","stroke-linejoin","patternContentUnits","xlinkHref","rabbitUrl","MembershipPreview","handleBack","ready","accept","KanbanBoard","suggestions","firstBoardListName","handleChange","handleSet","suggestionRender","itemStyle","create","Greetings","TaskCreation","flexShrink","SnakbarsErr","visible","setVisible","humanError","setError","errorsQueue","zIndex","Main","previewMembershipReady","swipeBack","goToMembershipPreview","modal","onSwipeBack","ErrorBoundary","errorInfo","captureException","this","JSON","stringify","children","Component","clientCallbacks","socket","selectedListConnected","connectListSocket","console","debug","io","replace","on","Object","keys","forEach","call","cb","apply","arguments","initCallbacks","Router","hashListGUID","window","hash","initialState","Light","onlineHandleActivate","boardListName","boardListToDeleteId","tasksToBeUnfinished","errMap","origin","useTapticEpic","tapticDone","Promise","resolve","pipe","devTimeout","mergeMap","captureErrorAndNothingElse","setStorageValueEpic","setStorageValue","tap","captureFetchError","catchError","o","captureUrlEvent","of","captureFetchErrorMoreActions","actions","concat","captureFetchErrorUserErr","captureFetchErrorWithTaptic","context","empty","safeCombineEpics","pipeCatchError","epic","action$","state$","dependencies","caughtObs","epics","combineEpics","Method","userEpics","ofType","switchMap","userInfo","appUser","userSelectedListId","Yes","selectedListId","getHash","q","auditTime","String","supports","reject","getAdsEpic","request","url","method","fromFetch","headers","body","newBoardList","Post","boardEpics","Get","getBoard","response","ok","json","boardDataList","bl","debounceTime","listName","iif","listId","exhaustMap","Delete","deletBoardList","p","Put","editBoardList","taskEpics","ops","taskIds","FinishTasks","selectedTaskId","taskId","dataModel","membershipEpics","dropMembership","guid","listMembershipPreview","createMembership","socketEpics","log","listGUID","emit","joinRoom","ignoreElements","paymentEpics","app_id","action","user_id","amount","pr","createPayment","paymentInfo","lastGoogleSyncInfo","epicMiddleware","createEpicMiddleware","exception","sentry","createBrowserHistory","rootReducerMap","includes","tId","connectRouter","store","createStore","combineReducers","composeWithDevTools","applyMiddleware","routerMiddleware","run","store$","source","message","beforeSend","event","indexOf","getState","user","username","first_name","fullName","last_name","extra","uiState","tags","dsn","release","environment","ignoreErrors","lights","oldLight","App","subscribe","detail","dataScheme","scheme","isLight","status_bar_style","action_bar_color","initSentry","isWebView","client","perform","callbacks","clientPerformCallback","new_task","stop_g_sync","warn","then","default","felaRenderer","createRenderer","selectorPrefix","plugins","webPreset","embedded","ReactDOM","render","renderer","noInitialPop","document","getElementById"],"mappings":"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","file":"static/js/main.d1a25305.chunk.js","sourcesContent":["export * from './state';\r\nexport * from './constants';\r\nexport * from './ads';\r\nexport * from './epics';\r\nexport * from './enums';\r\nexport * from './board';\r\nexport * from './membership';\r\n","import { Dispatch } from 'redux';\r\nimport { LocationChangeAction, RouterState } from 'connected-react-router';\r\nimport { BoardState, TaskInfo, BoardListItem, BoardTaskItem } from './board';\r\nimport { MembershipState } from './membership';\r\nimport { ActiveModal } from './enums';\r\n\r\ndeclare module 'react-redux' {\r\n  export interface DefaultRootState extends AppState {}\r\n}\r\n\r\nexport type AppState = {\r\n  ui: {\r\n    theme: ClientTheme;\r\n    fetchingDatas: {\r\n      [key in FetchingStateName]?: {\r\n        status: FetchingStatus;\r\n        data: any;\r\n        error: any;\r\n      };\r\n    };\r\n    notifications: boolean;\r\n    appId: number;\r\n    hashListGUID: string | null;\r\n    online: boolean;\r\n    onlineHandleActivate: boolean;\r\n    initialQuery: string;\r\n    isAppUser: boolean;\r\n    activeModal: ActiveModal | null;\r\n    board: BoardState;\r\n    membership: MembershipState;\r\n    showAds: boolean;\r\n    errorsQueue: string[];\r\n    googleSyncProccess: boolean;\r\n  };\r\n  router: RouterState;\r\n};\r\n\r\nexport type AppDispatch =\r\n  | FetchUpdateAction\r\n  | FetchReadyAction\r\n  | { type: 'SET_ERROR_DATA'; payload: { name: FetchingStateName; error: any } }\r\n  | { type: 'SET_THEME'; payload: ClientTheme }\r\n  | { type: 'SET_NOTIFICATIONS'; payload: boolean }\r\n  | { type: 'SET_APPID'; payload: number }\r\n  | SetHashAction\r\n  | { type: 'SET_APP_CONNECT'; payload: boolean }\r\n  | { type: 'SET_INIT_QUERY'; payload: string }\r\n  | { type: 'SET_APP_USER'; payload: boolean }\r\n  | { type: 'HANDLE_ACTIVATE_INIT'; payload: boolean }\r\n  | { type: 'SET_MODAL'; payload: ActiveModal | null }\r\n  | SelectBoardListAction\r\n  | { type: 'SET_BOARD_TASKS'; payload: BoardTaskItem[] }\r\n  | { type: 'OPEN_BOARD_LIST'; payload: number }\r\n  | { type: 'UPDATE_NEW_TASK'; payload: { name: string; value: string } }\r\n  | { type: 'RESET_NEW_TASK'; payload: null }\r\n  | { type: 'FINISH_TASK'; payload: number }\r\n  | { type: 'REMOVE_FINISH_TASK'; payload: number }\r\n  | { type: 'UNFINISH_TASK'; payload: number }\r\n  | { type: 'REMOVE_UNFINISH_TASK'; payload: number }\r\n  | { type: 'RESET_FINISH_TASKS'; payload: number[] }\r\n  | { type: 'RESET_UNFINISH_TASKS'; payload: number[] }\r\n  | { type: 'SELECT_TASK'; payload: TaskInfo }\r\n  | { type: 'EDIT_TASK'; payload: { name: string; value: string | null } }\r\n  | { type: 'SET_BOARD_LIST_NAME'; payload: string }\r\n  | { type: 'SET_FINISH_TASK_TIMER'; payload: number }\r\n  | { type: 'DROP_MEMBER_SHIP_ID'; payload: number }\r\n  | { type: 'SET_DELETE_BOARD_LIST_ID'; payload: number }\r\n  | { type: 'EDIT_BOARD_LIST_NAME'; payload: EditBoardNamePayload }\r\n  | { type: 'SET_ADS'; payload: boolean }\r\n  | { type: 'SET_FIRST_BOARD_LIST_NAME'; payload: string }\r\n  | { type: 'SET_GOOGLE_SYNC'; payload: boolean }\r\n  | ErrorEnqueue\r\n  | ErrorDequeue\r\n  | LocationChangeAction;\r\n\r\nexport type AppDispatchActions = Dispatch<AppDispatch>;\r\nexport type FetchReadyAction = { type: 'SET_READY_DATA'; payload: FetchigReadyPayload };\r\nexport type FetchUpdateAction = { type: 'SET_UPDATING_DATA'; payload: FetchingStateName };\r\nexport type SelectBoardListAction = {\r\n  type: 'SELECT_BOARD_LIST';\r\n  payload: { id: number; data?: BoardListItem };\r\n};\r\nexport type SetHashAction = { type: 'SET_HASH'; payload: string | null };\r\nexport type ErrorEnqueue = { type: 'ENQUEUE_ERROR'; payload: string };\r\nexport type ErrorDequeue = { type: 'DEQUEUE_ERROR'; payload: string };\r\n\r\nexport enum FetchingStateName {\r\n  User = 'user',\r\n  UserSKeys = 'user_storage_keys',\r\n  Ads = 'ads',\r\n  Board = 'board',\r\n  NewTask = 'new_task',\r\n  Tasks = 'tasks',\r\n  FinishTasks = 'finish_tasks',\r\n  DeleteTask = 'delete_task',\r\n  NewBoardList = 'new_board_list',\r\n  FirstBoardList = 'first_board_list',\r\n  EditBoardList = 'edit_board_list',\r\n  DeleteBoardList = 'delete_board_list',\r\n  EditTask = 'edit_task',\r\n  DropMembership = 'drop_membership',\r\n  SaveMembership = 'save_membership',\r\n  ListMembershipPreview = 'list_membership_preview',\r\n  PaymentProccess = 'payment_proccess',\r\n  PaymentInfo = 'payment_info',\r\n  LastGoogleSync = 'last_google_sync'\r\n}\r\n\r\nexport enum FetchingStatus {\r\n  Updating = 1,\r\n  Ready,\r\n  Error,\r\n}\r\n\r\nexport type FetchingDataType<T> = {\r\n  status: FetchingStatus;\r\n  data: T;\r\n  error: any;\r\n};\r\n\r\nexport type FetchResponse<T> = {\r\n  data: T;\r\n};\r\n\r\nexport type FetchigReadyPayload = { name: FetchingStateName; data: any };\r\nexport type EditBoardNamePayload = { name: string; id?: number };\r\n\r\nexport enum ClientTheme {\r\n  /**\r\n   * @deprecated\r\n   */\r\n  oldLight = 'client_light',\r\n  Light = 'bright_light',\r\n  Dark = 'space_gray',\r\n}\r\n","export const appV = '1.0';\r\n\r\nexport const vkApiV = '5.122';\r\n\r\nexport const appId = 7566928;\r\nexport const payToUserId = 11437372;\r\nexport const premiumPrice = 228;\r\n\r\nexport const FINISH_TASK_TIMER_VALUE = 3500;\r\nexport const UNFINISH_TASK_TIMER_VALUE = 1500;\r\n\r\nexport const isDev = process.env.NODE_ENV !== 'production';\r\n\r\nexport const MaxFreeListsPerPerson = 5;","export enum MainView {\r\n  Board = 'board',\r\n  Welcome = 'welcome',\r\n  Offline = 'offline',\r\n  ListMembership = 'listMembership',\r\n  About = 'about',\r\n  ListSharePreview = 'listSharePreview'\r\n}\r\nexport enum WelcomeView {\r\n  Greetings = 'greetings',\r\n  TaskCreation = 'taskCreation'\r\n}\r\n\r\nexport enum Skeys {\r\n  appUser = 'appUser',\r\n  userSelectedListId = 'userSelectedListId'\r\n}\r\n\r\nexport enum AppUser {\r\n  Yes = 'yes',\r\n  No = 'no',\r\n}\r\n\r\nexport enum ActiveModal {\r\n  SelectedTask = 'selectedtask',\r\n  Lists = 'lists',\r\n  NewTask = 'newtask',\r\n  DropMembership = 'dropmembership',\r\n  DeletList = 'deletelist'\r\n}","module.exports = __webpack_public_path__ + \"static/media/rabbit.0262b179.png\";","import React from 'react';\r\n\r\ntype Props = {\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nexport const AlienOffline = React.memo<Props>(({ className = '', style = {} }) => {\r\n  return (\r\n    <>\r\n      <svg\r\n        width=\"172\"\r\n        height=\"149\"\r\n        viewBox=\"0 0 172 149\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}\r\n        style={style}\r\n      >\r\n        <g opacity=\"0.8\">\r\n          <path\r\n            opacity=\"0.8\"\r\n            d=\"M88.4571 50.3814C105.02 50.3814 118.447 39.9682 118.447 27.1228C118.447 14.2774 105.02 3.86414 88.4571 3.86414C71.8944 3.86414 58.4677 14.2774 58.4677 27.1228C58.4677 39.9682 71.8944 50.3814 88.4571 50.3814Z\"\r\n            fill=\"url(#paint0_linear)\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M88.4571 49.8649C104.652 49.8649 117.781 39.6829 117.781 27.1228C117.781 14.5627 104.652 4.38074 88.4571 4.38074C72.262 4.38074 59.1332 14.5627 59.1332 27.1228C59.1332 39.6829 72.262 49.8649 88.4571 49.8649Z\"\r\n          fill=\"#6C63FF\"\r\n        />\r\n        <path\r\n          opacity=\"0.1\"\r\n          d=\"M63.8734 29.6504C63.8734 17.0904 77.0007 6.90831 93.1953 6.90831C98.2233 6.8806 103.201 7.90928 107.807 9.92787C102.653 6.44297 95.9105 4.32538 88.5309 4.32538C72.3362 4.32538 59.2069 14.5074 59.2069 27.0674C59.2069 35.5009 65.1266 42.8622 73.9211 46.7899C67.7639 42.6203 63.8734 36.489 63.8734 29.6504Z\"\r\n          fill=\"white\"\r\n        />\r\n        <path\r\n          opacity=\"0.2\"\r\n          d=\"M88.4571 36.2634L120.965 92.6327L153.473 149H88.4571H23.4411L55.9491 92.6327L88.4571 36.2634Z\"\r\n          fill=\"#6C63FF\"\r\n        />\r\n        <g opacity=\"0.3\">\r\n          <path\r\n            opacity=\"0.3\"\r\n            d=\"M96.1705 116.072L98.6952 108.571C99.5634 105.959 99.5704 103.137 98.7151 100.52C97.8598 97.9039 96.1875 95.6319 93.9447 94.039L93.9652 94.0267C92.9722 93.3268 91.8831 92.7744 90.732 92.3868L90.6972 92.3745L90.6583 92.3622C89.541 91.9838 88.3761 91.7644 87.1978 91.7103C86.7811 91.6888 86.3635 91.6888 85.9468 91.7103C85.2236 91.7482 84.5051 91.8476 83.7988 92.0075C83.594 92.0526 83.3893 92.1039 83.2029 92.1592C83.0166 92.2146 82.8078 92.274 82.6132 92.3376C82.2242 92.4667 81.8413 92.6123 81.4666 92.7783C81.2782 92.8603 81.0919 92.9464 80.9096 93.0387C80.3586 93.311 79.8282 93.6235 79.3227 93.9734C79.1528 94.0903 78.9869 94.2112 78.8231 94.3342C76.7991 95.8751 75.284 97.989 74.474 100.402L70.5057 112.22C69.8811 114.073 69.6933 116.046 69.9569 117.984C69.9979 118.282 70.0491 118.577 70.1084 118.87C70.1678 119.163 70.2415 119.452 70.3132 119.739C70.3685 119.93 70.4258 120.12 70.4893 120.309C70.5835 120.59 70.694 120.871 70.7985 121.145C70.8742 121.328 70.9541 121.51 71.038 121.691C71.2039 122.049 71.3882 122.4 71.5868 122.742C71.7854 123.085 71.9963 123.419 72.2339 123.743C72.4059 123.985 72.5881 124.222 72.7765 124.452C73.0304 124.759 73.2966 125.067 73.5791 125.34C74.8022 126.574 76.2659 127.543 77.8791 128.187L77.9488 128.216C78.0354 128.062 78.1311 127.913 78.2354 127.771C78.8497 126.928 79.9186 126.336 80.9362 126.557C81.0099 126.574 81.0837 126.596 81.1574 126.619C81.6734 126.801 82.1812 127.127 82.6788 127.287C82.8597 127.368 83.0563 127.409 83.2547 127.407C83.4531 127.404 83.6486 127.359 83.8275 127.273C84.8226 126.742 84.454 125.067 85.3079 124.333C85.3476 124.299 85.3894 124.268 85.4328 124.239C85.4207 124.224 85.4098 124.208 85.4 124.192C86.0594 123.782 86.9726 124.054 87.7323 124.319C88.5513 124.608 89.6202 124.802 90.1894 124.132C90.5744 123.673 90.5457 122.974 90.9122 122.492C91.3381 121.939 92.1408 121.877 92.8349 121.976L92.8697 121.986C94.2007 122.535 95.6545 121.623 95.5521 120.186C95.4313 118.269 96.0333 116.463 96.1705 116.072Z\"\r\n            fill=\"url(#paint1_linear)\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M78.4668 127.139C79.0647 126.319 80.0906 125.745 81.0734 125.969C82.0563 126.192 82.988 127.129 83.8623 126.66C85.0581 126.02 84.2104 123.669 86.1515 123.495C86.556 123.468 86.9611 123.538 87.333 123.7C88.1521 124.034 89.4339 124.411 90.0645 123.659C90.4352 123.216 90.4085 122.541 90.7628 122.082C91.1723 121.549 91.9524 121.482 92.6179 121.584L92.6507 121.594C93.9345 122.125 95.3392 121.244 95.2389 119.858C95.1099 118.013 95.6955 116.275 95.8224 115.898L98.255 108.659C99.2897 105.556 99.0553 102.169 97.603 99.2388C96.1508 96.3083 93.5987 94.0725 90.5048 93.0202C87.4055 91.9857 84.0233 92.2213 81.097 93.6755C78.1707 95.1297 75.9383 97.6844 74.8876 100.781L71.0524 112.165C70.0556 115.158 70.2385 118.42 71.5637 121.284C72.8889 124.147 75.2563 126.396 78.1822 127.57C78.2686 127.421 78.3636 127.277 78.4668 127.139Z\"\r\n          fill=\"white\"\r\n        />\r\n        <path\r\n          opacity=\"0.2\"\r\n          d=\"M83.0002 100.978C83.7364 100.978 84.3332 100.381 84.3332 99.6436C84.3332 98.9066 83.7364 98.3091 83.0002 98.3091C82.264 98.3091 81.6672 98.9066 81.6672 99.6436C81.6672 100.381 82.264 100.978 83.0002 100.978Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.2\"\r\n          d=\"M90.5805 103.53C91.3167 103.53 91.9135 102.933 91.9135 102.196C91.9135 101.459 91.3167 100.861 90.5805 100.861C89.8443 100.861 89.2475 101.459 89.2475 102.196C89.2475 102.933 89.8443 103.53 90.5805 103.53Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          d=\"M86.3586 106.417C86.7106 105.37 86.4304 104.331 85.7326 104.095C85.0349 103.86 84.1839 104.519 83.8318 105.566C83.4798 106.613 83.76 107.653 84.4578 107.888C85.1555 108.123 86.0065 107.465 86.3586 106.417Z\"\r\n          fill=\"#E0E0E0\"\r\n        />\r\n        <path\r\n          d=\"M113.137 101.939C114.241 101.939 115.136 101.044 115.136 99.9387C115.136 98.8337 114.241 97.938 113.137 97.938C112.033 97.938 111.139 98.8337 111.139 99.9387C111.139 101.044 112.033 101.939 113.137 101.939Z\"\r\n          fill=\"white\"\r\n        />\r\n        <path\r\n          d=\"M119.468 97.7925C120.02 97.7925 120.468 97.3446 120.468 96.7921C120.468 96.2396 120.02 95.7917 119.468 95.7917C118.916 95.7917 118.469 96.2396 118.469 96.7921C118.469 97.3446 118.916 97.7925 119.468 97.7925Z\"\r\n          fill=\"white\"\r\n        />\r\n        <g opacity=\"0.5\">\r\n          <g opacity=\"0.3\">\r\n            <path\r\n              opacity=\"0.3\"\r\n              d=\"M98.8324 35.5091L101.357 28.0083C102.225 25.3962 102.232 22.574 101.377 19.9576C100.522 17.3412 98.8494 15.0691 96.6067 13.4763L96.6271 13.464C95.6341 12.7641 94.5451 12.2117 93.3939 11.824L93.3591 11.8117L93.3202 11.7994C92.2029 11.4211 91.038 11.2017 89.8598 11.1476C89.443 11.126 89.0254 11.126 88.6087 11.1476C87.8856 11.1854 87.167 11.2849 86.4607 11.4448C86.2559 11.4899 86.0512 11.5411 85.8649 11.5965C85.6785 11.6518 85.4697 11.7113 85.2751 11.7748C84.8861 11.904 84.5032 12.0495 84.1285 12.2156C83.9401 12.2976 83.7538 12.3837 83.5715 12.4759C83.0205 12.7483 82.4901 13.0607 81.9846 13.4107C81.8147 13.5275 81.6488 13.6485 81.485 13.7715C79.461 15.3124 77.9459 17.4263 77.1359 19.8393L73.1676 31.6572C72.543 33.5106 72.3552 35.4835 72.6188 37.4217C72.6598 37.7189 72.7109 38.0141 72.7703 38.3072C72.8297 38.6004 72.9034 38.8894 72.9751 39.1764C73.0304 39.367 73.0877 39.5577 73.1512 39.7463C73.2454 40.0271 73.3559 40.308 73.4604 40.5827C73.5361 40.7651 73.616 40.9476 73.6999 41.128C73.8658 41.4867 74.0501 41.8372 74.2487 42.1796C74.4473 42.5219 74.6582 42.856 74.8958 43.1799C75.0678 43.4218 75.25 43.6596 75.4384 43.8892C75.6923 44.1967 75.9585 44.494 76.241 44.7768C77.4641 46.0113 78.9278 46.9805 80.541 47.6242L80.6107 47.6529C80.6973 47.4991 80.793 47.3505 80.8973 47.2081C81.5116 46.3655 82.5805 45.7731 83.5981 45.9945C83.6719 46.0109 83.7456 46.0335 83.8193 46.056C84.3353 46.2385 84.8431 46.5644 85.3407 46.7243C85.5217 46.8057 85.7182 46.8466 85.9166 46.8441C86.115 46.8416 86.3105 46.7958 86.4894 46.7099C87.4845 46.179 87.1159 44.5042 87.9698 43.7703C88.0096 43.7365 88.0513 43.705 88.0947 43.676C88.0826 43.6611 88.0717 43.6454 88.062 43.6289C88.7213 43.2189 89.6345 43.4915 90.3942 43.756C91.2132 44.045 92.2821 44.2398 92.8513 43.5694C93.2363 43.1102 93.2076 42.4112 93.5741 41.9295C94 41.376 94.8027 41.3145 95.4969 41.4129H95.5317C96.8626 41.9623 98.3164 41.0501 98.2141 39.613C98.0932 37.7066 98.6952 35.9006 98.8324 35.5091Z\"\r\n              fill=\"url(#paint2_linear)\"\r\n            />\r\n          </g>\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M81.1287 46.5767C81.7266 45.7567 82.7525 45.1827 83.7353 45.4062C84.7182 45.6296 85.6498 46.5664 86.5242 46.097C87.72 45.4574 86.8723 43.1061 88.8134 42.9319C89.2179 42.9051 89.623 42.9754 89.9949 43.1369C90.8139 43.471 92.0957 43.8482 92.7264 43.0959C93.097 42.6531 93.0704 41.9787 93.4247 41.5195C93.8342 40.9865 94.6143 40.9188 95.2798 41.0213L95.3125 41.0316C96.5964 41.5625 98.0011 40.6811 97.9007 39.2953C97.7717 37.4503 98.3574 35.712 98.4843 35.3348L100.917 28.0965C101.952 24.9934 101.717 21.6065 100.265 18.676C98.8126 15.7455 96.2606 13.5098 93.1666 12.4574C90.0674 11.4229 86.6852 11.6585 83.7589 13.1128C80.8326 14.567 78.6002 17.1216 77.5495 20.2185L73.7143 31.6019C72.7175 34.5957 72.9004 37.8576 74.2256 40.721C75.5508 43.5843 77.9182 45.8329 80.8441 47.0072C80.9305 46.8582 81.0255 46.7145 81.1287 46.5767Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            opacity=\"0.2\"\r\n            d=\"M85.6621 20.4154C86.3983 20.4154 86.9951 19.8179 86.9951 19.0809C86.9951 18.3438 86.3983 17.7463 85.6621 17.7463C84.9259 17.7463 84.3291 18.3438 84.3291 19.0809C84.3291 19.8179 84.9259 20.4154 85.6621 20.4154Z\"\r\n            fill=\"black\"\r\n          />\r\n          <path\r\n            opacity=\"0.2\"\r\n            d=\"M93.2424 22.9675C93.9786 22.9675 94.5754 22.37 94.5754 21.633C94.5754 20.8959 93.9786 20.2985 93.2424 20.2985C92.5062 20.2985 91.9094 20.8959 91.9094 21.633C91.9094 22.37 92.5062 22.9675 93.2424 22.9675Z\"\r\n            fill=\"black\"\r\n          />\r\n        </g>\r\n        <path\r\n          opacity=\"0.1\"\r\n          d=\"M116.616 20.3826C116.997 21.8555 117.189 23.371 117.187 24.8924C117.187 37.4524 104.06 47.6345 87.8654 47.6345C74.6111 47.6263 63.4127 40.8082 59.7905 31.4523C62.481 41.8598 74.3286 49.6967 88.5411 49.6967C104.736 49.6967 117.865 39.5147 117.865 26.9547C117.861 24.7052 117.437 22.4764 116.616 20.3826Z\"\r\n          fill=\"black\"\r\n        />\r\n        <g opacity=\"0.8\">\r\n          <path\r\n            opacity=\"0.8\"\r\n            d=\"M88.4571 52.9069C121.951 52.9069 149.104 45.8023 149.104 37.0383C149.104 28.2744 121.951 21.1697 88.4571 21.1697C54.9631 21.1697 27.8108 28.2744 27.8108 37.0383C27.8108 45.8023 54.9631 52.9069 88.4571 52.9069Z\"\r\n            fill=\"url(#paint3_linear)\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M88.4571 21.6945C56.0679 21.6945 29.8092 28.5639 29.8092 37.0404H147.105C147.105 28.5639 120.846 21.6945 88.4571 21.6945Z\"\r\n          fill=\"white\"\r\n        />\r\n        <path\r\n          d=\"M88.4571 52.3842C120.846 52.3842 147.105 45.5149 147.105 37.0404H29.8092C29.8092 45.5149 56.0679 52.3842 88.4571 52.3842Z\"\r\n          fill=\"white\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M88.4571 52.3842C120.846 52.3842 147.105 45.5149 147.105 37.0404H29.8092C29.8092 45.5149 56.0679 52.3842 88.4571 52.3842Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M112.922 33.0348H63.9922C62.0448 33.0348 60.4662 34.6152 60.4662 36.5648V37.5119C60.4662 39.4614 62.0448 41.0419 63.9922 41.0419H112.922C114.869 41.0419 116.448 39.4614 116.448 37.5119V36.5648C116.448 34.6152 114.869 33.0348 112.922 33.0348Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M27.4156 11.8507C27.2464 11.7768 27.1102 11.6433 27.0328 11.4755C26.9554 11.3077 26.9423 11.1174 26.9958 10.9405C27.0044 10.9132 27.0099 10.885 27.0122 10.8565C27.0174 10.7754 26.9963 10.6947 26.952 10.6266C26.9078 10.5584 26.8427 10.5064 26.7665 10.4783C26.6903 10.4502 26.6071 10.4475 26.5292 10.4705C26.4514 10.4936 26.383 10.5413 26.3344 10.6064C26.318 10.6294 26.3043 10.6541 26.2935 10.6802C26.22 10.8498 26.0867 10.9865 25.919 11.064C25.7513 11.1415 25.561 11.1545 25.3843 11.1004C25.357 11.092 25.3288 11.0865 25.3004 11.084C25.2193 11.0788 25.1388 11.0999 25.0707 11.1442C25.0026 11.1886 24.9507 11.2537 24.9226 11.33C24.8945 11.4063 24.8918 11.4896 24.9149 11.5675C24.9379 11.6455 24.9855 11.7139 25.0506 11.7626C25.0732 11.78 25.098 11.7945 25.1243 11.8056C25.2934 11.8795 25.4296 12.013 25.507 12.1808C25.5844 12.3486 25.5976 12.5389 25.544 12.7158C25.5356 12.7424 25.5301 12.7699 25.5277 12.7978C25.5219 12.8791 25.5427 12.9601 25.5868 13.0286C25.6308 13.0971 25.6959 13.1495 25.7722 13.1779C25.8486 13.2063 25.932 13.2091 26.0101 13.1861C26.0882 13.163 26.1567 13.1152 26.2054 13.0499C26.2222 13.0265 26.236 13.001 26.2464 12.9741C26.3216 12.8063 26.4557 12.6719 26.6232 12.5964C26.7907 12.5208 26.9801 12.5093 27.1555 12.5641C27.1828 12.5725 27.211 12.578 27.2395 12.5805C27.3205 12.5857 27.401 12.5646 27.4691 12.5203C27.5372 12.476 27.5891 12.4108 27.6172 12.3345C27.6453 12.2582 27.648 12.1749 27.625 12.097C27.6019 12.019 27.5543 11.9506 27.4893 11.902C27.4671 11.8816 27.4423 11.8644 27.4156 11.8507Z\"\r\n          fill=\"#4D8AF0\"\r\n        />\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M131.639 74.5789C131.472 74.5032 131.338 74.3689 131.263 74.2013C131.187 74.0337 131.176 73.8444 131.23 73.6687C131.238 73.6414 131.244 73.6132 131.246 73.5847C131.251 73.5036 131.23 73.4229 131.186 73.3548C131.142 73.2866 131.077 73.2346 131.001 73.2065C130.924 73.1784 130.841 73.1757 130.763 73.1988C130.685 73.2218 130.617 73.2695 130.568 73.3346C130.552 73.3576 130.538 73.3823 130.528 73.4084C130.454 73.5781 130.321 73.7147 130.153 73.7922C129.985 73.8697 129.795 73.8827 129.618 73.8286C129.591 73.8202 129.563 73.8148 129.534 73.8122C129.453 73.807 129.373 73.8281 129.305 73.8724C129.237 73.9168 129.185 73.9819 129.157 74.0582C129.129 74.1345 129.126 74.2178 129.149 74.2957C129.172 74.3737 129.22 74.4421 129.285 74.4908C129.307 74.5082 129.332 74.5227 129.358 74.5338C129.526 74.6095 129.66 74.7438 129.735 74.9114C129.81 75.079 129.822 75.2684 129.768 75.444C129.759 75.4706 129.754 75.4981 129.751 75.526C129.746 75.6073 129.766 75.6883 129.811 75.7568C129.855 75.8253 129.92 75.8777 129.996 75.9061C130.072 75.9345 130.156 75.9373 130.234 75.9143C130.312 75.8912 130.381 75.8434 130.429 75.7781C130.446 75.7547 130.46 75.7292 130.47 75.7023C130.545 75.5345 130.68 75.4001 130.847 75.3246C131.015 75.249 131.204 75.2375 131.379 75.2923C131.407 75.3007 131.435 75.3062 131.463 75.3087C131.544 75.3139 131.625 75.2928 131.693 75.2485C131.761 75.2042 131.813 75.139 131.841 75.0627C131.869 74.9864 131.872 74.9031 131.849 74.8252C131.826 74.7472 131.778 74.6788 131.713 74.6302C131.691 74.6098 131.666 74.5926 131.639 74.5789Z\"\r\n          fill=\"#4D8AF0\"\r\n        />\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M16.5632 103.688C16.394 103.614 16.2578 103.481 16.1805 103.313C16.1031 103.145 16.0899 102.955 16.1434 102.778C16.152 102.751 16.1575 102.722 16.1598 102.694C16.165 102.613 16.1439 102.532 16.0997 102.464C16.0554 102.396 15.9903 102.344 15.9141 102.316C15.8379 102.288 15.7547 102.285 15.6769 102.308C15.599 102.331 15.5307 102.379 15.4821 102.444C15.4657 102.467 15.4519 102.492 15.4411 102.518C15.3676 102.687 15.2343 102.824 15.0666 102.901C14.8989 102.979 14.7086 102.992 14.532 102.938C14.5046 102.929 14.4765 102.924 14.448 102.921C14.367 102.916 14.2864 102.937 14.2183 102.982C14.1503 103.026 14.0983 103.091 14.0702 103.167C14.0422 103.244 14.0394 103.327 14.0625 103.405C14.0856 103.483 14.1332 103.551 14.1982 103.6C14.2208 103.617 14.2456 103.632 14.2719 103.643C14.4411 103.717 14.5773 103.85 14.6547 104.018C14.732 104.186 14.7452 104.376 14.6917 104.553C14.6833 104.58 14.6778 104.607 14.6753 104.635C14.6696 104.716 14.6903 104.797 14.7344 104.866C14.7785 104.935 14.8436 104.987 14.9199 105.015C14.9962 105.044 15.0797 105.047 15.1577 105.023C15.2358 105 15.3044 104.953 15.3531 104.887C15.3699 104.864 15.3836 104.838 15.394 104.811C15.4693 104.644 15.6034 104.509 15.7709 104.434C15.9384 104.358 16.1277 104.347 16.3031 104.401C16.3305 104.41 16.3586 104.415 16.3871 104.418C16.4681 104.423 16.5487 104.402 16.6168 104.358C16.6848 104.313 16.7368 104.248 16.7649 104.172C16.7929 104.096 16.7957 104.012 16.7726 103.934C16.7495 103.856 16.7019 103.788 16.6369 103.739C16.6148 103.719 16.59 103.702 16.5632 103.688Z\"\r\n          fill=\"#4D8AF0\"\r\n        />\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M5.30128 35.835C5.13398 35.7593 5.00005 35.625 4.92464 35.4574C4.84923 35.2898 4.83754 35.1005 4.89176 34.9248C4.90035 34.8975 4.90585 34.8693 4.90814 34.8408C4.91337 34.7597 4.89227 34.679 4.848 34.6109C4.80373 34.5427 4.73865 34.4907 4.66246 34.4626C4.58627 34.4345 4.50304 34.4318 4.42518 34.4549C4.34732 34.4779 4.27899 34.5256 4.23038 34.5907C4.21398 34.6137 4.20024 34.6384 4.18943 34.6645C4.11596 34.8342 3.98265 34.9708 3.81496 35.0483C3.64726 35.1258 3.45692 35.1388 3.28028 35.0847C3.25295 35.0764 3.22481 35.0709 3.19633 35.0683C3.1153 35.0631 3.03474 35.0842 2.96667 35.1285C2.8986 35.1729 2.84665 35.238 2.81857 35.3143C2.79048 35.3906 2.78777 35.4739 2.81083 35.5518C2.83388 35.6298 2.88148 35.6982 2.94652 35.7469C2.96914 35.7643 2.99391 35.7788 3.02023 35.7899C3.18941 35.8638 3.3256 35.9973 3.40298 36.1651C3.48035 36.3329 3.49352 36.5232 3.44 36.7001C3.4316 36.7268 3.42611 36.7542 3.42362 36.7821C3.41789 36.8634 3.43862 36.9444 3.48272 37.0129C3.52681 37.0814 3.59189 37.1338 3.66821 37.1622C3.74453 37.1906 3.82798 37.1935 3.90607 37.1704C3.98416 37.1473 4.05268 37.0996 4.10138 37.0342C4.1182 37.0108 4.13197 36.9853 4.14233 36.9584C4.21761 36.7906 4.35168 36.6562 4.5192 36.5807C4.68671 36.5051 4.87607 36.4937 5.05147 36.5484C5.07881 36.5568 5.10695 36.5623 5.13543 36.5648C5.21646 36.57 5.29701 36.5489 5.36509 36.5046C5.43316 36.4603 5.4851 36.3951 5.51319 36.3188C5.54127 36.2426 5.54399 36.1592 5.52093 36.0813C5.49787 36.0033 5.45028 35.9349 5.38524 35.8863C5.35995 35.8651 5.33165 35.8478 5.30128 35.835Z\"\r\n          fill=\"#4D8AF0\"\r\n        />\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M129.592 1.39599C129.424 1.32028 129.291 1.18601 129.215 1.01842C129.14 0.850824 129.128 0.661434 129.182 0.485819C129.191 0.458508 129.196 0.430313 129.199 0.401771C129.204 0.320645 129.183 0.239999 129.138 0.17185C129.094 0.1037 129.029 0.0516942 128.953 0.0235797C128.877 -0.00453494 128.794 -0.00725296 128.716 0.0158301C128.638 0.0389132 128.569 0.0865618 128.521 0.151678C128.504 0.174646 128.491 0.199404 128.48 0.225476C128.405 0.393263 128.271 0.527629 128.103 0.603172C127.936 0.678716 127.746 0.690204 127.571 0.635464C127.543 0.627079 127.515 0.621582 127.487 0.619064C127.399 0.600528 127.307 0.614303 127.228 0.657885C127.149 0.701467 127.088 0.771966 127.056 0.856575C127.025 0.941183 127.025 1.03429 127.056 1.11898C127.087 1.20366 127.148 1.27431 127.227 1.31809C127.249 1.33556 127.274 1.35003 127.3 1.36114C127.468 1.43686 127.602 1.57112 127.677 1.73872C127.753 1.90631 127.764 2.0957 127.71 2.27132C127.702 2.29798 127.696 2.32547 127.694 2.35332C127.685 2.43773 127.705 2.52259 127.75 2.5942C127.796 2.66581 127.864 2.71997 127.944 2.74794C128.024 2.77591 128.111 2.77605 128.191 2.74834C128.272 2.72062 128.34 2.66667 128.386 2.59521C128.403 2.57178 128.416 2.54629 128.427 2.51936C128.502 2.35157 128.636 2.21721 128.804 2.14166C128.971 2.06612 129.16 2.05463 129.336 2.10937C129.363 2.11776 129.391 2.12325 129.42 2.12577C129.501 2.131 129.581 2.10989 129.649 2.06556C129.718 2.02124 129.769 1.95609 129.798 1.87981C129.826 1.80353 129.828 1.72021 129.805 1.64226C129.782 1.56432 129.735 1.49591 129.67 1.44724C129.646 1.42658 129.62 1.40933 129.592 1.39599Z\"\r\n          fill=\"#4D8AF0\"\r\n        />\r\n        <g opacity=\"0.5\">\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M23.1381 52.8578H22.5238V56.3427H23.1381V52.8578Z\"\r\n            fill=\"#47E6B1\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M24.5714 54.9077V54.2927H21.0905V54.9077H24.5714Z\"\r\n            fill=\"#47E6B1\"\r\n          />\r\n        </g>\r\n        <g opacity=\"0.5\">\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M170.567 36.4583H169.952V39.9432H170.567V36.4583Z\"\r\n            fill=\"#47E6B1\"\r\n          />\r\n          <path opacity=\"0.5\" d=\"M172 38.5082V37.8932H168.519V38.5082H172Z\" fill=\"#47E6B1\" />\r\n        </g>\r\n        <g opacity=\"0.5\">\r\n          <path opacity=\"0.5\" d=\"M150.09 93.6516H149.476V97.1365H150.09V93.6516Z\" fill=\"#47E6B1\" />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M151.524 95.7016V95.0865H148.043V95.7016H151.524Z\"\r\n            fill=\"#47E6B1\"\r\n          />\r\n        </g>\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M148.043 18.0088C148.721 18.0088 149.271 17.4581 149.271 16.7788C149.271 16.0995 148.721 15.5488 148.043 15.5488C147.364 15.5488 146.814 16.0995 146.814 16.7788C146.814 17.4581 147.364 18.0088 148.043 18.0088Z\"\r\n          fill=\"#F55F44\"\r\n        />\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M1.22857 3.8641C1.90709 3.8641 2.45714 3.31343 2.45714 2.63414C2.45714 1.95485 1.90709 1.40417 1.22857 1.40417C0.55005 1.40417 0 1.95485 0 2.63414C0 3.31343 0.55005 3.8641 1.22857 3.8641Z\"\r\n          fill=\"#F55F44\"\r\n        />\r\n        <path\r\n          opacity=\"0.5\"\r\n          d=\"M38.0857 74.5871C38.7642 74.5871 39.3143 74.0364 39.3143 73.3571C39.3143 72.6779 38.7642 72.1272 38.0857 72.1272C37.4072 72.1272 36.8571 72.6779 36.8571 73.3571C36.8571 74.0364 37.4072 74.5871 38.0857 74.5871Z\"\r\n          fill=\"#F55F44\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M47.9143 33.0922C51.7593 33.0922 54.8762 32.4498 54.8762 31.6572C54.8762 30.8647 51.7593 30.2223 47.9143 30.2223C44.0693 30.2223 40.9524 30.8647 40.9524 31.6572C40.9524 32.4498 44.0693 33.0922 47.9143 33.0922Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M47.9143 43.9569C51.7593 43.9569 54.8762 43.3144 54.8762 42.5219C54.8762 41.7294 51.7593 41.087 47.9143 41.087C44.0693 41.087 40.9524 41.7294 40.9524 42.5219C40.9524 43.3144 44.0693 43.9569 47.9143 43.9569Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M127.157 33.0922C131.002 33.0922 134.119 32.4498 134.119 31.6572C134.119 30.8647 131.002 30.2223 127.157 30.2223C123.312 30.2223 120.195 30.8647 120.195 31.6572C120.195 32.4498 123.312 33.0922 127.157 33.0922Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M127.157 43.9569C131.002 43.9569 134.119 43.3144 134.119 42.5219C134.119 41.7294 131.002 41.087 127.157 41.087C123.312 41.087 120.195 41.7294 120.195 42.5219C120.195 43.3144 123.312 43.9569 127.157 43.9569Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M88.4571 26.9424C92.3021 26.9424 95.419 26.2999 95.419 25.5074C95.419 24.7149 92.3021 24.0724 88.4571 24.0724C84.6122 24.0724 81.4952 24.7149 81.4952 25.5074C81.4952 26.2999 84.6122 26.9424 88.4571 26.9424Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M93.5762 11.9778C97.4211 11.9778 100.538 11.3354 100.538 10.5429C100.538 9.75036 97.4211 9.10791 93.5762 9.10791C89.7312 9.10791 86.6143 9.75036 86.6143 10.5429C86.6143 11.3354 89.7312 11.9778 93.5762 11.9778Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M80.2667 18.1277C84.1116 18.1277 87.2286 17.4852 87.2286 16.6927C87.2286 15.9002 84.1116 15.2578 80.2667 15.2578C76.4217 15.2578 73.3047 15.9002 73.3047 16.6927C73.3047 17.4852 76.4217 18.1277 80.2667 18.1277Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M105.862 20.7926C109.707 20.7926 112.824 20.1501 112.824 19.3576C112.824 18.5651 109.707 17.9227 105.862 17.9227C102.017 17.9227 98.9 18.5651 98.9 19.3576C98.9 20.1501 102.017 20.7926 105.862 20.7926Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          opacity=\"0.05\"\r\n          d=\"M88.4571 48.2618C92.3021 48.2618 95.419 47.6193 95.419 46.8268C95.419 46.0343 92.3021 45.3918 88.4571 45.3918C84.6122 45.3918 81.4952 46.0343 81.4952 46.8268C81.4952 47.6193 84.6122 48.2618 88.4571 48.2618Z\"\r\n          fill=\"black\"\r\n        />\r\n        <defs>\r\n          <linearGradient\r\n            id=\"paint0_linear\"\r\n            x1=\"88.4571\"\r\n            y1=\"50.3835\"\r\n            x2=\"88.4571\"\r\n            y2=\"3.86414\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop stopColor=\"#808080\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"#808080\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"#808080\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"paint1_linear\"\r\n            x1=\"-9643.98\"\r\n            y1=\"70570.5\"\r\n            x2=\"-7474.93\"\r\n            y2=\"64138.4\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop stopColor=\"#808080\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"#808080\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"#808080\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"paint2_linear\"\r\n            x1=\"-8387.01\"\r\n            y1=\"56359.2\"\r\n            x2=\"-6217.96\"\r\n            y2=\"49927.1\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop stopColor=\"#808080\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"#808080\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"#808080\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"paint3_linear\"\r\n            x1=\"52426.3\"\r\n            y1=\"8212.22\"\r\n            x2=\"52426.3\"\r\n            y2=\"3298.67\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop stopColor=\"#808080\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"#808080\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"#808080\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n        </defs>\r\n      </svg>\r\n    </>\r\n  );\r\n});\r\n","import { AppState, ClientTheme } from 'core/models';\r\nimport { createSelector } from 'reselect';\r\nimport { RouterState } from 'connected-react-router';\r\n\r\nexport const getStateUi = (state: AppState) => state.ui;\r\nexport const getStateRouter = (state: AppState) => state.router ?? ({} as RouterState);\r\n\r\nexport const getTheme = createSelector(getStateUi, (ui) => ui.theme);\r\n\r\nexport const isThemeDrak = createSelector(getTheme, (theme) => theme === ClientTheme.Dark);\r\n\r\nexport const isAppUser = createSelector(getStateUi, (ui) => ui.isAppUser);\r\n\r\nexport const getActiveModal = createSelector(getStateUi, (ui) => ui.activeModal);\r\n\r\nexport const getBoardUiState = createSelector(getStateUi, (ui) => ui.board);\r\nexport const getMembershipUiState = createSelector(getStateUi, (ui) => ui.membership);\r\n\r\nexport const isAdsShown = createSelector(getStateUi, (ui) => ui.showAds);\r\n","import React from 'react';\r\nimport { PanelHeader, Div, Group, Title, Text, Spinner } from '@vkontakte/vkui';\r\nimport { AlienOffline } from 'assets/svg/AlienOffline';\r\nimport { useFela } from 'react-fela';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getStateUi } from 'core/selectors/common';\r\nimport { AppDispatchActions, FetchingStateName } from 'core/models';\r\n\r\nexport const Offline = React.memo(() => {\r\n  const { css } = useFela();\r\n  const online = useSelector(getStateUi).online;\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  React.useEffect(() => {\r\n    if (online) {\r\n      dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.User });\r\n      dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.Ads });\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: 'HANDLE_ACTIVATE_INIT',\r\n          payload: true,\r\n        });\r\n      }, 1200);\r\n    }\r\n  }, [online]);\r\n\r\n  return (\r\n    <>\r\n      <PanelHeader separator={false} />\r\n      <Group separator=\"hide\" className={css({ height: '40vh' })}>\r\n        <Div\r\n          className={css({\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            height: '100%',\r\n          })}\r\n        >\r\n          <AlienOffline\r\n            className={css({\r\n              display: 'flex',\r\n              marginTop: 'auto',\r\n              marginBottom: '2rem',\r\n              alignSelf: 'center',\r\n            })}\r\n          />\r\n        </Div>\r\n      </Group>\r\n      <Group separator=\"hide\" className={css({ textAlign: 'center' })}>\r\n        <Title weight=\"bold\" level=\"2\" className=\"useMonrope manropeBold\">\r\n          Нет интернета\r\n        </Title>\r\n      </Group>\r\n      <Group separator=\"hide\">\r\n        <Div\r\n          className={css({\r\n            marginBottom: '1.5rem',\r\n            visibility: online ? 'visible' : 'hidden',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          })}\r\n        >\r\n          <Text weight=\"medium\">Пытаемся восстановить соединение</Text>\r\n          <Spinner size=\"small\" className={css({ marginTop: '.5rem' })} />\r\n        </Div>\r\n      </Group>\r\n    </>\r\n  );\r\n});\r\n","import { createSelector, createStructuredSelector } from 'reselect';\r\nimport { getStateRouter, getStateUi } from './common';\r\nimport { matchPath } from 'react-router';\r\nimport { AppState, appId, MainView } from 'core/models';\r\n\r\nexport const getLocationNotificationEnabled = createSelector(\r\n  getStateRouter,\r\n  (router) => Number((router?.location as any).query?.vk_are_notifications_enabled) ?? 0\r\n);\r\nexport const getLocationVkAppId = createSelector(\r\n  getStateRouter,\r\n  (router) => Number((router?.location as any).query?.vk_app_id) || appId\r\n);\r\nexport const getLocationUserId = createSelector(\r\n  getStateRouter,\r\n  (router) => Number((router?.location as any).query?.vk_user_id) || 0\r\n);\r\n\r\nexport const getLocationPathName = createSelector(\r\n  getStateRouter,\r\n  (router) => router?.location.pathname ?? ''\r\n);\r\n\r\nexport const getLocationMainPath = createSelector(getLocationPathName, (pathName) => {\r\n  const match = matchPath<{ main: string }>(pathName, { path: '/:main' });\r\n  return match ? match.params.main : null;\r\n});\r\n\r\nexport const getLocationSubPath = createSelector(getLocationPathName, (pathName) => {\r\n  const match = matchPath<{ sub: string }>(pathName, { path: '/:main/:sub' });\r\n  return match ? match.params.sub : null;\r\n});\r\n\r\nexport const getLocationPathes = createStructuredSelector<\r\n  AppState,\r\n  { main: string | null; sub: string | null }\r\n>({\r\n  main: getLocationMainPath,\r\n  sub: getLocationSubPath,\r\n});\r\n\r\nexport const getActiveMainView = createSelector(getStateUi, getLocationMainPath, (ui, mainPath) => {\r\n  if (!ui.online) {\r\n    return MainView.Offline;\r\n  }\r\n\r\n  if (!ui.isAppUser) {\r\n    return MainView.Welcome;\r\n  }\r\n\r\n  if (mainPath === null) {\r\n    return MainView.Board;\r\n  }\r\n\r\n  switch (mainPath) {\r\n    case MainView.ListMembership:\r\n      return MainView.ListMembership;\r\n    case MainView.ListSharePreview:\r\n      return MainView.ListSharePreview;\r\n    case MainView.About:\r\n      return MainView.About;\r\n\r\n    default:\r\n      return MainView.Board;\r\n  }\r\n});\r\n","import { createSelector } from 'reselect';\r\nimport { getStateUi } from './common';\r\nimport { FetchingStateName, FetchingDataType, FetchingStatus } from 'core/models';\r\nimport { UserInfo } from '@vkontakte/vk-bridge';\r\nimport { getLocationUserId } from './router';\r\n\r\nconst getUserDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.User] ?? {}) as FetchingDataType<UserInfo>\r\n);\r\nconst getUserSKeysDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.UserSKeys] ?? {}) as FetchingDataType<undefined>\r\n);\r\n\r\nexport const getUserDataStatus = createSelector(getUserDataState, (userData) => userData.status);\r\nexport const getUserSKeysDataStatus = createSelector(\r\n  getUserSKeysDataState,\r\n  (userData) => userData.status\r\n);\r\nexport const isUserDataUpdating = createSelector(\r\n  getUserDataStatus,\r\n  getUserSKeysDataStatus,\r\n  (status, keysStatus) =>\r\n    status === FetchingStatus.Updating || keysStatus === FetchingStatus.Updating\r\n);\r\nexport const getUserInfo = createSelector(getUserDataState, (userData) => userData.data);\r\n\r\nexport const getUserId = createSelector(\r\n  getUserDataState,\r\n  getLocationUserId,\r\n  (userData, locationUserId) => userData.data?.id ?? locationUserId\r\n);\r\n\r\nexport const getQToQuery = createSelector(getStateUi, (ui) => ui?.initialQuery ?? '');\r\n","import { createSelector } from 'reselect';\r\nimport { getStateUi, getBoardUiState } from './common';\r\nimport { FetchingStateName, FetchingDataType, BoardListItem, FetchingStatus } from 'core/models';\r\nimport { getUserId, isUserDataUpdating } from './user';\r\n\r\nconst getBoardListsDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.Board] ?? {}) as FetchingDataType<BoardListItem[]>\r\n);\r\n\r\nexport const isBoardUpdating = createSelector(\r\n  getBoardListsDataState,\r\n  isUserDataUpdating,\r\n  (dataState, userUpdating) => dataState.status === FetchingStatus.Updating || userUpdating\r\n);\r\n\r\nexport const getBoardListData = createSelector(\r\n  getBoardListsDataState,\r\n  (dataState) => dataState.data ?? []\r\n);\r\n\r\nexport const getBoardLists = createSelector(getBoardListData, getUserId, (data, userId) =>\r\n  data.map((d) => ({\r\n    ...d,\r\n    isOwner: d.createdBy === userId,\r\n  }))\r\n);\r\n\r\nexport const getNewTaskValues = createSelector(getBoardUiState, (board) => board.newTask);\r\nexport const getEditTaskValues = createSelector(getBoardUiState, (board) => board.editedTask);\r\n","import React from 'react';\r\nimport './styleCbx.css';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch } from 'react-redux';\r\nimport { AppDispatchActions } from 'core/models';\r\n\r\ntype Props = {\r\n  id: number;\r\n  name: string;\r\n};\r\n\r\nexport const TaskCheckLabel = React.memo<Props>(({ id, name }) => {\r\n  const { css } = useFela();\r\n  const uniqId = `${id}-${name}`;\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.checked) {\r\n      dispatch({\r\n        type: 'FINISH_TASK',\r\n        payload: id,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: 'REMOVE_FINISH_TASK',\r\n        payload: id,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <span className={css({ height: '28px' })} onClick={(e) => e.stopPropagation()}>\r\n      <input\r\n        id={uniqId}\r\n        className=\"inp-cbx\"\r\n        type=\"checkbox\"\r\n        style={{ display: 'none' }}\r\n        onChange={handleChange}\r\n      />\r\n      <label htmlFor={uniqId} className=\"cbx\">\r\n        <span>\r\n          <svg width=\"12px\" height=\"9px\" viewBox=\"0 0 12 9\">\r\n            <polyline points=\"1 5 4 8 11 1\" />\r\n          </svg>\r\n        </span>\r\n        <div className={`useMonrope ${css({ fontSize: '15px', fontWeight: 500 })}`}>{name}</div>\r\n      </label>\r\n    </span>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport './styleCbx.css';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch } from 'react-redux';\r\nimport { AppDispatchActions } from 'core/models';\r\n\r\ntype Props = {\r\n  id: number;\r\n  name: string;\r\n};\r\n\r\nexport const TaskCheckedLabel = React.memo<Props>(({ id, name }) => {\r\n  const { css } = useFela();\r\n  const uniqId = `${id}-${name}`;\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (!e.target.checked) {\r\n      dispatch({\r\n        type: 'UNFINISH_TASK',\r\n        payload: id,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: 'REMOVE_UNFINISH_TASK',\r\n        payload: id,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <span className={css({ height: '28px' })} onClick={(e) => e.stopPropagation()}>\r\n      <input\r\n        id={uniqId}\r\n        className=\"inp-cbx\"\r\n        type=\"checkbox\"\r\n        style={{ display: 'none' }}\r\n        onChange={handleChange}\r\n        defaultChecked\r\n      />\r\n      <label htmlFor={uniqId} className=\"cbx\">\r\n        <span>\r\n          <svg width=\"12px\" height=\"9px\" viewBox=\"0 0 12 9\">\r\n            <polyline points=\"1 5 4 8 11 1\" />\r\n          </svg>\r\n        </span>\r\n        <div className={`useMonrope ${css({ fontSize: '15px', fontWeight: 500 })}`}>{name}</div>\r\n      </label>\r\n    </span>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20RecentOutline from '@vkontakte/icons/dist/20/recent_outline';\r\nimport { BoardTaskItem } from 'core/models';\r\nimport { UsersStack, Text } from '@vkontakte/vkui';\r\nimport { useSelector } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { ru } from 'date-fns/locale';\r\nimport { format } from 'date-fns';\r\n\r\ntype Props = {\r\n  task: BoardTaskItem;\r\n};\r\n\r\nexport const TaskInfo = React.memo<Props>(\r\n  ({ task: { dueDate, memberships = [], description } }) => {\r\n    const dark = useSelector(isThemeDrak);\r\n    const { css } = useFela();\r\n    return (\r\n      <span\r\n        className={css({\r\n          display: 'flex',\r\n          marginTop: '18px',\r\n          color: dark ? '#AEAEAE' : '#6A6A6A',\r\n        })}\r\n      >\r\n        {description && <Icon20ArticleOutline className={css(iconStyle)} />}\r\n        <TimeInfo dueDate={dueDate} />\r\n        {memberships?.length > 1 ? (\r\n          <UsersStack\r\n            photos={memberships.map((m) => m.avatar)}\r\n            visibleCount={4}\r\n            size=\"m\"\r\n            className={css({ padding: 0 })}\r\n            layout=\"vertical\"\r\n          />\r\n        ) : null}\r\n      </span>\r\n    );\r\n  }\r\n);\r\n\r\nconst iconStyle = () => ({\r\n  marginBottom: '18px',\r\n  alignSelf: 'center',\r\n  marginRight: '1rem',\r\n  width: '22px !important',\r\n  height: '22px !important',\r\n  '>svg': { width: '22px', height: '22px' },\r\n});\r\n\r\nconst TimeInfo = React.memo<Pick<Props['task'], 'dueDate'>>(({ dueDate }) => {\r\n  const { css } = useFela();\r\n  if (dueDate === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Icon20RecentOutline className={css(iconStyle)} />\r\n      <Text\r\n        weight=\"semibold\"\r\n        className={`useMonrope ${css({\r\n          fontSize: '13px',\r\n          whiteSpace: 'nowrap',\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          alignSelf: 'center',\r\n          marginBottom: '18px',\r\n        })}`}\r\n      >\r\n        {format(new Date(dueDate), 'dd MMMM', { locale: ru })}\r\n      </Text>\r\n    </>\r\n  );\r\n});\r\n","import { createSelector, createStructuredSelector } from 'reselect';\r\nimport {\r\n  FetchingStateName,\r\n  FetchingDataType,\r\n  FetchingStatus,\r\n  BoardTaskItem,\r\n  AppState,\r\n} from 'core/models';\r\nimport { getStateUi, getBoardUiState } from './common';\r\n\r\nconst getTaskDeleteDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.DeleteTask] ?? {}) as FetchingDataType<boolean>\r\n);\r\n\r\nconst getPostNewTaskDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.NewTask] ?? {}) as FetchingDataType<number>\r\n);\r\nconst getTasksDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.Tasks] ?? {}) as FetchingDataType<BoardTaskItem[]>\r\n);\r\nconst getEditTaskDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.EditTask] ?? {}) as FetchingDataType<boolean>\r\n);\r\n\r\nexport const isTasksUpdating = createSelector(\r\n  getTasksDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\n\r\nexport const getTasksData = createSelector(getTasksDataState, (dataState) => dataState.data ?? []);\r\n\r\nexport const getFinishedTasksCount = createSelector(\r\n  getTasksData,\r\n  (tasks) => tasks.filter((t) => t.finished !== null).length\r\n);\r\n\r\nexport const isNewTaskUpdating = createSelector(\r\n  getPostNewTaskDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\nexport const isNewTaskError = createSelector(\r\n  getPostNewTaskDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Error\r\n);\r\nexport const getNewTaskError = createSelector(\r\n  getPostNewTaskDataState,\r\n  (dataState) => dataState.error\r\n);\r\nexport const getNewTaskData = createSelector(\r\n  getPostNewTaskDataState,\r\n  (dataState) => dataState.data\r\n);\r\n\r\nexport const getNewTaskInfo = createStructuredSelector<\r\n  AppState,\r\n  {\r\n    newTaskId: number;\r\n    error: any;\r\n    hasError: boolean;\r\n    updating: boolean;\r\n  }\r\n>({\r\n  newTaskId: getNewTaskData,\r\n  error: getNewTaskError,\r\n  hasError: isNewTaskError,\r\n  updating: isNewTaskUpdating,\r\n});\r\n\r\nexport const isTaskDeleteUpdating = createSelector(\r\n  getTaskDeleteDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\n\r\nexport const isEditTaskUpdating = createSelector(\r\n  getEditTaskDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\nexport const isEditTaskError = createSelector(\r\n  getEditTaskDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Error\r\n);\r\nexport const getEditTaskError = createSelector(\r\n  getEditTaskDataState,\r\n  (dataState) => dataState.error\r\n);\r\n\r\nexport const isNotSameSelectedAndEdit = createSelector(getBoardUiState, (board): boolean => {\r\n  const { editedTask, selectedTask } = board;\r\n\r\n  return !!(\r\n    editedTask.name !== selectedTask.name ||\r\n    editedTask.description !== selectedTask.description ||\r\n    editedTask.dueDate !== selectedTask.dueDate\r\n  );\r\n});\r\n\r\nexport const isEditTaskReady = createSelector(\r\n  getEditTaskDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Ready\r\n);\r\n\r\nexport const getEditTaskInfo = createStructuredSelector<\r\n  AppState,\r\n  {\r\n    notSameData: boolean;\r\n    taskReady: boolean;\r\n    error: any;\r\n    hasError: boolean;\r\n    updating: boolean;\r\n  }\r\n>({\r\n  notSameData: isNotSameSelectedAndEdit,\r\n  taskReady: isEditTaskReady,\r\n  error: getEditTaskError,\r\n  hasError: isEditTaskError,\r\n  updating: isEditTaskUpdating,\r\n});\r\n\r\nexport const getSelectedTaskInfo = createSelector(getBoardUiState, (board) => board.selectedTask);\r\nexport const getSelectedTaskId = createSelector(getSelectedTaskInfo, (task) => task.id);\r\nexport const getSelectedTaskGUID = createSelector(getSelectedTaskInfo, (task) => task.taskGUID);\r\n","import { createSelector } from 'reselect';\r\nimport { getStateUi } from './common';\r\nimport { FetchingStateName, FetchingDataType, FetchingStatus, payToUserId } from 'core/models';\r\nimport { getUserId } from './user';\r\n\r\nconst getPaymentInfoDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.PaymentInfo] ?? {}) as FetchingDataType<boolean>\r\n);\r\nconst getPaymentProccessDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.PaymentProccess] ?? {}) as FetchingDataType<boolean>\r\n);\r\n\r\nconst getLastGoogleSyncProccessDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.LastGoogleSync] ?? {}) as FetchingDataType<number>\r\n);\r\n\r\nexport const isPaymentUpdating = createSelector(\r\n  getPaymentInfoDataState,\r\n  getPaymentProccessDataState,\r\n  (info, proccess) =>\r\n    info.status === FetchingStatus.Updating || proccess.status === FetchingStatus.Updating\r\n);\r\n\r\nexport const hasUserPremium = createSelector(\r\n  getPaymentInfoDataState,\r\n  getUserId,\r\n  (dataState, userId) => dataState.data ?? (false || userId === payToUserId)\r\n);\r\n\r\nexport const getLastGoogleSyncHrs = createSelector(\r\n  getLastGoogleSyncProccessDataState,\r\n  (dataState) => dataState.data ?? 24\r\n);\r\n\r\nexport const isLastGoogleSyncUpdating = createSelector(\r\n  getLastGoogleSyncProccessDataState,\r\n  getStateUi,\r\n  (info, ui) => info.status === FetchingStatus.Updating || ui.googleSyncProccess\r\n);\r\n","import { createSelector } from 'reselect';\r\nimport { getStateUi, getBoardUiState } from './common';\r\nimport {\r\n  FetchingStateName,\r\n  FetchingDataType,\r\n  FetchingStatus,\r\n  MaxFreeListsPerPerson,\r\n} from 'core/models';\r\nimport { isBoardUpdating, getBoardLists } from './board';\r\nimport { getUserId } from './user';\r\nimport { hasUserPremium } from './payment';\r\n\r\nconst getNewListDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.NewBoardList] ?? {}) as FetchingDataType<boolean>\r\n);\r\nconst getEditListDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.EditBoardList] ?? {}) as FetchingDataType<boolean>\r\n);\r\nconst getDeleteListDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.DeleteBoardList] ?? {}) as FetchingDataType<boolean>\r\n);\r\nconst getFirstListDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.FirstBoardList] ?? {}) as FetchingDataType<boolean>\r\n);\r\n\r\nexport const isFirstListUpdating = createSelector(\r\n  getFirstListDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\nexport const isNewListUpdating = createSelector(\r\n  getNewListDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\n\r\nexport const isNewListCreated = createSelector(\r\n  getNewListDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Ready && !!dataState.data\r\n);\r\n\r\nexport const isEditListUpdating = createSelector(\r\n  getEditListDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\n\r\nexport const isEditListCreated = createSelector(\r\n  getEditListDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Ready && !!dataState.data\r\n);\r\n\r\nexport const isDeleteListUpdating = createSelector(\r\n  getDeleteListDataState,\r\n  isBoardUpdating,\r\n  (dataState, boardUpdating) => dataState.status === FetchingStatus.Updating || boardUpdating\r\n);\r\n\r\nexport const isListMembershipOpenedByOwner = createSelector(\r\n  getBoardLists,\r\n  getBoardUiState,\r\n  (list, { boardListOpenId }) => list.find((l) => l.id === boardListOpenId)?.isOwner\r\n);\r\n\r\nexport const getSelectedList = createSelector(getBoardUiState, (board) => board.selectedList);\r\nexport const getSelectedListTasks = createSelector(getSelectedList, (list) =>\r\n  list.tasks.filter((t) => t.finished === null)\r\n);\r\nexport const getFinishedListTasks = createSelector(getSelectedList, (list) =>\r\n  list.tasks.filter((t) => t.finished !== null)\r\n);\r\nexport const getSelectedListId = createSelector(getSelectedList, (list) => list.id);\r\nexport const selectedBoardListInfo = createSelector(getSelectedList, (list) => list.data);\r\n\r\nexport const canUserContinueCreateLists = createSelector(\r\n  getBoardLists,\r\n  getUserId,\r\n  hasUserPremium,\r\n  (data, userId, hasPremium) =>\r\n    data.filter((d) => d.createdBy === userId).length < MaxFreeListsPerPerson || hasPremium\r\n);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { UsersStack } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { selectedBoardListInfo } from 'core/selectors/boardLists';\r\n\r\nexport const ListMembershipStack = React.memo(() => {\r\n  const { memberships } = useSelector(selectedBoardListInfo);\r\n  const { css } = useFela();\r\n\r\n  return memberships?.length > 1 ? (\r\n    <UsersStack\r\n      photos={memberships.map((m) => m.avatar)}\r\n      visibleCount={3}\r\n      size=\"m\"\r\n      className={css({ paddingTop: '12px', paddingRight: 0 })}\r\n      layout=\"vertical\"\r\n    />\r\n  ) : null;\r\n});\r\n","import { useState, useMemo } from 'react';\r\nimport { vkBridge } from 'core/vk-bridge/instance';\r\n\r\nexport const useViewChange = <T = {}>(viewEnum: T, defaultKeyView: keyof T, withSwipe = false) => {\r\n  const defaultView = useMemo(() => viewEnum[defaultKeyView], [viewEnum, defaultKeyView]);\r\n\r\n  const [viewState, setView] = useState({\r\n    activePanel: defaultView,\r\n    history: [defaultView],\r\n  });\r\n\r\n  const goBack = () => {\r\n    if (viewState.history.length === 1) {\r\n      return;\r\n    }\r\n    const history = [...viewState.history];\r\n    history.pop();\r\n\r\n    const activePanel = history[history.length - 1];\r\n    if (activePanel === defaultView && withSwipe) {\r\n      vkBridge.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    setView({ history, activePanel });\r\n  };\r\n\r\n  const goForward = (activePanel: T[keyof T]) => {\r\n    const history = [...viewState.history];\r\n    history.push(activePanel);\r\n\r\n    if (viewState.activePanel === defaultView && withSwipe) {\r\n      vkBridge.send('VKWebAppEnableSwipeBack');\r\n    }\r\n    setView({ history, activePanel });\r\n  };\r\n\r\n  return {\r\n    goBack,\r\n    goForward,\r\n    activeView: viewState.activePanel,\r\n    history: viewState.history,\r\n  };\r\n};\r\n","import { useCallback, useRef } from 'react';\r\n\r\nexport const useLongPress = <T = Element>(\r\n  onLongPress: (e?: React.MouseEvent<T, MouseEvent> | React.TouchEvent<T>) => void,\r\n  { shouldPreventDefault = false, delay = 500 } = {}\r\n) => {\r\n  const timeout = useRef<NodeJS.Timeout>();\r\n  const target = useRef<EventTarget>();\r\n\r\n  const start = useCallback(\r\n    (e: React.MouseEvent<T, MouseEvent> | React.TouchEvent<T>) => {\r\n      if (shouldPreventDefault && e.target) {\r\n        e.target.addEventListener('touchend', preventDefault, {\r\n          passive: false,\r\n        });\r\n        target.current = e.target;\r\n      }\r\n      timeout.current = setTimeout(() => {\r\n        onLongPress(e);\r\n      }, delay);\r\n    },\r\n    [onLongPress, delay, shouldPreventDefault]\r\n  );\r\n\r\n  const clear = useCallback(\r\n    (e: React.MouseEvent<T, MouseEvent> | React.TouchEvent<T>) => {\r\n      timeout.current && clearTimeout(timeout.current);\r\n      if (shouldPreventDefault && target.current) {\r\n        target.current.removeEventListener('touchend', preventDefault);\r\n      }\r\n    },\r\n    [shouldPreventDefault]\r\n  );\r\n\r\n  return {\r\n    onMouseDown: (e: React.MouseEvent<T, MouseEvent>) => start(e),\r\n    onTouchStart: (e: React.TouchEvent<T>) => start(e),\r\n    onMouseUp: (e: React.MouseEvent<T, MouseEvent>) => clear(e),\r\n    onMouseLeave: (e: React.MouseEvent<T, MouseEvent>) => clear(e),\r\n    onTouchEnd: (e: React.TouchEvent<T>) => clear(e),\r\n  };\r\n};\r\n\r\nconst isTouchEvent = (e: Event) => {\r\n  return 'touches' in e;\r\n};\r\n\r\nconst preventDefault = (e: Event) => {\r\n  if (!isTouchEvent(e)) return;\r\n\r\n  if ((e as any).touches.length < 2 && e.preventDefault) {\r\n    e.preventDefault();\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { useInterval } from 'core/hooks';\r\nimport { FINISH_TASK_TIMER_VALUE, AppDispatchActions } from 'core/models';\r\nimport { Progress } from '@vkontakte/vkui';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getBoardUiState } from 'core/selectors/common';\r\n\r\nexport const ListProgress = React.memo(() => {\r\n  const { tasksToBeFinishedTimer } = useSelector(getBoardUiState);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  useInterval(\r\n    () => {\r\n      if (tasksToBeFinishedTimer > 0) {\r\n        dispatch({ type: 'SET_FINISH_TASK_TIMER', payload: tasksToBeFinishedTimer - 5 });\r\n      }\r\n    },\r\n    tasksToBeFinishedTimer > 0 ? 5 : null\r\n  );\r\n\r\n  const calcValue = Number(((tasksToBeFinishedTimer / FINISH_TASK_TIMER_VALUE) * 100).toFixed(0));\r\n\r\n  return <Progress value={calcValue} />;\r\n});\r\n","import { useEffect, useRef } from 'react';\r\n\r\nexport const useInterval = (callback: () => void, delay: number | null) => {\r\n  const savedCallback = useRef<() => void>();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      if (savedCallback.current) savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, 1);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n};\r\n","import { createSelector } from 'reselect';\r\nimport { getStateUi, getBoardUiState, getMembershipUiState } from './common';\r\nimport {\r\n  FetchingStateName,\r\n  FetchingDataType,\r\n  FetchingStatus,\r\n  MembershipListPreview,\r\n} from 'core/models';\r\nimport { getBoardListData, isBoardUpdating } from './board';\r\nimport { getUserId } from './user';\r\n\r\nconst getDropMembershipDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.DropMembership] ?? {}) as FetchingDataType<boolean>\r\n);\r\n\r\nconst getPreviewMembershipDataState = createSelector(\r\n  getStateUi,\r\n  (ui) =>\r\n    (ui.fetchingDatas[FetchingStateName.ListMembershipPreview] ?? {}) as FetchingDataType<\r\n      MembershipListPreview\r\n    >\r\n);\r\n\r\nconst getSaveMembershipDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.SaveMembership] ?? {}) as FetchingDataType<boolean>\r\n);\r\n\r\nexport const isDropMembershipUpdating = createSelector(\r\n  getDropMembershipDataState,\r\n  isBoardUpdating,\r\n  (dataState, boardUpdating) => dataState.status === FetchingStatus.Updating || boardUpdating\r\n);\r\n\r\nexport const isPreviewMembershipReady = createSelector(\r\n  getPreviewMembershipDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Ready && !!dataState.data\r\n);\r\nexport const getPreviewMembershipData = createSelector(\r\n  getPreviewMembershipDataState,\r\n  (dataState) => dataState.data ?? { id: 0, name: '' }\r\n);\r\n\r\nexport const isSaveMembershipUpdating = createSelector(\r\n  getSaveMembershipDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Updating\r\n);\r\nexport const isSaveMembershipReady = createSelector(\r\n  getSaveMembershipDataState,\r\n  (dataState) => dataState.status === FetchingStatus.Ready\r\n);\r\n\r\nexport const getMembershipList = createSelector(\r\n  getBoardListData,\r\n  getBoardUiState,\r\n  getUserId,\r\n  (data, { boardListOpenId }, userId) =>\r\n    (data.find((d) => d.id === boardListOpenId)?.memberships ?? []).filter(\r\n      (m) => m.userId !== userId\r\n    )\r\n);\r\n\r\nexport const getUserFirstNameToDelete = createSelector(\r\n  getMembershipList,\r\n  getMembershipUiState,\r\n  (list, { dropUserId }) => list.find(ml => ml.userId === dropUserId)?.firstName\r\n)\r\n","import React from 'react';\r\nimport { Div, List, Avatar, SimpleCell, Spinner } from '@vkontakte/vkui';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getMembershipList, isDropMembershipUpdating } from 'core/selectors/membership';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport { useFela } from 'react-fela';\r\nimport { isThemeDrak, getMembershipUiState } from 'core/selectors/common';\r\nimport { AppDispatchActions, ActiveModal } from 'core/models';\r\nimport { isListMembershipOpenedByOwner } from 'core/selectors/boardLists';\r\n\r\nexport const ListMembershipLayout = React.memo(() => {\r\n  const list = useSelector(getMembershipList);\r\n  const updating = useSelector(isDropMembershipUpdating);\r\n\r\n  return (\r\n    <Div>\r\n      <List>\r\n        {list.map((m) => (\r\n          <SimpleCell\r\n            key={m.userId}\r\n            before={<Avatar size={40} src={m.avatar} />}\r\n            href={!updating ? `https://vk.com/id${m.userId}` : undefined}\r\n            target=\"_blank\"\r\n            after={<DropMembershipItem updating={updating} userId={m.userId} />}\r\n            disabled={updating}\r\n          >\r\n            {m.name}\r\n          </SimpleCell>\r\n        ))}\r\n      </List>\r\n    </Div>\r\n  );\r\n});\r\n\r\ntype Props = {\r\n  userId: number;\r\n  updating: boolean;\r\n};\r\n\r\nconst DropMembershipItem: React.FC<Props> = ({ userId, updating }) => {\r\n  const { dropUserId } = useSelector(getMembershipUiState);\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const canDropMembership = useSelector(isListMembershipOpenedByOwner);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const handleDropMembership = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (updating) {\r\n      return;\r\n    }\r\n\r\n    dispatch({\r\n      type: 'DROP_MEMBER_SHIP_ID',\r\n      payload: userId,\r\n    });\r\n    dispatch({\r\n      type: 'SET_MODAL',\r\n      payload: ActiveModal.DropMembership,\r\n    });\r\n  };\r\n\r\n  if (!canDropMembership) {\r\n    return null;\r\n  }\r\n\r\n  if (updating && dropUserId === userId) {\r\n    return (\r\n      <Spinner\r\n        size=\"regular\"\r\n        className={css({\r\n          '>div': {\r\n            color: dark ? '#5F5F5F !important' : '#CFCFCF !important',\r\n            padding: '0 !important',\r\n          },\r\n          padding: '10px 2px 10px 10px',\r\n        } as any)}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Icon24Cancel\r\n      className={css({ color: dark ? '#5F5F5F !important' : '#CFCFCF !important' })}\r\n      onClick={handleDropMembership}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useFela, CssFelaStyle } from 'react-fela';\r\nimport { CardGrid, Card } from '@vkontakte/vkui';\r\nimport { useSelector } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\ntype Props = {\r\n  height?: number;\r\n};\r\n\r\nexport const LoadingCard = React.memo<Props>(({ height = 112 }) => {\r\n  const dark = useSelector(isThemeDrak);\r\n  const { css } = useFela({ dark });\r\n\r\n  return (\r\n    <CardGrid\r\n      className={css({\r\n        padding: 0,\r\n        marginBottom: '1rem',\r\n      })}\r\n    >\r\n      <Card\r\n        size=\"l\"\r\n        className={css(\r\n          {\r\n            borderRadius: '17px !important',\r\n            backgroundColor: dark ? 'transparent' : '#FBFBFB',\r\n            padding: '18px',\r\n            width: 'calc(100% - 36px) !important',\r\n          },\r\n          shimmerAnimation\r\n        )}\r\n      >\r\n        <div style={{ height }} />\r\n      </Card>\r\n    </CardGrid>\r\n  );\r\n});\r\n\r\nconst shimmerAnimation: CssFelaStyle<{}, { dark: boolean }> = ({ dark }) => ({\r\n  backgroundImage: dark\r\n    ? 'linear-gradient(to right, #AEAEAE 0%, #edeef1 20%, #AEAEAE 40%, #AEAEAE 100%)'\r\n    : 'linear-gradient(to right, #FBFBFB 0%, #edeef1 20%, #FBFBFB 40%, #FBFBFB 100%)',\r\n  backgroundRepeat: 'no-repeat',\r\n\r\n  animationDuration: '1s',\r\n  animationFillMode: 'forwards',\r\n  animationIterationCount: 'infinite',\r\n  animationTimingFunction: 'linear',\r\n  animationName: ({\r\n    '0%': {\r\n      backgroundPosition: '-468px 0',\r\n    },\r\n\r\n    '100%': {\r\n      backgroundPosition: '468px 0',\r\n    },\r\n  } as unknown) as string,\r\n});\r\n","import React from 'react';\r\nimport { LoadingCard } from './LoadingCard';\r\nimport { useTransition, useChain, animated } from 'react-spring';\r\n\r\ntype Props = {\r\n  cards: number[];\r\n};\r\n\r\nexport const LoadingCardChain = React.memo<Props>(({ cards }) => {\r\n  const transRef = React.useRef<any>();\r\n\r\n  const transition = useTransition(cards, {\r\n    from: {\r\n      transform: 'scale(0)',\r\n    },\r\n    enter: {\r\n      transform: 'scale(1)',\r\n    },\r\n    ref: transRef,\r\n  });\r\n\r\n  useChain([transRef], [0, 0.1]);\r\n\r\n  return transition((style, card) => {\r\n    return (\r\n      <animated.div style={style}>\r\n        <LoadingCard height={card} />\r\n      </animated.div>\r\n    );\r\n  });\r\n});\r\n","import { getStateUi } from './common';\r\nimport { createSelector } from 'reselect';\r\nimport { FetchingStateName, FetchingDataType, BannerData } from 'core/models';\r\n\r\nconst getAdsDataState = createSelector(\r\n  getStateUi,\r\n  (ui) => (ui.fetchingDatas[FetchingStateName.Ads] ?? {}) as FetchingDataType<BannerData>\r\n);\r\n\r\nexport const getAdsData = createSelector(getAdsDataState, (adsState) => adsState.data);\r\n","import React from 'react';\r\nimport { PromoBanner, CardGrid, Card } from '@vkontakte/vkui';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getAdsData } from 'core/selectors/ads';\r\nimport { AppDispatchActions } from 'core/models';\r\nimport { useFela } from 'react-fela';\r\nimport { isThemeDrak, isAdsShown } from 'core/selectors/common';\r\n\r\nexport const AdsBanner = React.memo(() => {\r\n  const { css } = useFela();\r\n  const adsData = useSelector(getAdsData);\r\n  const adsBanner = useSelector(isAdsShown);\r\n  const dark = useSelector(isThemeDrak);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const hideAds = React.useCallback(() => {\r\n    dispatch({ type: 'SET_ADS', payload: false });\r\n  }, [dispatch]);\r\n\r\n  if (!adsData || !adsBanner) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <CardGrid\r\n      className={css({\r\n        padding: 0,\r\n        marginBottom: '1rem',\r\n      })}\r\n    >\r\n      <Card\r\n        size=\"l\"\r\n        className={css({\r\n          borderRadius: '17px !important',\r\n          padding: '0',\r\n          boxShadow: '0px 2px 8px rgba(0, 0, 0, 0.02)',\r\n          border: `1px solid ${dark ? '#343434' : '#F7F7F7'}`,\r\n          overflow: 'hidden',\r\n        })}\r\n      >\r\n        <div style={{ minHeight: 28 }}>\r\n          <PromoBanner\r\n            className={css({ outline: 'none' })}\r\n            onClose={hideAds}\r\n            bannerData={adsData}\r\n          />\r\n        </div>\r\n      </Card>\r\n    </CardGrid>\r\n  );\r\n});\r\n","import React from 'react';\r\n\r\ntype Props = {\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nexport const NoTasks = React.memo<Props>(({ className = '', style = {} }) => {\r\n  return (\r\n    <>\r\n      <svg\r\n        width=\"177\"\r\n        height=\"169\"\r\n        viewBox=\"0 0 177 169\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}\r\n        style={style}\r\n      >\r\n        <g clipPath=\"url(#clip0)\">\r\n          <mask\r\n            id=\"mask0\"\r\n            mask-type=\"alpha\"\r\n            maskUnits=\"userSpaceOnUse\"\r\n            x=\"8\"\r\n            y=\"4\"\r\n            width=\"106\"\r\n            height=\"161\"\r\n          >\r\n            <rect opacity=\"0.37\" x=\"8\" y=\"4.59351\" width=\"106\" height=\"160\" fill=\"white\" />\r\n          </mask>\r\n          <g mask=\"url(#mask0)\">\r\n            <path\r\n              d=\"M92.2978 17.6781L15.822 34.0871C11.502 35.014 8.75141 39.2674 9.67831 43.5873L33.6313 155.223C34.5582 159.543 38.8117 162.294 43.1316 161.367L119.607 144.958C123.927 144.031 126.678 139.777 125.751 135.457L101.798 23.8218C100.871 19.5018 96.6178 16.7512 92.2978 17.6781Z\"\r\n              fill=\"#E0E0E0\"\r\n            />\r\n            <path\r\n              opacity=\"0.5\"\r\n              d=\"M99.0259 18.4857L10.0195 37.5833L36.4061 160.561L125.412 141.463L99.0259 18.4857Z\"\r\n              fill=\"url(#paint0_linear)\"\r\n            />\r\n            <path\r\n              d=\"M92.7017 21.98L17.2183 38.176C15.0583 38.6394 13.683 40.7661 14.1465 42.9261L37.7833 153.088C38.2468 155.248 40.3735 156.623 42.5335 156.16L118.017 139.964C120.177 139.501 121.552 137.374 121.089 135.214L97.4518 25.0518C96.9884 22.8918 94.8617 21.5165 92.7017 21.98Z\"\r\n              fill=\"#FAFAFA\"\r\n            />\r\n            <path\r\n              d=\"M71.2204 20.988L36.918 28.3481C34.758 28.8116 33.3827 30.9383 33.8461 33.0982L34.3058 35.2403C34.7692 37.4003 36.8959 38.7756 39.0559 38.3122L73.3583 30.9521C75.5183 30.4887 76.8936 28.3619 76.4302 26.202L75.9706 24.0599C75.5071 21.8999 73.3804 20.5246 71.2204 20.988Z\"\r\n              fill=\"#42A4FF\"\r\n            />\r\n            <path\r\n              d=\"M52.7647 18.283C51.6004 18.5329 50.5363 19.1225 49.707 19.9772C48.8777 20.8318 48.3204 21.9132 48.1057 23.0846C47.8909 24.256 48.0284 25.4647 48.5006 26.558C48.9728 27.6512 49.7586 28.5799 50.7586 29.2266C51.7586 29.8733 52.928 30.2089 54.1187 30.191C55.3095 30.1731 56.4682 29.8026 57.4483 29.1262C58.4285 28.4498 59.1861 27.498 59.6253 26.391C60.0645 25.2841 60.1656 24.0718 59.9158 22.9074C59.75 22.1342 59.4334 21.4012 58.9843 20.7503C58.5351 20.0995 57.9621 19.5435 57.2981 19.114C56.634 18.6846 55.8919 18.3902 55.1141 18.2476C54.3362 18.105 53.5379 18.1171 52.7647 18.283ZM54.7568 27.5749C54.0847 27.7191 53.385 27.6607 52.746 27.4072C52.1071 27.1537 51.5577 26.7165 51.1673 26.1507C50.7769 25.585 50.5631 24.9161 50.5528 24.2288C50.5425 23.5415 50.7363 22.8666 51.1096 22.2895C51.4829 21.7123 52.019 21.2588 52.6501 20.9863C53.2811 20.7139 53.9788 20.6346 54.6549 20.7587C55.331 20.8828 55.9551 21.2045 56.4483 21.6833C56.9415 22.1621 57.2817 22.7764 57.4258 23.4485C57.6189 24.3496 57.4463 25.2905 56.9458 26.0644C56.4452 26.8382 55.6579 27.3815 54.7568 27.5749Z\"\r\n              fill=\"#42A4FF\"\r\n            />\r\n          </g>\r\n          <path\r\n            d=\"M151.684 38.203L74.4484 25.8563C70.0856 25.1589 65.9834 28.1303 65.2859 32.4932L47.2628 145.238C46.5654 149.601 49.5368 153.703 53.8997 154.401L131.135 166.747C135.498 167.445 139.601 164.473 140.298 160.111L158.321 47.3655C159.019 43.0027 156.047 38.9005 151.684 38.203Z\"\r\n            fill=\"#E0E0E0\"\r\n          />\r\n          <g opacity=\"0.5\">\r\n            <path\r\n              opacity=\"0.5\"\r\n              d=\"M157.665 41.3882L67.7745 27.0186L47.9203 151.218L137.811 165.588L157.665 41.3882Z\"\r\n              fill=\"url(#paint1_linear)\"\r\n            />\r\n          </g>\r\n          <path\r\n            d=\"M149.167 44.2208L74.6787 32.3133C72.4972 31.9646 70.4461 33.4503 70.0974 35.6317L52.621 144.957C52.2722 147.139 53.758 149.19 55.9394 149.539L130.428 161.446C132.61 161.795 134.661 160.309 135.009 158.128L152.486 48.8021C152.834 46.6207 151.349 44.5696 149.167 44.2208Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M131.191 35.8513L96.548 30.3133C94.3666 29.9646 92.3155 31.4503 91.9668 33.6317L91.621 35.7951C91.2722 37.9766 92.758 40.0277 94.9394 40.3764L129.583 45.9144C131.764 46.2631 133.815 44.7774 134.164 42.5959L134.51 40.4325C134.859 38.2511 133.373 36.2 131.191 35.8513Z\"\r\n            fill=\"#42A4FF\"\r\n          />\r\n          <path\r\n            d=\"M115.836 25.6324C114.66 25.4444 113.455 25.6093 112.373 26.1064C111.291 26.6034 110.38 27.4102 109.756 28.4247C109.133 29.4393 108.824 30.616 108.869 31.806C108.914 32.9961 109.311 34.1461 110.009 35.1105C110.708 36.075 111.677 36.8107 112.794 37.2245C113.91 37.6383 115.125 37.7116 116.283 37.4353C117.442 37.1589 118.492 36.5453 119.302 35.6719C120.111 34.7986 120.644 33.7047 120.832 32.5288C121.084 30.9518 120.699 29.3393 119.762 28.046C118.826 26.7527 117.413 25.8845 115.836 25.6324ZM114.337 35.01C113.659 34.9007 113.029 34.593 112.526 34.1257C112.022 33.6584 111.669 33.0524 111.51 32.3843C111.35 31.7162 111.393 31.016 111.631 30.3719C111.87 29.7279 112.294 29.169 112.85 28.7657C113.406 28.3625 114.069 28.133 114.755 28.1063C115.441 28.0796 116.12 28.2568 116.706 28.6156C117.291 28.9744 117.758 29.4986 118.045 30.1222C118.333 30.7457 118.43 31.4406 118.323 32.119C118.251 32.5698 118.09 33.0019 117.851 33.3907C117.612 33.7794 117.298 34.1172 116.928 34.3847C116.558 34.6522 116.139 34.8441 115.695 34.9496C115.25 35.0551 114.79 35.072 114.339 34.9993L114.337 35.01Z\"\r\n            fill=\"#42A4FF\"\r\n          />\r\n          <g opacity=\"0.5\">\r\n            <path\r\n              opacity=\"0.5\"\r\n              d=\"M4.19417 158.899H3.38356V163.498H4.19417V158.899Z\"\r\n              fill=\"#47E6B1\"\r\n            />\r\n            <path\r\n              opacity=\"0.5\"\r\n              d=\"M6.08919 161.605V160.794H1.4907V161.605H6.08919Z\"\r\n              fill=\"#47E6B1\"\r\n            />\r\n          </g>\r\n          <g opacity=\"0.5\">\r\n            <path opacity=\"0.5\" d=\"M98.2381 0H97.4275V4.5985H98.2381V0Z\" fill=\"#47E6B1\" />\r\n            <path\r\n              opacity=\"0.5\"\r\n              d=\"M100.133 2.70342V1.89282L95.5347 1.89282V2.70342L100.133 2.70342Z\"\r\n              fill=\"#47E6B1\"\r\n            />\r\n          </g>\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M166.327 166.555C166.104 166.458 165.924 166.282 165.822 166.06C165.719 165.839 165.702 165.587 165.773 165.354C165.785 165.319 165.792 165.282 165.795 165.244C165.801 165.137 165.773 165.031 165.715 164.942C165.656 164.852 165.57 164.784 165.47 164.747C165.37 164.71 165.26 164.706 165.157 164.736C165.055 164.767 164.965 164.829 164.9 164.914C164.878 164.944 164.859 164.977 164.844 165.011C164.747 165.235 164.571 165.415 164.349 165.517C164.128 165.619 163.877 165.637 163.643 165.565C163.608 165.554 163.571 165.547 163.533 165.544C163.427 165.538 163.321 165.566 163.231 165.624C163.141 165.683 163.073 165.768 163.036 165.869C162.999 165.969 162.995 166.079 163.026 166.181C163.056 166.284 163.118 166.374 163.204 166.439C163.234 166.461 163.266 166.48 163.301 166.495C163.524 166.592 163.704 166.768 163.806 166.99C163.908 167.211 163.926 167.462 163.855 167.696C163.843 167.731 163.836 167.768 163.833 167.805C163.827 167.912 163.855 168.018 163.913 168.108C163.972 168.197 164.058 168.266 164.158 168.303C164.258 168.34 164.368 168.343 164.47 168.313C164.573 168.283 164.663 168.221 164.728 168.135C164.75 168.105 164.769 168.073 164.784 168.038C164.881 167.815 165.057 167.635 165.279 167.533C165.5 167.43 165.751 167.413 165.985 167.484C166.02 167.496 166.057 167.503 166.095 167.506C166.201 167.512 166.307 167.484 166.397 167.426C166.486 167.367 166.555 167.281 166.592 167.181C166.629 167.081 166.632 166.971 166.602 166.868C166.572 166.766 166.51 166.676 166.424 166.611C166.394 166.589 166.362 166.57 166.327 166.555Z\"\r\n            fill=\"#4D8AF0\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M29.556 122.346C29.3324 122.249 29.1524 122.073 29.0502 121.851C28.9481 121.63 28.9309 121.379 29.0019 121.145C29.0134 121.11 29.0206 121.073 29.0235 121.036C29.0299 120.929 29.0018 120.823 28.9433 120.733C28.8848 120.644 28.799 120.575 28.6987 120.538C28.5983 120.501 28.4887 120.498 28.3861 120.528C28.2834 120.558 28.1932 120.62 28.1288 120.706C28.1064 120.736 28.0876 120.768 28.0728 120.803C27.9754 121.026 27.7993 121.206 27.5779 121.308C27.3564 121.411 27.1052 121.428 26.8719 121.357C26.8363 121.345 26.7993 121.338 26.762 121.335C26.6552 121.329 26.5492 121.357 26.4596 121.415C26.3701 121.474 26.3018 121.56 26.2648 121.66C26.2278 121.76 26.2241 121.87 26.2542 121.973C26.2843 122.075 26.3467 122.165 26.4321 122.23C26.4622 122.252 26.4947 122.271 26.5291 122.286C26.7527 122.383 26.9327 122.559 27.0349 122.781C27.1371 123.002 27.1542 123.253 27.0832 123.487C27.0717 123.522 27.0645 123.559 27.0616 123.597C27.0552 123.703 27.0833 123.81 27.1418 123.899C27.2003 123.989 27.2861 124.057 27.3865 124.094C27.4868 124.131 27.5965 124.135 27.6991 124.104C27.8017 124.074 27.8919 124.012 27.9563 123.927C27.9788 123.897 27.9976 123.864 28.0124 123.83C28.1097 123.606 28.2859 123.426 28.5073 123.324C28.7287 123.222 28.9799 123.204 29.2132 123.275C29.2489 123.287 29.2858 123.294 29.3232 123.297C29.4299 123.303 29.5359 123.275 29.6255 123.217C29.715 123.158 29.7834 123.073 29.8204 122.972C29.8574 122.872 29.8611 122.762 29.8309 122.66C29.8008 122.557 29.7384 122.467 29.653 122.402C29.623 122.38 29.5904 122.361 29.556 122.346Z\"\r\n            fill=\"#FDD835\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M143.475 14.6988C143.251 14.6015 143.071 14.4254 142.969 14.204C142.867 13.9825 142.85 13.7313 142.921 13.498C142.932 13.4623 142.94 13.4254 142.943 13.3881C142.949 13.2813 142.921 13.1753 142.862 13.0857C142.804 12.9962 142.718 12.9279 142.618 12.8909C142.517 12.8538 142.408 12.8501 142.305 12.8803C142.202 12.9104 142.112 12.9728 142.048 13.0582C142.025 13.0882 142.007 13.1208 141.992 13.1552C141.894 13.3788 141.718 13.5588 141.497 13.661C141.275 13.7631 141.024 13.7803 140.791 13.7093C140.755 13.6978 140.718 13.6906 140.681 13.6877C140.574 13.6813 140.468 13.7094 140.379 13.7679C140.289 13.8264 140.221 13.9122 140.184 14.0126C140.147 14.1129 140.143 14.2225 140.173 14.3252C140.203 14.4278 140.266 14.518 140.351 14.5824C140.381 14.6048 140.414 14.6237 140.448 14.6385C140.672 14.7358 140.852 14.9119 140.954 15.1334C141.056 15.3548 141.073 15.606 141.002 15.8393C140.991 15.875 140.984 15.9119 140.981 15.9493C140.974 16.056 141.002 16.162 141.061 16.2516C141.119 16.3411 141.205 16.4095 141.306 16.4465C141.406 16.4835 141.515 16.4872 141.618 16.457C141.721 16.4269 141.811 16.3645 141.875 16.2791C141.898 16.2491 141.917 16.2165 141.931 16.1821C142.029 15.9585 142.205 15.7785 142.426 15.6763C142.648 15.5742 142.899 15.557 143.132 15.628C143.168 15.6395 143.205 15.6467 143.242 15.6496C143.349 15.656 143.455 15.6279 143.545 15.5694C143.634 15.5109 143.702 15.4251 143.739 15.3247C143.776 15.2244 143.78 15.1148 143.75 15.0121C143.72 14.9095 143.657 14.8193 143.572 14.7549C143.542 14.7325 143.509 14.7137 143.475 14.6988Z\"\r\n            fill=\"#FDD835\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M175.287 69.4194C176.184 69.4194 176.911 68.6926 176.911 67.796C176.911 66.8994 176.184 66.1726 175.287 66.1726C174.391 66.1726 173.664 66.8994 173.664 67.796C173.664 68.6926 174.391 69.4194 175.287 69.4194Z\"\r\n            fill=\"#F55F44\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M49.8342 162.592C50.7308 162.592 51.4576 161.866 51.4576 160.969C51.4576 160.073 50.7308 159.346 49.8342 159.346C48.9377 159.346 48.2109 160.073 48.2109 160.969C48.2109 161.866 48.9377 162.592 49.8342 162.592Z\"\r\n            fill=\"#F55F44\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M158.616 104.509C159.512 104.509 160.239 103.782 160.239 102.885C160.239 101.989 159.512 101.262 158.616 101.262C157.719 101.262 156.992 101.989 156.992 102.885C156.992 103.782 157.719 104.509 158.616 104.509Z\"\r\n            fill=\"#F55F44\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M18.8779 22.3952C19.7745 22.3952 20.5013 21.6684 20.5013 20.7718C20.5013 19.8752 19.7745 19.1484 18.8779 19.1484C17.9813 19.1484 17.2545 19.8752 17.2545 20.7718C17.2545 21.6684 17.9813 22.3952 18.8779 22.3952Z\"\r\n            fill=\"#4D8AF0\"\r\n          />\r\n          <path\r\n            opacity=\"0.5\"\r\n            d=\"M1.71493 66.6794C2.6115 66.6794 3.33831 65.9526 3.33831 65.056C3.33831 64.1594 2.6115 63.4326 1.71493 63.4326C0.818365 63.4326 0.0915527 64.1594 0.0915527 65.056C0.0915527 65.9526 0.818365 66.6794 1.71493 66.6794Z\"\r\n            fill=\"#47E6B1\"\r\n          />\r\n        </g>\r\n        <defs>\r\n          <linearGradient\r\n            id=\"paint0_linear\"\r\n            x1=\"80.9082\"\r\n            y1=\"151.012\"\r\n            x2=\"54.5217\"\r\n            y2=\"28.0347\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop stopColor=\"#808080\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"#808080\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"#808080\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"paint1_linear\"\r\n            x1=\"28784.8\"\r\n            y1=\"95120.2\"\r\n            x2=\"40367.9\"\r\n            y2=\"22661\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop stopColor=\"#808080\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"#808080\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"#808080\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n          <clipPath id=\"clip0\">\r\n            <rect width=\"176.817\" height=\"168.333\" fill=\"white\" transform=\"translate(0.0915527)\" />\r\n          </clipPath>\r\n        </defs>\r\n      </svg>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Group, Div, Text } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { useSelector } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { NoTasks } from 'assets/svg/NoTasks';\r\nimport { getSelectedList } from 'core/selectors/boardLists';\r\n\r\nexport const BoardEmpty = React.memo(() => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const { tasks } = useSelector(getSelectedList);\r\n\r\n  if (tasks.length) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Group separator=\"hide\" className={css({ height: '35vh' })}>\r\n        <Div\r\n          className={css({\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            height: '100%',\r\n          })}\r\n        >\r\n          <NoTasks\r\n            className={css({\r\n              display: 'flex',\r\n              marginTop: 'auto',\r\n              marginBottom: '30px',\r\n              alignSelf: 'center',\r\n            })}\r\n          />\r\n        </Div>\r\n      </Group>\r\n      <Div>\r\n        <Text\r\n          weight=\"semibold\"\r\n          className={`useMonrope ${css({\r\n            fontSize: '20px',\r\n            lineHeight: '25px',\r\n            textAlign: 'center',\r\n            padding: '0 44px',\r\n            marginBottom: '14px',\r\n          })}`}\r\n        >\r\n          Тут пусто\r\n        </Text>\r\n        <Text\r\n          weight=\"medium\"\r\n          className={`useMonrope ${css({\r\n            fontSize: '15px',\r\n            lineHeight: '22px',\r\n            textAlign: 'center',\r\n            padding: '0 25px',\r\n            marginBottom: '33px',\r\n            color: dark ? '#858585' : '#6A6A6A',\r\n          })}`}\r\n        >\r\n          Создайте задачу с помощью кнопки ниже.\r\n        </Text>\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { getFinishedTasksCount } from 'core/selectors/task';\r\nimport { useFela } from 'react-fela';\r\nimport { List, Cell, Text } from '@vkontakte/vkui';\r\nimport Icon28ChevronDownOutline from '@vkontakte/icons/dist/28/chevron_down_outline';\r\nimport { getFinishedListTasks } from 'core/selectors/boardLists';\r\nimport { TaskCheckedLabel } from 'modules/task';\r\n\r\nexport const BoardFinishedTasks = React.memo(() => {\r\n  const [showFinishedList, setShow] = React.useState(false);\r\n  const dark = useSelector(isThemeDrak);\r\n  const tasks = useSelector(getFinishedListTasks);\r\n  const finishedCount = useSelector(getFinishedTasksCount);\r\n  const showFinished = finishedCount > 0;\r\n\r\n  const { css } = useFela();\r\n\r\n  if (!showFinished) {\r\n    return null;\r\n  }\r\n\r\n  const itemsFragments = tasks.map((t) => {\r\n    return (\r\n      <div key={t.id} className={css({ padding: '8px' })}>\r\n        <TaskCheckedLabel id={t.id} name={t.name} />\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <List>\r\n      <Cell onClick={() => setShow((v) => !v)}>\r\n        <span className={css({ display: 'flex', alignItems: 'center' })}>\r\n          <Text className={`useMonrope ${css({ color: '#959595' })}`} weight=\"medium\">\r\n            Готово{' '}\r\n            <span className={`useMonrope ${css({ color: dark ? '#5F5F5F' : '#CFCFCF' })}`}>\r\n              {finishedCount}\r\n            </span>\r\n          </Text>\r\n          <Icon28ChevronDownOutline\r\n            className={css({\r\n              marginLeft: 'auto',\r\n              color: dark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n              transform: showFinishedList ? 'rotate(180deg)' : undefined,\r\n            })}\r\n          />\r\n        </span>\r\n      </Cell>\r\n      {showFinishedList && itemsFragments}\r\n    </List>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Div, CardGrid, Card, List, Cell, Text, Spinner, PanelHeader } from '@vkontakte/vkui';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isBoardUpdating } from 'core/selectors/board';\r\nimport { useFela } from 'react-fela';\r\nimport { TaskCheckLabel, TaskInfo } from 'modules/task';\r\nimport { AppDispatchActions, BoardTaskItem } from 'core/models';\r\nimport { isTasksUpdating, getFinishedTasksCount } from 'core/selectors/task';\r\nimport { ListMembershipStack } from 'modules/board-list';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { useTransition, animated, useChain } from 'react-spring';\r\nimport { LoadingCardChain } from 'atoms/LoadingCardsCahin';\r\nimport { selectedBoardListInfo, getSelectedListTasks } from 'core/selectors/boardLists';\r\nimport { AdsBanner } from 'modules/ads';\r\nimport { BoardEmpty } from './BoardEmpty';\r\nimport { BoardFinishedTasks } from './BoardFinishedTasks';\r\n\r\nexport const BoardLists = React.memo(() => {\r\n  const [showUpdating, setShow] = React.useState(false);\r\n  const dark = useSelector(isThemeDrak);\r\n  const info = useSelector(selectedBoardListInfo);\r\n  const tasks = useSelector(getSelectedListTasks);\r\n  const updatingListOfTasks = useSelector(isTasksUpdating);\r\n  const boardUpdating = useSelector(isBoardUpdating);\r\n  const finishedCount = useSelector(getFinishedTasksCount);\r\n  const showFinished = finishedCount > 0;\r\n  const transRef = React.useRef<any>();\r\n\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  React.useEffect(() => {\r\n    let timer: any = null;\r\n    if (updatingListOfTasks) {\r\n      timer = setTimeout(() => {\r\n        setShow(true);\r\n      }, 1000);\r\n    } else {\r\n      setShow(false);\r\n      clearTimeout(timer);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [updatingListOfTasks]);\r\n\r\n  const selectTask = React.useCallback(\r\n    (task: BoardTaskItem) => {\r\n      dispatch({\r\n        type: 'SELECT_TASK',\r\n        payload: task,\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const transition = useTransition(tasks, {\r\n    from: {\r\n      transform: 'scale(0)',\r\n    },\r\n    enter: {\r\n      transform: 'scale(1)',\r\n    },\r\n    ref: transRef,\r\n    unique: true,\r\n    trail: 400 / tasks.length,\r\n  });\r\n\r\n  useChain([transRef], [0, 0.6]);\r\n\r\n  const taskRender = transition((style, t) => {\r\n    return (\r\n      <animated.div style={style} key={t.id}>\r\n        <CardGrid\r\n          className={css({\r\n            padding: 0,\r\n            marginBottom: '1rem',\r\n          })}\r\n          onClick={() => selectTask(t)}\r\n        >\r\n          <Card\r\n            size=\"l\"\r\n            className={css({\r\n              borderRadius: '17px !important',\r\n              backgroundColor: dark ? '#222327' : '#FFF',\r\n              padding: '18px 18px 0',\r\n              width: 'calc(100% - 36px) !important',\r\n              boxShadow: '0px 2px 8px rgba(0, 0, 0, 0.02)',\r\n              border: `1px solid ${dark ? '#343434' : '#F7F7F7'}`,\r\n            })}\r\n          >\r\n            <div style={{ minHeight: 28 }}>\r\n              <TaskCheckLabel id={t.id} name={t.name} />\r\n              <TaskInfo task={t} />\r\n            </div>\r\n          </Card>\r\n        </CardGrid>\r\n      </animated.div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PanelHeader separator={false} left={<ListMembershipStack />}>\r\n        <Text\r\n          weight=\"semibold\"\r\n          className={`useMonrope ${css({\r\n            fontSize: '18px',\r\n            whiteSpace: 'nowrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            lineHeight: '24px',\r\n          })}`}\r\n        >\r\n          {info.name} {boardUpdating ? <Spinner size=\"small\" /> : null}\r\n        </Text>\r\n      </PanelHeader>\r\n      <Div\r\n        className={css({\r\n          padding: '12px 18px',\r\n          paddingBottom: 90,\r\n        })}\r\n      >\r\n        <AdsBanner />\r\n        <BoardEmpty />\r\n        {!updatingListOfTasks && taskRender}\r\n        {updatingListOfTasks && showUpdating && <LoadingCardChain cards={[112, 40, 70]} />}\r\n        <BoardFinishedTasks />\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Button as VkButton } from '@vkontakte/vkui';\r\nimport { useFela, CssFelaStyle } from 'react-fela';\r\nimport { ButtonProps } from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport { useSelector } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\ntype Props = {\r\n  square?: boolean;\r\n} & ButtonProps;\r\n\r\nexport const Button: React.FC<Props> = ({ square = false, ...props }) => {\r\n  const dark = useSelector(isThemeDrak);\r\n  const { css } = useFela<{}, StyleProps>({\r\n    square,\r\n    mode: props.mode,\r\n    dark,\r\n  });\r\n  return <VkButton {...props} className={`useMonrope ${props.className ?? ''} ${css(btnStyle)}`} />;\r\n};\r\n\r\ntype StyleProps = {\r\n  dark: boolean;\r\n} & Pick<Props, 'square' | 'mode'>;\r\n\r\nconst btnStyle: CssFelaStyle<{}, StyleProps> = ({ dark = false, mode, square }) => ({\r\n  height: square ? '48px' : undefined,\r\n  borderRadius: square ? '12px' : '37px',\r\n  backgroundColor: bgByMode(mode, dark),\r\n  color: colorByMode(mode, dark),\r\n});\r\n\r\nconst bgByMode = (mode: ButtonProps['mode'], dark: boolean) => {\r\n  switch (mode) {\r\n    case 'overlay_outline':\r\n      return dark ? '#28292D' : '#F9F9F9';\r\n    case 'primary':\r\n      return '#42A4FF';\r\n    case 'secondary':\r\n      return 'rgba(66, 164, 255, 0.1)';\r\n    case 'destructive':\r\n      return 'rgba(255, 72, 72, 0.1)';\r\n\r\n    default:\r\n      return undefined;\r\n  }\r\n};\r\nconst colorByMode = (mode: ButtonProps['mode'], dark: boolean) => {\r\n  switch (mode) {\r\n    case 'overlay_outline':\r\n      return '#959595';\r\n    case 'primary':\r\n      return dark ? '#222327' : undefined;\r\n    case 'secondary':\r\n    case 'tertiary':\r\n      return '#42A4FF';\r\n    case 'destructive':\r\n      return '#FF4848';\r\n\r\n    default:\r\n      return undefined;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Div, Group, Separator, FixedLayout } from '@vkontakte/vkui';\r\nimport Icon24List from '@vkontakte/icons/dist/24/list';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\nimport { useFela } from 'react-fela';\r\nimport { Button } from 'atoms/Button';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions, ActiveModal } from 'core/models';\r\nimport { isBoardUpdating } from 'core/selectors/board';\r\nimport { ListProgress } from 'modules/board-list';\r\nimport { getBoardUiState } from 'core/selectors/common';\r\nimport { getSelectedListId } from 'core/selectors/boardLists';\r\n\r\nexport const BoardActions = React.memo(() => {\r\n  const { css } = useFela();\r\n  const { tasksToBeFinished } = useSelector(getBoardUiState);\r\n  const selectedBoardListId = useSelector(getSelectedListId);\r\n  const boardUpadting = useSelector(isBoardUpdating);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const openListsModal = React.useCallback(() => {\r\n    dispatch({\r\n      type: 'SET_MODAL',\r\n      payload: ActiveModal.Lists,\r\n    });\r\n  }, [dispatch]);\r\n  const openNewTaskModal = React.useCallback(() => {\r\n    dispatch({\r\n      type: 'SET_MODAL',\r\n      payload: ActiveModal.NewTask,\r\n    });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <FixedLayout vertical=\"bottom\" filled>\r\n      {tasksToBeFinished.length ? <ListProgress /> : null}\r\n      <Separator wide />\r\n      <Div>\r\n        <Group>\r\n          <span className={css({ display: 'flex' })}>\r\n            <Button\r\n              mode=\"primary\"\r\n              size=\"xl\"\r\n              stretched\r\n              before={<Icon24Add />}\r\n              onClick={openNewTaskModal}\r\n              disabled={boardUpadting || !selectedBoardListId}\r\n            >\r\n              Новая задача\r\n            </Button>\r\n            <Button mode=\"tertiary\" onClick={openListsModal} disabled={boardUpadting}>\r\n              <Icon24List />\r\n            </Button>\r\n          </span>\r\n        </Group>\r\n      </Div>\r\n    </FixedLayout>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { BoardLists } from './BoardLists';\r\nimport { BoardActions } from './BoardActions';\r\n\r\nexport const BoardLayout = React.memo(() => {\r\n  return (\r\n    <>\r\n      <BoardLists />\r\n      <BoardActions />\r\n    </>\r\n  );\r\n});\r\n","import React, { ButtonHTMLAttributes } from 'react';\r\nimport { useFela, CssFelaStyle } from 'react-fela';\r\nimport { useSelector } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\ntype Props = ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  selected?: boolean;\r\n};\r\nexport const CellButton: React.FC<Props> = ({ className = '', selected = false, ...props }) => {\r\n  const dark = useSelector(isThemeDrak);\r\n  const { css } = useFela({ dark, selected });\r\n\r\n  return <button {...props} className={`useMonrope ${css(cellButtonStyle)} ${className}`} />;\r\n};\r\n\r\nconst cellButtonStyle: CssFelaStyle<\r\n  {},\r\n  {\r\n    dark: boolean;\r\n    selected: boolean;\r\n  }\r\n> = ({ dark, selected }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  outline: 0,\r\n  textDecoration: 'none',\r\n  margin: 0,\r\n  padding: 0,\r\n  border: 0,\r\n  cursor: 'pointer',\r\n  width: '100%',\r\n  background: '0 0',\r\n  position: 'relative',\r\n  color: dark ? '#fff' : '#000',\r\n  fontSize: '16px',\r\n  fontWeight: 500,\r\n  ':active': {\r\n    backgroundColor: 'rgba(66, 164, 255, 0.1)',\r\n    color: '#42A4FF',\r\n  },\r\n  paddingLeft: '23px',\r\n  paddingRight: '23px',\r\n  transition: 'background-color .15s ease-out',\r\n  lineHeight: '20px',\r\n  height: '50px',\r\n  textAlign: 'left',\r\n  ':disabled': {\r\n    pointerEvents: 'none',\r\n    opacity: 0.4,\r\n  },\r\n  ...(selected\r\n    ? {\r\n        backgroundColor: 'rgba(66, 164, 255, 0.1)',\r\n        color: '#42A4FF',\r\n      }\r\n    : {}),\r\n});\r\n","import { vkBridge } from './instance';\r\nimport { TapticNotificationType, TapticVibrationPowerType } from '@vkontakte/vk-bridge';\r\n\r\nexport const tapticSelected = () => vkBridge.send('VKWebAppTapticSelectionChanged', {});\r\n\r\nexport const tapticDone = (type: TapticNotificationType) =>\r\n  vkBridge.send('VKWebAppTapticNotificationOccurred', { type });\r\n\r\nexport const tapticImpact = (style: TapticVibrationPowerType) =>\r\n  vkBridge.send('VKWebAppTapticImpactOccurred', { style });\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions, FetchingStateName } from 'core/models';\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport { CellButton } from 'atoms/CellButton';\r\nimport { Input, Spinner, usePlatform, OS, Div, Text } from '@vkontakte/vkui';\r\nimport {\r\n  isNewListUpdating,\r\n  isNewListCreated,\r\n  canUserContinueCreateLists,\r\n} from 'core/selectors/boardLists';\r\nimport Icon24DoneOutline from '@vkontakte/icons/dist/24/done_outline';\r\nimport { tapticSelected } from 'core/vk-bridge/taptic';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport Icon16Lock from '@vkontakte/icons/dist/16/lock';\r\n\r\nexport const NewList = React.memo(() => {\r\n  const [click, setClicked] = React.useState(false);\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const updating = useSelector(isNewListUpdating);\r\n  const created = useSelector(isNewListCreated) && !updating;\r\n  const canCreateLists = useSelector(canUserContinueCreateLists);\r\n  const dark = useSelector(isThemeDrak);\r\n\r\n  const platform = usePlatform();\r\n\r\n  const handleClick = () => {\r\n    if (platform === OS.IOS) {\r\n      tapticSelected();\r\n    }\r\n    setClicked(true);\r\n  };\r\n\r\n  const handleChangeName = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      dispatch({\r\n        type: 'SET_UPDATING_DATA',\r\n        payload: FetchingStateName.NewBoardList,\r\n      });\r\n      dispatch({\r\n        type: 'SET_BOARD_LIST_NAME',\r\n        payload: e.target.value,\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  if (!canCreateLists) {\r\n    return (\r\n      <Div>\r\n        <Text\r\n          weight=\"medium\"\r\n          className={`useMonrope ${css({\r\n            fontSize: '16px',\r\n            lineHeight: '24px',\r\n            color: dark ? '#AEAEAE' : '#6A6A6A',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            padding: '8px',\r\n          })}`}\r\n        >\r\n          <Icon16Lock width={20} height={20} className={css({ marginRight: '1rem' })} />\r\n          Лимит (бесплатная версия)\r\n        </Text>\r\n      </Div>\r\n    );\r\n  }\r\n\r\n  if (click) {\r\n    return (\r\n      <span className={`useMonrope ${css({ display: 'flex' })}`}>\r\n        <Input\r\n          type=\"text\"\r\n          placeholder=\"Введите название\"\r\n          minLength={1}\r\n          maxLength={512}\r\n          className={css({\r\n            width: '100%',\r\n            marginTop: '8px',\r\n            '>div': {\r\n              border: 'none !important',\r\n              background: 'transparent !important',\r\n            },\r\n            '>input': {\r\n              paddingLeft: '23px',\r\n              paddingRight: '23px',\r\n            },\r\n          } as any)}\r\n          autoFocus\r\n          onChange={handleChangeName}\r\n        />\r\n        {updating && (\r\n          <Spinner\r\n            size=\"small\"\r\n            className={css({ width: 'unset', marginRight: '30px', marginTop: '22px' })}\r\n          />\r\n        )}\r\n        {created && (\r\n          <Icon24DoneOutline\r\n            className={css({ marginRight: '24px', marginTop: '16px', color: '#42A4FF' })}\r\n          />\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <CellButton onClick={handleClick} className={css({ marginTop: '6px !important' })}>\r\n      <Icon16Add className={css({ marginRight: '.5rem' })} />\r\n      Новый список\r\n    </CellButton>\r\n  );\r\n});\r\n","import { createSelector, defaultMemoize } from 'reselect';\r\nimport { getStateUi } from './common';\r\nimport { platform, OS } from '@vkontakte/vkui';\r\n\r\nexport const getNotifications = createSelector(getStateUi, (ui) => ui.notifications);\r\n\r\nexport const getAppId = createSelector(getStateUi, (ui) => ui.appId);\r\n\r\nexport const isPlatformIOS = defaultMemoize(() => platform() === OS.IOS);\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { AppDispatchActions, FetchingStateName, BoardListItem } from 'core/models';\r\nimport { useFela } from 'react-fela';\r\nimport Icon28ChevronDownOutline from '@vkontakte/icons/dist/28/chevron_down_outline';\r\nimport { CellButton } from 'atoms/CellButton';\r\nimport { getBoardUiState, isThemeDrak } from 'core/selectors/common';\r\nimport * as sel from 'core/selectors/boardLists';\r\nimport { useLongPress } from 'core/hooks';\r\nimport { Input, Spinner, usePlatform, OS } from '@vkontakte/vkui';\r\nimport Icon24DoneOutline from '@vkontakte/icons/dist/24/done_outline';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport { tapticSelected } from 'core/vk-bridge/taptic';\r\n\r\ntype Props = {\r\n  listItem: BoardListItem & {\r\n    isOwner: boolean;\r\n  };\r\n};\r\n\r\nexport const ListItemName: React.FC<Props> = ({ listItem }) => {\r\n  const [click, setClicked] = React.useState(false);\r\n  const dark = useSelector(isThemeDrak);\r\n  const selectedBoardListId = useSelector(sel.getSelectedListId);\r\n  const { boardListOpenId, editBoardListName } = useSelector(getBoardUiState);\r\n  const updating = useSelector(sel.isEditListUpdating);\r\n  const created = useSelector(sel.isEditListCreated);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const { css } = useFela();\r\n  const platform = usePlatform();\r\n\r\n  const detections = useLongPress<HTMLButtonElement>(() => {\r\n    if (platform === OS.IOS) {\r\n      tapticSelected();\r\n    }\r\n    dispatch({\r\n      type: 'EDIT_BOARD_LIST_NAME',\r\n      payload: { name: listItem.name },\r\n    });\r\n    setClicked(true);\r\n  });\r\n\r\n  const closeModal = React.useCallback(() => {\r\n    dispatch({ type: 'SET_MODAL', payload: null });\r\n  }, [dispatch]);\r\n\r\n  const handleClickList = () => {\r\n    if (selectedBoardListId !== listItem.id) {\r\n      dispatch({ type: 'SELECT_BOARD_LIST', payload: { id: listItem.id, data: listItem } });\r\n      dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.Tasks });\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const toggleDropDown = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    e.stopPropagation();\r\n    if (boardListOpenId === listItem.id) {\r\n      dispatch({ type: 'OPEN_BOARD_LIST', payload: 0 });\r\n    } else {\r\n      dispatch({ type: 'OPEN_BOARD_LIST', payload: listItem.id });\r\n    }\r\n  };\r\n\r\n  const handleChangeName = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      dispatch({\r\n        type: 'SET_UPDATING_DATA',\r\n        payload: FetchingStateName.EditBoardList,\r\n      });\r\n      dispatch({\r\n        type: 'EDIT_BOARD_LIST_NAME',\r\n        payload: { name: e.target.value, id: listItem.id },\r\n      });\r\n    },\r\n    [dispatch, listItem.id]\r\n  );\r\n\r\n  if (click) {\r\n    return (\r\n      <span className={`useMonrope ${css({ display: 'flex' })}`}>\r\n        <Input\r\n          type=\"text\"\r\n          placeholder=\"Введите название\"\r\n          minLength={1}\r\n          maxLength={512}\r\n          className={css({\r\n            width: '100%',\r\n            height: '50px',\r\n            '>div': {\r\n              border: 'none !important',\r\n              background: 'transparent !important',\r\n            },\r\n            '>input': {\r\n              height: '50px',\r\n              paddingLeft: '23px',\r\n              paddingRight: '23px',\r\n              lineHeight: '20px',\r\n              fontSize: '16px',\r\n            },\r\n          } as any)}\r\n          autoFocus\r\n          onChange={handleChangeName}\r\n          value={editBoardListName}\r\n        />\r\n        {updating && (\r\n          <Spinner\r\n            size=\"small\"\r\n            className={css({ width: 'unset', marginRight: '30px', marginTop: '22px' })}\r\n          />\r\n        )}\r\n        {created && !updating && (\r\n          <Icon24DoneOutline\r\n            className={css({ marginRight: '24px', marginTop: '16px', color: '#42A4FF' })}\r\n          />\r\n        )}\r\n        {!created && !updating && (\r\n          <Icon24Cancel\r\n            onClick={() => setClicked(false)}\r\n            className={css({ marginRight: '24px', marginTop: '16px', color: '#42A4FF' })}\r\n          />\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <CellButton\r\n      onClick={handleClickList}\r\n      selected={selectedBoardListId === listItem.id}\r\n      {...detections}\r\n    >\r\n      <span\r\n        className={css({\r\n          overflow: 'hidden',\r\n          whiteSpace: 'nowrap',\r\n          textOverflow: 'ellipsis',\r\n        })}\r\n      >\r\n        {listItem.name}\r\n      </span>\r\n      <Icon28ChevronDownOutline\r\n        className={css({\r\n          marginLeft: 'auto',\r\n          color: dark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',\r\n          transform: boardListOpenId === listItem.id ? 'rotate(180deg)' : undefined,\r\n        })}\r\n        onClick={toggleDropDown}\r\n      />\r\n    </CellButton>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { AppDispatchActions, MainView, BoardListItem, ActiveModal } from 'core/models';\r\nimport { useFela } from 'react-fela';\r\nimport { Div, Text, Spinner } from '@vkontakte/vkui';\r\nimport { CellButton } from 'atoms/CellButton';\r\nimport { getBoardUiState } from 'core/selectors/common';\r\nimport Icon28ShareExternalOutline from '@vkontakte/icons/dist/28/share_external_outline';\r\nimport Icon28UsersOutline from '@vkontakte/icons/dist/28/users_outline';\r\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android';\r\nimport { push, getSearch } from 'connected-react-router';\r\nimport { isDeleteListUpdating } from 'core/selectors/boardLists';\r\nimport { vkBridge } from 'core/vk-bridge/instance';\r\nimport { getAppId } from 'core/selectors/settings';\r\nimport { ListItemName } from './ListItemName';\r\n\r\ntype Props = {\r\n  goForward: (activePanel: MainView) => void;\r\n  listItem: BoardListItem & {\r\n    isOwner: boolean;\r\n  };\r\n};\r\n\r\nexport const ListItem: React.FC<Props> = ({ goForward, listItem }) => {\r\n  const deletting = useSelector(isDeleteListUpdating);\r\n  const search = useSelector(getSearch);\r\n  const appId = useSelector(getAppId);\r\n  const { boardListOpenId } = useSelector(getBoardUiState);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const { css } = useFela();\r\n\r\n  const closeModal = React.useCallback(() => {\r\n    dispatch({ type: 'SET_MODAL', payload: null });\r\n  }, [dispatch]);\r\n\r\n  const deleteList = React.useCallback(() => {\r\n    dispatch({ type: 'SET_DELETE_BOARD_LIST_ID', payload: boardListOpenId });\r\n    dispatch({ type: 'SET_MODAL', payload: ActiveModal.DeletList });\r\n  }, [dispatch, boardListOpenId]);\r\n\r\n  const goToMembership = React.useCallback(() => {\r\n    closeModal();\r\n    goForward(MainView.ListMembership);\r\n    dispatch(push(`/${MainView.ListMembership}${search}`) as any);\r\n  }, [dispatch, goForward, closeModal, search]);\r\n\r\n  const sharePost = React.useCallback(\r\n    async (listguid: string) => {\r\n      vkBridge.send('VKWebAppShare', { link: `https://vk.com/app${appId}#${listguid}` });\r\n    },\r\n    [appId]\r\n  );\r\n\r\n  return (\r\n    <span>\r\n      <ListItemName listItem={listItem} />\r\n      {boardListOpenId === listItem.id && (\r\n        <Div\r\n          className={css({\r\n            minHeight: '100px',\r\n            transition: '.2s ease',\r\n            paddingBottom: 0,\r\n            paddingTop: 0,\r\n          })}\r\n        >\r\n          <CellButton\r\n            className={css({ paddingLeft: 16, paddingRight: 16 })}\r\n            onClick={goToMembership}\r\n            disabled={deletting}\r\n          >\r\n            <Icon28UsersOutline className={css(iconStyle)} />\r\n            Доступ\r\n          </CellButton>\r\n          <CellButton\r\n            className={css({ paddingLeft: 16, paddingRight: 16 })}\r\n            disabled={deletting}\r\n            onClick={() => sharePost(listItem.listguid)}\r\n          >\r\n            <Icon28ShareExternalOutline className={css(iconStyle)} />\r\n            Поделиться\r\n          </CellButton>\r\n          <Text\r\n            weight=\"regular\"\r\n            className={`useMonrope ${css({\r\n              fontSize: '12px',\r\n              color: '#959595',\r\n              lineHeight: '20px',\r\n              padding: '0 1rem',\r\n            })}`}\r\n          >\r\n            Список станет доступен другим пользователям с ссылкой (до 3-x человек в бесплатной\r\n            версии)\r\n          </Text>\r\n          {listItem.isOwner && (\r\n            <CellButton\r\n              className={css({ paddingLeft: 16, paddingRight: 16, color: '#FF4848 !important' })}\r\n              disabled={deletting}\r\n              onClick={deleteList}\r\n            >\r\n              {deletting ? (\r\n                <Spinner\r\n                  size=\"regular\"\r\n                  className={css({\r\n                    width: 'unset',\r\n                    marginRight: '1rem',\r\n                    color: '#FF4848 !important',\r\n                  })}\r\n                />\r\n              ) : (\r\n                <Icon28DeleteOutlineAndroid className={css(iconStyle)} />\r\n              )}\r\n              Удалить список\r\n            </CellButton>\r\n          )}\r\n        </Div>\r\n      )}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst iconStyle = () => ({\r\n  marginRight: '1rem',\r\n  width: '20px !important',\r\n  height: '20px !important',\r\n  '>svg': { width: '20px', height: '20px' },\r\n});\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getBoardLists } from 'core/selectors/board';\r\nimport { MainView } from 'core/models';\r\nimport { List, withModalRootContext } from '@vkontakte/vkui';\r\nimport { getBoardUiState } from 'core/selectors/common';\r\nimport { ListItem } from './ListItem';\r\n\r\ntype Props = {\r\n  goForward: (activePanel: MainView) => void;\r\n  updateModalHeight?: () => void;\r\n};\r\n\r\nconst ListsPC = React.memo<Props>(({ updateModalHeight, goForward }) => {\r\n  const listItems = useSelector(getBoardLists);\r\n  const { boardListOpenId } = useSelector(getBoardUiState);\r\n\r\n  React.useEffect(() => {\r\n    if (updateModalHeight) {\r\n      updateModalHeight();\r\n    }\r\n  }, [listItems.length, updateModalHeight, boardListOpenId]);\r\n\r\n  return (\r\n    <List>\r\n      {listItems.map((listItem) => (\r\n        <ListItem listItem={listItem} goForward={goForward} key={listItem.id} />\r\n      ))}\r\n    </List>\r\n  );\r\n});\r\n\r\nexport const Lists = withModalRootContext(ListsPC);\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions } from 'core/models';\r\nimport { Header, Div, FormLayout, Input } from '@vkontakte/vkui';\r\nimport { getEditTaskValues } from 'core/selectors/board';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { getSelectedTaskInfo, getEditTaskInfo } from 'core/selectors/task';\r\n\r\ntype Props = {\r\n  editable: boolean;\r\n  deletedPreview: boolean;\r\n};\r\n\r\nexport const SelectedTaskHeader = React.memo<Props>(({ editable, deletedPreview }) => {\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const info = useSelector(getSelectedTaskInfo);\r\n  const dark = useSelector(isThemeDrak);\r\n  const formValues = useSelector(getEditTaskValues);\r\n  const { updating } = useSelector(getEditTaskInfo);\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.currentTarget;\r\n    dispatch({ type: 'EDIT_TASK', payload: { name, value } });\r\n  };\r\n\r\n  if (!editable) {\r\n    return (\r\n      <Div>\r\n        <Header\r\n          className={`useMonrope manropeBold ${css({\r\n            textAlign: deletedPreview ? 'center' : 'left',\r\n            '>div>div': { fontSize: '20px !important' },\r\n            '>div': {\r\n              display: deletedPreview ? 'block' : undefined,\r\n            },\r\n          } as any)}`}\r\n        >\r\n          {deletedPreview ? 'Вы уверены?' : info.name}\r\n        </Header>\r\n      </Div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <FormLayout className={'useMonrope'}>\r\n      <Input\r\n        type=\"text\"\r\n        placeholder=\"Введите название\"\r\n        minLength={1}\r\n        maxLength={1024}\r\n        className={`${css({\r\n          '>div': {\r\n            border: 'none !important',\r\n            background: 'transparent !important',\r\n          },\r\n          '>input': {\r\n            fontSize: '20px',\r\n            fontWeight: 600,\r\n            '::placeholder': {\r\n              color: dark ? '#5F5F5F' : '#CFCFCF',\r\n            },\r\n          },\r\n        } as any)} `}\r\n        name=\"name\"\r\n        onChange={onChange}\r\n        disabled={updating}\r\n        value={formValues.name}\r\n      />\r\n    </FormLayout>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport { useSelector } from 'react-redux';\r\nimport { MiniInfoCell, Text, Div, Spinner } from '@vkontakte/vkui';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20RecentOutline from '@vkontakte/icons/dist/20/recent_outline';\r\nimport Icon28WriteOutline from '@vkontakte/icons/dist/28/write_outline';\r\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android';\r\nimport { ru } from 'date-fns/locale';\r\nimport { Button } from 'atoms/Button';\r\nimport { isTaskDeleteUpdating, getSelectedTaskInfo } from 'core/selectors/task';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { format } from 'date-fns';\r\n\r\ntype Props = {\r\n  showDelete: () => void;\r\n  startEdit: () => void;\r\n  showTask: boolean;\r\n};\r\n\r\nexport const SelectedTask = React.memo<Props>(({ showTask, showDelete, startEdit }) => {\r\n  const { css } = useFela();\r\n  const info = useSelector(getSelectedTaskInfo);\r\n  const deletting = useSelector(isTaskDeleteUpdating);\r\n  const dark = useSelector(isThemeDrak);\r\n\r\n  if (!showTask) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {info.description !== null && (\r\n        <Div>\r\n          <MiniInfoCell\r\n            before={\r\n              <Icon20ArticleOutline className={css({ color: dark ? '#AEAEAE' : '#6A6A6A' })} />\r\n            }\r\n            multiline\r\n            className={css({ padding: '6px 12px 0' })}\r\n          >\r\n            <Text\r\n              weight=\"medium\"\r\n              className={`useMonrope ${css({ color: dark ? '#fff' : '#000' })}`}\r\n            >\r\n              {info.description}\r\n            </Text>\r\n          </MiniInfoCell>\r\n        </Div>\r\n      )}\r\n      {info.dueDate !== null && (\r\n        <Div>\r\n          <MiniInfoCell\r\n            before={\r\n              <Icon20RecentOutline className={css({ color: dark ? '#AEAEAE' : '#6A6A6A' })} />\r\n            }\r\n            className={css({ padding: '0 12px' })}\r\n          >\r\n            <Text\r\n              weight=\"medium\"\r\n              className={`useMonrope ${css({ color: dark ? '#fff' : '#000' })}`}\r\n            >\r\n              до {format(new Date(info.dueDate), 'dd MMMM', { locale: ru })}\r\n            </Text>\r\n          </MiniInfoCell>\r\n        </Div>\r\n      )}\r\n      <Div className={css({ padding: '12px 24px', display: 'flex' })}>\r\n        <Button\r\n          onClick={showDelete}\r\n          disabled={deletting}\r\n          before={deletting ? <Spinner size=\"regular\" /> : <Icon28DeleteOutlineAndroid />}\r\n          mode=\"destructive\"\r\n          size=\"xl\"\r\n        >\r\n          Удалить\r\n        </Button>\r\n        <Button\r\n          onClick={startEdit}\r\n          mode=\"tertiary\"\r\n          disabled={deletting}\r\n          className={css({ paddingRight: 0, color: dark ? '#959595' : '#AEAEAE' })}\r\n        >\r\n          <Icon28WriteOutline />\r\n        </Button>\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions, FetchingStateName } from 'core/models';\r\nimport { MiniInfoCell, Text, Div, Spinner } from '@vkontakte/vkui';\r\nimport { Button } from 'atoms/Button';\r\nimport { isTaskDeleteUpdating } from 'core/selectors/task';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\ntype Props = { deletedPreview: boolean; cancelDelete: () => void };\r\n\r\nexport const DeletePreview = React.memo<Props>(({ deletedPreview, cancelDelete }) => {\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const deletting = useSelector(isTaskDeleteUpdating);\r\n  const dark = useSelector(isThemeDrak);\r\n\r\n  React.useEffect(() => {\r\n    return () => {\r\n      cancelDelete();\r\n    };\r\n  }, []);\r\n\r\n  const deleteTask = React.useCallback(() => {\r\n    dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.DeleteTask });\r\n  }, [dispatch]);\r\n\r\n  if (!deletedPreview) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Div>\r\n        <MiniInfoCell before={null} multiline className={css({ padding: '0 12px' })}>\r\n          <Text\r\n            weight=\"medium\"\r\n            className={`useMonrope ${css({\r\n              color: dark ? '#AEAEAE' : '#6A6A6A',\r\n              textAlign: 'center',\r\n            })}`}\r\n          >\r\n            Это удалит задачу и вернуть её не получится.\r\n          </Text>\r\n        </MiniInfoCell>\r\n      </Div>\r\n      <Div className={css({ padding: '12px 24px', display: 'flex' })}>\r\n        <Button\r\n          mode=\"overlay_outline\"\r\n          disabled={deletting}\r\n          onClick={cancelDelete}\r\n          size=\"xl\"\r\n          className={css({ marginRight: '10px' })}\r\n        >\r\n          Назад\r\n        </Button>\r\n        <Button\r\n          onClick={deleteTask}\r\n          disabled={deletting}\r\n          before={deletting ? <Spinner size=\"regular\" /> : null}\r\n          mode=\"destructive\"\r\n          size=\"xl\"\r\n        >\r\n          Удалить\r\n        </Button>\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions, FetchingStateName } from 'core/models';\r\nimport { FormLayout, Input, withModalRootContext, Div, FormStatus, Spinner } from '@vkontakte/vkui';\r\nimport { getEditTaskValues } from 'core/selectors/board';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20RecentOutline from '@vkontakte/icons/dist/20/recent_outline';\r\nimport { Button } from 'atoms/Button';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { format, isBefore, addDays } from 'date-fns';\r\nimport { getEditTaskInfo } from 'core/selectors/task';\r\n\r\nconst nextDay = format(addDays(new Date(), 1), 'yyyy-MM-dd');\r\n\r\ntype Props = {\r\n  updateModalHeight?: () => void;\r\n  editable: boolean;\r\n  stopEdit: () => void;\r\n};\r\n\r\nconst EditTaskPC = React.memo<Props>(({ editable, updateModalHeight, stopEdit }) => {\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const dark = useSelector(isThemeDrak);\r\n  const formValues = useSelector(getEditTaskValues);\r\n  const { error, hasError, updating, notSameData } = useSelector(getEditTaskInfo);\r\n  const disabledSubmit = !formValues.name || updating || !notSameData;\r\n\r\n  const before = formValues.dueDate && isBefore(new Date(formValues.dueDate), new Date());\r\n\r\n  React.useEffect(() => {\r\n    if (updateModalHeight) {\r\n      updateModalHeight();\r\n    }\r\n  }, [editable, hasError, updateModalHeight]);\r\n\r\n  React.useEffect(() => {\r\n    return () => {\r\n      stopEdit();\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (before) {\r\n      dispatch({\r\n        type: 'EDIT_TASK',\r\n        payload: { name: 'dueDate', value: nextDay },\r\n      });\r\n    }\r\n  }, [before]);\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.currentTarget;\r\n    dispatch({ type: 'EDIT_TASK', payload: { name, value } });\r\n  };\r\n\r\n  const submitForm = React.useCallback(() => {\r\n    dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.EditTask });\r\n  }, [dispatch]);\r\n\r\n  const showError = hasError && <FormStatus header={error} mode=\"error\" />;\r\n\r\n  if (!editable) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <FormLayout className={'useMonrope'}>\r\n        {showError}\r\n        <span className={css({ display: 'flex' })}>\r\n          <Icon20ArticleOutline\r\n            className={css({\r\n              marginLeft: '22px',\r\n              marginTop: '12px',\r\n              color: dark ? '#5F5F5F' : '#CFCFCF',\r\n            })}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Введите описание\"\r\n            minLength={1}\r\n            maxLength={2048}\r\n            className={css({\r\n              marginLeft: '0 !important',\r\n              width: '100%',\r\n              '>div': {\r\n                border: 'none !important',\r\n                background: 'transparent !important',\r\n              },\r\n              '>input': {\r\n                '::placeholder': {\r\n                  color: dark ? '#5F5F5F' : '#CFCFCF',\r\n                },\r\n              },\r\n            } as any)}\r\n            name=\"description\"\r\n            onChange={onChange}\r\n            disabled={updating}\r\n            value={formValues.description ?? ''}\r\n          />\r\n        </span>\r\n        <span className={css({ display: 'flex' })}>\r\n          <Icon20RecentOutline\r\n            className={css({\r\n              marginLeft: '22px',\r\n              marginTop: '12px',\r\n              color: dark ? '#5F5F5F' : '#CFCFCF',\r\n            })}\r\n          />\r\n          <Input\r\n            type=\"date\"\r\n            placeholder=\"Выберите срок\"\r\n            className={css({\r\n              marginLeft: '0 !important',\r\n              width: '100%',\r\n              '>div': {\r\n                border: 'none !important',\r\n                background: 'transparent !important',\r\n              },\r\n              '>input': {\r\n                '::placeholder': {\r\n                  color: dark ? '#5F5F5F' : '#CFCFCF',\r\n                },\r\n              },\r\n            } as any)}\r\n            name=\"dueDate\"\r\n            onChange={onChange}\r\n            disabled={updating}\r\n            min={nextDay}\r\n            value={formValues.dueDate ? format(new Date(formValues.dueDate), 'yyyy-MM-dd') : ''}\r\n          />\r\n        </span>\r\n      </FormLayout>\r\n      <Div className={css({ display: 'flex' })}>\r\n        <Button\r\n          mode=\"secondary\"\r\n          stretched\r\n          size=\"xl\"\r\n          disabled={updating}\r\n          onClick={stopEdit}\r\n          className={css({ marginRight: '10px' })}\r\n        >\r\n          Отмена\r\n        </Button>\r\n\r\n        <Button\r\n          mode=\"primary\"\r\n          stretched\r\n          size=\"xl\"\r\n          before={updating ? <Spinner /> : null}\r\n          disabled={disabledSubmit}\r\n          onClick={submitForm}\r\n        >\r\n          Сохранить\r\n        </Button>\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n\r\nexport const EditTask = withModalRootContext(EditTaskPC);\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions } from 'core/models';\r\nimport { FormLayout, Input } from '@vkontakte/vkui';\r\nimport { getNewTaskValues } from 'core/selectors/board';\r\nimport { getNewTaskInfo } from 'core/selectors/task';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\nexport const NewTaskHeader = React.memo(() => {\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const formValues = useSelector(getNewTaskValues);\r\n  const dark = useSelector(isThemeDrak);\r\n  const { updating } = useSelector(getNewTaskInfo);\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.currentTarget;\r\n    dispatch({ type: 'UPDATE_NEW_TASK', payload: { name, value } });\r\n  };\r\n\r\n  return (\r\n    <FormLayout className={'useMonrope'}>\r\n      <Input\r\n        type=\"text\"\r\n        placeholder=\"Введите название\"\r\n        minLength={1}\r\n        maxLength={1024}\r\n        className={`${css({\r\n          '>div': {\r\n            border: 'none !important',\r\n            background: 'transparent !important',\r\n          },\r\n          '>input': {\r\n            fontSize: '20px',\r\n            fontWeight: 600,\r\n            '::placeholder': {\r\n              color: dark ? '#5F5F5F' : '#CFCFCF',\r\n            },\r\n          },\r\n        } as any)} `}\r\n        name=\"name\"\r\n        onChange={onChange}\r\n        disabled={updating}\r\n        value={formValues.name}\r\n      />\r\n    </FormLayout>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useFela } from 'react-fela';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatchActions, FetchingStateName } from 'core/models';\r\nimport { FormLayout, Input, Spinner, FormStatus, withModalRootContext } from '@vkontakte/vkui';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20RecentOutline from '@vkontakte/icons/dist/20/recent_outline';\r\nimport { Button } from 'atoms/Button';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\nimport { getNewTaskValues } from 'core/selectors/board';\r\nimport { getNewTaskInfo } from 'core/selectors/task';\r\nimport { format, isBefore, addDays } from 'date-fns';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\n\r\nconst nextDay = format(addDays(new Date(), 1), 'yyyy-MM-dd');\r\n\r\ntype Props = {\r\n  updateModalHeight?: () => void;\r\n};\r\n\r\nconst NewTaskPC = React.memo<Props>(({ updateModalHeight }) => {\r\n  const { css } = useFela();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const formValues = useSelector(getNewTaskValues);\r\n  const dark = useSelector(isThemeDrak);\r\n  const { updating, hasError, error } = useSelector(getNewTaskInfo);\r\n\r\n  const before = formValues.dueDate && isBefore(new Date(formValues.dueDate), new Date());\r\n\r\n  React.useEffect(() => {\r\n    if (updateModalHeight) {\r\n      updateModalHeight();\r\n    }\r\n  }, [hasError, updateModalHeight]);\r\n\r\n  React.useEffect(() => {\r\n    if (before) {\r\n      dispatch({\r\n        type: 'UPDATE_NEW_TASK',\r\n        payload: { name: 'dueDate', value: nextDay },\r\n      });\r\n    }\r\n  }, [before]);\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.currentTarget;\r\n    dispatch({ type: 'UPDATE_NEW_TASK', payload: { name, value } });\r\n  };\r\n\r\n  const submitForm = React.useCallback(() => {\r\n    dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.NewTask });\r\n  }, [dispatch]);\r\n\r\n  const showError = hasError && <FormStatus header={error} mode=\"error\" />;\r\n\r\n  return (\r\n    <>\r\n      <FormLayout className={'useMonrope'}>\r\n        {showError}\r\n        <span className={css({ display: 'flex' })}>\r\n          <Icon20ArticleOutline\r\n            className={css({\r\n              marginLeft: '22px',\r\n              marginTop: '12px',\r\n              color: dark ? '#5F5F5F' : '#CFCFCF',\r\n            })}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Введите описание\"\r\n            minLength={1}\r\n            maxLength={2048}\r\n            className={css({\r\n              marginLeft: '0 !important',\r\n              width: '100%',\r\n              '>div': {\r\n                border: 'none !important',\r\n                background: 'transparent !important',\r\n              },\r\n              '>input': {\r\n                '::placeholder': {\r\n                  color: dark ? '#5F5F5F' : '#CFCFCF',\r\n                },\r\n              },\r\n            } as any)}\r\n            name=\"description\"\r\n            onChange={onChange}\r\n            disabled={updating}\r\n            value={formValues.description ?? ''}\r\n          />\r\n        </span>\r\n        <span className={css({ display: 'flex' })}>\r\n          <Icon20RecentOutline\r\n            className={css({\r\n              marginLeft: '22px',\r\n              marginTop: '12px',\r\n              color: dark ? '#5F5F5F' : '#CFCFCF',\r\n            })}\r\n          />\r\n          <Input\r\n            type=\"date\"\r\n            placeholder=\"Выберите срок\"\r\n            className={css({\r\n              marginLeft: '0 !important',\r\n              width: '100%',\r\n              '>div': {\r\n                border: 'none !important',\r\n                background: 'transparent !important',\r\n              },\r\n              '>input': {\r\n                '::placeholder': {\r\n                  color: dark ? '#5F5F5F' : '#CFCFCF',\r\n                },\r\n              },\r\n            } as any)}\r\n            name=\"dueDate\"\r\n            onChange={onChange}\r\n            disabled={updating}\r\n            min={nextDay}\r\n            value={formValues.dueDate ?? ''}\r\n          />\r\n        </span>\r\n\r\n        <Button\r\n          mode=\"primary\"\r\n          size=\"xl\"\r\n          stretched\r\n          before={updating ? <Spinner /> : <Icon24Add />}\r\n          disabled={!formValues.name || updating}\r\n          onClick={submitForm}\r\n        >\r\n          Создать задачу\r\n        </Button>\r\n      </FormLayout>\r\n      <div className={css({ height: '10px' })} />\r\n    </>\r\n  );\r\n});\r\n\r\nexport const NewTask = withModalRootContext(NewTaskPC);\r\n","import React from 'react';\r\nimport { ModalPage, Div, Header, MiniInfoCell, Text } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { Button } from 'atoms/Button';\r\nimport { AppDispatchActions, FetchingStateName } from 'core/models';\r\nimport { getUserFirstNameToDelete } from 'core/selectors/membership';\r\n\r\nexport const DropMember = React.memo<{ id: string }>(({ id }) => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const name = useSelector(getUserFirstNameToDelete);\r\n\r\n  const closeModal = React.useCallback(() => {\r\n    dispatch({ type: 'SET_MODAL', payload: null });\r\n  }, [dispatch]);\r\n\r\n  const dropMember = React.useCallback(() => {\r\n    closeModal();\r\n    dispatch({\r\n      type: 'SET_UPDATING_DATA',\r\n      payload: FetchingStateName.DropMembership,\r\n    });\r\n  }, [closeModal, dispatch]);\r\n\r\n  return (\r\n    <ModalPage\r\n      id={id}\r\n      onClose={closeModal}\r\n      header={\r\n        <Div>\r\n          <Header\r\n            className={`useMonrope manropeBold ${css({\r\n              textAlign: 'center',\r\n              '>div>div': { fontSize: '20px !important' },\r\n              '>div': {\r\n                display: 'block',\r\n              },\r\n            } as any)}`}\r\n          >\r\n            {'Вы уверены?'}\r\n          </Header>\r\n        </Div>\r\n      }\r\n    >\r\n      <Div>\r\n        <MiniInfoCell before={null} multiline className={css({ padding: '0 12px' })}>\r\n          <Text\r\n            weight=\"medium\"\r\n            className={`useMonrope ${css({\r\n              color: dark ? '#AEAEAE' : '#6A6A6A',\r\n              textAlign: 'center',\r\n            })}`}\r\n          >\r\n            {name} потеряет доступ к списку навсегда.\r\n          </Text>\r\n        </MiniInfoCell>\r\n      </Div>\r\n      <Div className={css({ padding: '12px 24px', display: 'flex' })}>\r\n        <Button\r\n          mode=\"overlay_outline\"\r\n          onClick={closeModal}\r\n          size=\"xl\"\r\n          className={css({ marginRight: '10px' })}\r\n        >\r\n          Назад\r\n        </Button>\r\n        <Button onClick={dropMember} mode=\"destructive\" size=\"xl\">\r\n          Удалить\r\n        </Button>\r\n      </Div>\r\n    </ModalPage>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { ModalPage, Div, Header, MiniInfoCell, Text } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { Button } from 'atoms/Button';\r\nimport { AppDispatchActions, FetchingStateName, ActiveModal } from 'core/models';\r\n\r\nexport const DeleteList = React.memo<{ id: string }>(({ id }) => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const closeModal = React.useCallback(() => {\r\n    dispatch({ type: 'SET_MODAL', payload: null });\r\n  }, [dispatch]);\r\n\r\n  const back = React.useCallback(() => {\r\n    dispatch({ type: 'SET_MODAL', payload: ActiveModal.Lists });\r\n  }, [dispatch]);\r\n\r\n  const deleteList = React.useCallback(() => {\r\n    dispatch({ type: 'SET_MODAL', payload: ActiveModal.Lists });\r\n    dispatch({\r\n      type: 'SET_UPDATING_DATA',\r\n      payload: FetchingStateName.DeleteBoardList,\r\n    });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <ModalPage\r\n      id={id}\r\n      onClose={closeModal}\r\n      header={\r\n        <Div>\r\n          <Header\r\n            className={`useMonrope manropeBold ${css({\r\n              textAlign: 'center',\r\n              '>div>div': { fontSize: '20px !important' },\r\n              '>div': {\r\n                display: 'block',\r\n              },\r\n            } as any)}`}\r\n          >\r\n            {'Вы уверены?'}\r\n          </Header>\r\n        </Div>\r\n      }\r\n    >\r\n      <Div>\r\n        <MiniInfoCell before={null} multiline className={css({ padding: '0 12px' })}>\r\n          <Text\r\n            weight=\"medium\"\r\n            className={`useMonrope ${css({\r\n              color: dark ? '#AEAEAE' : '#6A6A6A',\r\n              textAlign: 'center',\r\n            })}`}\r\n          >\r\n            Это удалит список, вернуть его не получится.\r\n          </Text>\r\n        </MiniInfoCell>\r\n      </Div>\r\n      <Div className={css({ padding: '12px 24px', display: 'flex' })}>\r\n        <Button\r\n          mode=\"overlay_outline\"\r\n          onClick={back}\r\n          size=\"xl\"\r\n          className={css({ marginRight: '10px' })}\r\n        >\r\n          Назад\r\n        </Button>\r\n        <Button onClick={deleteList} mode=\"destructive\" size=\"xl\">\r\n          Удалить\r\n        </Button>\r\n      </Div>\r\n    </ModalPage>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { ModalRoot, ModalPage, Separator, List } from '@vkontakte/vkui';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { AppDispatchActions, ActiveModal, MainView } from 'core/models';\r\nimport { getActiveModal } from 'core/selectors/common';\r\nimport { useFela } from 'react-fela';\r\nimport { NewList } from './NewList';\r\nimport { Lists } from './Lists';\r\nimport { CellButton } from 'atoms/CellButton';\r\nimport Icon16InfoOutline from '@vkontakte/icons/dist/16/info_outline';\r\nimport { SelectedTaskHeader } from './SelectedTaskHeader';\r\nimport { SelectedTask } from './SelectedTask';\r\nimport { DeletePreview } from './DeletePreview';\r\nimport { EditTask } from './EditTask';\r\nimport { NewTaskHeader } from './NewTaskHeader';\r\nimport { NewTask } from './NewTask';\r\nimport { push, getSearch } from 'connected-react-router';\r\nimport { DropMember } from './DropMember';\r\nimport { DeleteList } from './DeleteList';\r\n\r\nexport const RootModals = React.memo<{ goForward: (activePanel: MainView) => void }>(\r\n  ({ goForward }) => {\r\n    const [deletedPreview, setDelete] = React.useState(false);\r\n    const [editable, setEditable] = React.useState(false);\r\n    const search = useSelector(getSearch);\r\n    const activeModal = useSelector(getActiveModal);\r\n    const dispatch = useDispatch<AppDispatchActions>();\r\n    const { css } = useFela();\r\n\r\n    const closeModal = React.useCallback(() => {\r\n      dispatch({ type: 'SET_MODAL', payload: null });\r\n    }, [dispatch]);\r\n\r\n    const goToAbout = React.useCallback(() => {\r\n      closeModal();\r\n      goForward(MainView.About);\r\n      dispatch(push(`/${MainView.About}${search}`) as any);\r\n    }, [dispatch, goForward, closeModal, search]);\r\n\r\n    return (\r\n      <ModalRoot activeModal={activeModal} onClose={closeModal}>\r\n        <ModalPage\r\n          id={ActiveModal.Lists}\r\n          onClose={closeModal}\r\n          header={<NewList />}\r\n          dynamicContentHeight\r\n          settlingHeight={100}\r\n        >\r\n          <Lists goForward={goForward} />\r\n          <Separator wide />\r\n          <List>\r\n            <CellButton onClick={goToAbout}>\r\n              <Icon16InfoOutline className={css({ marginRight: '1rem' })} /> Информация\r\n            </CellButton>\r\n          </List>\r\n          <div className={css({ height: '10px' })} />\r\n        </ModalPage>\r\n\r\n        <ModalPage\r\n          id={ActiveModal.NewTask}\r\n          onClose={closeModal}\r\n          header={<NewTaskHeader />}\r\n          dynamicContentHeight\r\n        >\r\n          <NewTask />\r\n        </ModalPage>\r\n\r\n        <ModalPage\r\n          id={ActiveModal.SelectedTask}\r\n          onClose={closeModal}\r\n          header={<SelectedTaskHeader editable={editable} deletedPreview={deletedPreview} />}\r\n          dynamicContentHeight\r\n        >\r\n          <SelectedTask\r\n            showTask={!deletedPreview && !editable}\r\n            startEdit={() => setEditable(true)}\r\n            showDelete={() => setDelete(true)}\r\n          />\r\n          <DeletePreview deletedPreview={deletedPreview} cancelDelete={() => setDelete(false)} />\r\n          <EditTask editable={editable} stopEdit={() => setEditable(false)} />\r\n        </ModalPage>\r\n\r\n        <DropMember id={ActiveModal.DropMembership} />\r\n        <DeleteList id={ActiveModal.DeletList} />\r\n      </ModalRoot>\r\n    );\r\n  }\r\n);\r\n","import React from 'react';\r\nimport { List, SimpleCell, Switch, Div, Subhead } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getNotifications } from 'core/selectors/settings';\r\nimport { vkBridge } from 'core/vk-bridge/instance';\r\nimport { AppDispatchActions } from 'core/models';\r\n\r\nexport const Notifications = React.memo(() => {\r\n  const { css } = useFela();\r\n  const notifyEnabled = useSelector(getNotifications);\r\n  const [notifyRequest, setRequest] = React.useState(false);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const handleToggle = async (\r\n    e: React.MouseEvent<HTMLElement, MouseEvent> | React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    e.preventDefault();\r\n    setRequest(true);\r\n    try {\r\n      if (!notifyEnabled && !notifyRequest) {\r\n        const enabled = await vkBridge.send('VKWebAppAllowNotifications');\r\n        dispatch({ type: 'SET_NOTIFICATIONS', payload: enabled.result });\r\n      } else if (notifyEnabled && !notifyRequest) {\r\n        const disabled = await vkBridge.send('VKWebAppDenyNotifications');\r\n        if (disabled.result) {\r\n          dispatch({ type: 'SET_NOTIFICATIONS', payload: false });\r\n        }\r\n      }\r\n    } catch (_) {}\r\n\r\n    setRequest(false);\r\n  };\r\n  return (\r\n    <List>\r\n      <SimpleCell\r\n        disabled\r\n        after={<Switch onChange={handleToggle} checked={notifyEnabled} />}\r\n        onClick={handleToggle}\r\n      >\r\n        Уведомления\r\n      </SimpleCell>\r\n      <Div>\r\n        <Subhead weight=\"regular\" className={css({ color: '#818C99', margin: 0 })}>\r\n          Вам будут приходить уведомления о задачах с таймером\r\n        </Subhead>\r\n      </Div>\r\n    </List>\r\n  );\r\n});\r\n","export const ruSyntaxHelper = (count: number) => {\r\n  const countArray = count.toString().split('');\r\n\r\n  const firstNumber = Number(countArray[0]);\r\n  const secondNumber = Number(countArray[1]);\r\n  const thirdNumber = Number(countArray[2]);\r\n\r\n  if (countArray.length === 3) {\r\n    return thirdNumber === 1 && secondNumber !== 1\r\n      ? 'single'\r\n      : thirdNumber <= 4 && secondNumber !== 1 && thirdNumber !== 0\r\n      ? 'singlePlural'\r\n      : 'plural';\r\n  }\r\n\r\n  if (countArray.length === 2) {\r\n    return secondNumber === 1 && firstNumber !== 1\r\n      ? 'single'\r\n      : secondNumber <= 4 && firstNumber !== 1 && secondNumber !== 0\r\n      ? 'singlePlural'\r\n      : 'plural';\r\n  }\r\n\r\n  return firstNumber === 1\r\n    ? 'single'\r\n    : firstNumber <= 4 && firstNumber !== 0\r\n    ? 'singlePlural'\r\n    : 'plural';\r\n};\r\n","import React from 'react';\r\nimport { Div, CardGrid, Card, Text, MiniInfoCell, Spinner, Subhead } from '@vkontakte/vkui';\r\nimport { useFela, CssFelaStyle } from 'react-fela';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport Icon24DoneOutline from '@vkontakte/icons/dist/24/done_outline';\r\nimport { Button } from 'atoms/Button';\r\nimport { appV, AppDispatchActions, FetchingStateName } from 'core/models';\r\nimport { Notifications } from './Notifications';\r\nimport { isPlatformIOS } from 'core/selectors/settings';\r\nimport Icon16Lock from '@vkontakte/icons/dist/16/lock';\r\nimport { useTransition, useChain, animated } from 'react-spring';\r\nimport {\r\n  hasUserPremium,\r\n  isPaymentUpdating,\r\n  isLastGoogleSyncUpdating,\r\n  getLastGoogleSyncHrs,\r\n} from 'core/selectors/payment';\r\nimport Icon24LogoGoogle from '@vkontakte/icons/dist/24/logo_google';\r\nimport { getUserId } from 'core/selectors/user';\r\nimport { ruSyntaxHelper } from 'core/helpers';\r\n\r\nconst itemsToAppear = [\r\n  {\r\n    id: 1,\r\n    text: 'Синхронизация с Google Tasks',\r\n    type: 'info',\r\n  },\r\n  {\r\n    id: 2,\r\n    text: 'Неограниченные списки',\r\n    type: 'info',\r\n  },\r\n  {\r\n    id: 3,\r\n    text: 'Неограниченные пользователи',\r\n    type: 'info',\r\n  },\r\n  {\r\n    id: 4,\r\n    text: 'Приоритеты задач',\r\n    type: 'info',\r\n  },\r\n  {\r\n    id: 5,\r\n    type: 'btn',\r\n  },\r\n];\r\n\r\nexport const Premium = React.memo(() => {\r\n  const dark = useSelector(isThemeDrak);\r\n  const updating = useSelector(isPaymentUpdating);\r\n  const hasPremium = useSelector(hasUserPremium);\r\n  const gUpdating = useSelector(isLastGoogleSyncUpdating);\r\n  const gHrs = useSelector(getLastGoogleSyncHrs);\r\n  const { css } = useFela({ dark });\r\n  const transRef = React.useRef<any>();\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const userId = useSelector(getUserId);\r\n  const computedTime = Math.trunc(24 - gHrs);\r\n  const humanTime = computedTime > 1 ? computedTime : 1;\r\n\r\n  const handleBuy = React.useCallback(() => {\r\n    dispatch({\r\n      type: 'SET_UPDATING_DATA',\r\n      payload: FetchingStateName.PaymentProccess,\r\n    });\r\n  }, [dispatch]);\r\n\r\n  const startSync = React.useCallback(() => {\r\n    dispatch({\r\n      type: 'SET_GOOGLE_SYNC',\r\n      payload: true,\r\n    });\r\n  }, [dispatch]);\r\n\r\n  const cellInfoCss = css(infoStyle, textStyle);\r\n  const textCss = css(textStyle);\r\n  const btnCss = css({\r\n    marginTop: '31px',\r\n  });\r\n\r\n  const buyButton =\r\n    isPlatformIOS() && !hasPremium ? (\r\n      <Button mode=\"primary\" stretched className={btnCss} disabled before={<Icon16Lock />} square>\r\n        Недоступно на iOS\r\n      </Button>\r\n    ) : hasPremium ? (\r\n      <Button\r\n        mode=\"primary\"\r\n        stretched\r\n        className={btnCss}\r\n        before={\r\n          gUpdating ? (\r\n            <Spinner className={css({ color: dark ? '#222327' : '#fff' })} />\r\n          ) : (\r\n            <Icon24LogoGoogle />\r\n          )\r\n        }\r\n        square\r\n        disabled={gUpdating || gHrs < 24}\r\n        onClick={startSync}\r\n      >\r\n        <a\r\n          href={gUpdating || gHrs < 24 ? undefined : `/google/auth?userId=${userId}`}\r\n          target=\"_blank\"\r\n          className={css({ textDecoration: 'none', color: 'inherit' })}\r\n        >\r\n          Синхронизировать с Google Tasks\r\n        </a>\r\n      </Button>\r\n    ) : (\r\n      <Button\r\n        mode=\"primary\"\r\n        stretched\r\n        className={btnCss}\r\n        square\r\n        onClick={handleBuy}\r\n        disabled={updating}\r\n        before={updating ? <Spinner className={css({ color: dark ? '#222327' : '#fff' })} /> : null}\r\n      >\r\n        Купить 228 ₽\r\n      </Button>\r\n    );\r\n\r\n  const transition = useTransition(itemsToAppear, {\r\n    from: {\r\n      transform: 'scale(0)',\r\n    },\r\n    enter: {\r\n      transform: 'scale(1)',\r\n    },\r\n    ref: transRef,\r\n    unique: true,\r\n    trail: 4000 / itemsToAppear.length,\r\n  });\r\n\r\n  useChain([transRef], [0, 0.6]);\r\n\r\n  const transitionFragments = transition((style, item) => {\r\n    return (\r\n      <animated.div style={style}>\r\n        {item.type === 'info' ? (\r\n          <MiniInfoCell\r\n            before={<Icon24DoneOutline className={textCss} />}\r\n            multiline\r\n            className={cellInfoCss}\r\n          >\r\n            <Text weight=\"medium\" className={`useMonrope ${textCss}`}>\r\n              {item.text}\r\n            </Text>\r\n          </MiniInfoCell>\r\n        ) : (\r\n          buyButton\r\n        )}\r\n      </animated.div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Div>\r\n      <CardGrid\r\n        className={css({\r\n          padding: 0,\r\n          marginBottom: '1rem',\r\n        })}\r\n      >\r\n        <Card\r\n          size=\"l\"\r\n          className={css({\r\n            borderRadius: '21px !important',\r\n            backgroundColor: dark ? 'rgba(95, 95, 95, 0.03)' : 'rgba(66, 164, 255, 0.03)',\r\n            padding: '24px 23px',\r\n            width: 'calc(100% - 36px) !important',\r\n          })}\r\n        >\r\n          <div\r\n            style={{\r\n              minHeight: 50,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n            }}\r\n          >\r\n            <Text\r\n              weight=\"semibold\"\r\n              className={`useMonrope ${css({\r\n                fontSize: '18px',\r\n                lineHeight: '24px',\r\n              })}`}\r\n            >\r\n              {hasPremium ? 'Вы уже купили ' : 'Купите '}\r\n              <span className={css({ color: '#42A4FF' })}>премиум</span>\r\n            </Text>\r\n            {transitionFragments}\r\n            {hasPremium && gHrs < 24 && (\r\n              <Div>\r\n                <Subhead\r\n                  weight=\"regular\"\r\n                  className={css({ color: 'var(--text_secondary)', margin: 0 })}\r\n                >\r\n                  Вы сможете синхронизировать google tasks снова только через{' '}\r\n                  {`${humanTime} ${\r\n                    ruSyntaxHelper(humanTime) === 'single'\r\n                      ? 'час'\r\n                      : ruSyntaxHelper(humanTime) === 'singlePlural'\r\n                      ? 'часа'\r\n                      : 'часов'\r\n                  }`}\r\n                </Subhead>\r\n              </Div>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </CardGrid>\r\n      <Notifications />\r\n      <Text\r\n        weight=\"medium\"\r\n        className={`useMonrope ${css(textStyle, {\r\n          fontSize: '12px',\r\n          lineHeight: '16px',\r\n          color: dark ? '#5F5F5F' : '#CFCFCF',\r\n          marginTop: '25px',\r\n          textAlign: 'center',\r\n        })}`}\r\n      >\r\n        Версия {appV}, avocado\r\n      </Text>\r\n    </Div>\r\n  );\r\n});\r\n\r\nconst infoStyle: CssFelaStyle<{}, {}> = () => ({\r\n  padding: '0',\r\n  marginTop: '20px',\r\n});\r\nconst textStyle: CssFelaStyle<{}, { dark: boolean }> = ({ dark }) => ({\r\n  color: dark ? '#FFF !important' : '#000 !important',\r\n});\r\n","import React from 'react';\r\nimport rabbitUrl from '../img/rabbit.png';\r\n\r\ntype Props = {\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nexport const ListShareRabbit = React.memo<Props>(({ className = '', style = {} }) => {\r\n  return (\r\n    <>\r\n      <svg\r\n        width=\"90\"\r\n        height=\"90\"\r\n        viewBox=\"0 0 90 90\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}\r\n        style={style}\r\n      >\r\n        <circle cx=\"44.5\" cy=\"44.5\" r=\"43.5\" fill=\"url(#pattern0)\" stroke=\"#F0F0F0\" />\r\n        <rect x=\"65.5\" y=\"64.5\" width=\"23.1818\" height=\"23.1818\" rx=\"11.5909\" fill=\"white\" />\r\n        <g clipPath=\"url(#clip0)\">\r\n          <path\r\n            d=\"M79.1809 71.4925L80.8531 73.1647L79.1809 74.8368\"\r\n            stroke=\"#42A4FF\"\r\n            stroke-width=\"0.836074\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M73.3279 75.6729V74.8368C73.3279 74.3933 73.5041 73.968 73.8176 73.6544C74.1312 73.3408 74.5565 73.1646 75 73.1646H80.8525\"\r\n            stroke=\"#42A4FF\"\r\n            stroke-width=\"0.836074\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M75 80.6893L73.3279 79.0171L75 77.345\"\r\n            stroke=\"#42A4FF\"\r\n            stroke-width=\"0.836074\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M80.8525 76.5089V77.345C80.8525 77.7885 80.6764 78.2138 80.3628 78.5274C80.0492 78.841 79.6239 79.0172 79.1804 79.0172H73.3279\"\r\n            stroke=\"#42A4FF\"\r\n            stroke-width=\"0.836074\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n        </g>\r\n        <rect x=\"65.5\" y=\"64.5\" width=\"23.1818\" height=\"23.1818\" rx=\"11.5909\" stroke=\"#F0F0F0\" />\r\n        <defs>\r\n          <pattern id=\"pattern0\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n            <use xlinkHref=\"#image0\" transform=\"scale(0.005)\" />\r\n          </pattern>\r\n          <clipPath id=\"clip0\">\r\n            <rect\r\n              width=\"10.0329\"\r\n              height=\"10.0329\"\r\n              fill=\"white\"\r\n              transform=\"translate(72.0745 71.0745)\"\r\n            />\r\n          </clipPath>\r\n          <image id=\"image0\" width=\"200\" height=\"200\" xlinkHref={rabbitUrl} />\r\n        </defs>\r\n      </svg>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Group, Div, Text, Spinner } from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { ListShareRabbit } from 'assets/svg/ListShareRabbit';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { Button } from 'atoms/Button';\r\nimport { AppDispatchActions, FetchingStateName } from 'core/models';\r\nimport {\r\n  isSaveMembershipUpdating,\r\n  getPreviewMembershipData,\r\n  isSaveMembershipReady,\r\n} from 'core/selectors/membership';\r\n\r\ntype Props = {\r\n  handleBack: () => void;\r\n};\r\n\r\nexport const MembershipPreview = React.memo<Props>(({ handleBack }) => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const updating = useSelector(isSaveMembershipUpdating);\r\n  const ready = useSelector(isSaveMembershipReady);\r\n  const { name } = useSelector(getPreviewMembershipData);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  React.useEffect(() => {\r\n    if (ready) {\r\n      handleBack()\r\n    }\r\n  }, [ready])\r\n\r\n  const accept = React.useCallback(() => {\r\n    dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.SaveMembership });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <Group separator=\"hide\" className={css({ height: '35vh' })}>\r\n        <Div\r\n          className={css({\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            height: '100%',\r\n          })}\r\n        >\r\n          <ListShareRabbit\r\n            className={css({\r\n              display: 'flex',\r\n              marginTop: 'auto',\r\n              marginBottom: '30px',\r\n              alignSelf: 'center',\r\n            })}\r\n          />\r\n        </Div>\r\n      </Group>\r\n      <Div>\r\n        <Text\r\n          weight=\"semibold\"\r\n          className={`useMonrope ${css({\r\n            fontSize: '20px',\r\n            lineHeight: '25px',\r\n            textAlign: 'center',\r\n            padding: '0 44px',\r\n            marginBottom: '14px',\r\n          })}`}\r\n        >\r\n          Ваш друг приглашает Вас в список «{name}»\r\n        </Text>\r\n        <Text\r\n          weight=\"medium\"\r\n          className={`useMonrope ${css({\r\n            fontSize: '15px',\r\n            lineHeight: '22px',\r\n            textAlign: 'center',\r\n            padding: '0 25px',\r\n            marginBottom: '33px',\r\n            color: dark ? '#858585' : '#6A6A6A',\r\n          })}`}\r\n        >\r\n          Принять приглашение или нет? Выбор за Вами.\r\n        </Text>\r\n        <span className={css({ padding: '0 25px', display: 'flex', marginBottom: '.5rem' })}>\r\n          <Button\r\n            mode=\"primary\"\r\n            stretched\r\n            square\r\n            onClick={accept}\r\n            disabled={updating}\r\n            before={updating ? <Spinner /> : null}\r\n          >\r\n            Принять\r\n          </Button>\r\n        </span>\r\n        <span className={css({ padding: '0 25px', display: 'flex' })}>\r\n          <Button\r\n            mode=\"tertiary\"\r\n            stretched\r\n            square\r\n            className={css({ color: dark ? '#858585 !important' : '#6A6A6A !important' })}\r\n            onClick={handleBack}\r\n            disabled={updating}\r\n          >\r\n            Закрыть\r\n          </Button>\r\n        </span>\r\n      </Div>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { useTransition, useChain, animated } from 'react-spring';\r\n\r\ntype Props = {\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nconst tasks = [\r\n  {\r\n    d:\r\n      'M69.6603 71.0724H57.6698C57.2783 71.072 56.9029 70.9163 56.6261 70.6394C56.3493 70.3626 56.1935 69.9873 56.1931 69.5958V55.4462C56.1935 55.0547 56.3493 54.6794 56.6261 54.4025C56.9029 54.1257 57.2783 53.97 57.6698 53.9695H69.6603C70.0518 53.97 70.4271 54.1257 70.7039 54.4025C70.9808 54.6794 71.1365 55.0547 71.1369 55.4462V69.5958C71.1365 69.9873 70.9808 70.3626 70.7039 70.6394C70.4271 70.9163 70.0518 71.072 69.6603 71.0724Z',\r\n    fill: '#42A4FF',\r\n  },\r\n  {\r\n    d:\r\n      'M86.7237 111.434H74.7333C74.3418 111.434 73.9664 111.278 73.6896 111.001C73.4127 110.725 73.257 110.349 73.2566 109.958V95.8082C73.257 95.4167 73.4127 95.0414 73.6896 94.7645C73.9664 94.4877 74.3418 94.332 74.7333 94.3316H86.7237C87.1152 94.332 87.4906 94.4877 87.7674 94.7645C88.0442 95.0414 88.2 95.4167 88.2004 95.8082V109.958C88.2 110.349 88.0442 110.725 87.7674 111.001C87.4906 111.278 87.1152 111.434 86.7237 111.434Z',\r\n    fill: '#42A4FF',\r\n  },\r\n  {\r\n    d:\r\n      'M125.445 79.6042H113.455C113.063 79.6038 112.688 79.4481 112.411 79.1712C112.134 78.8944 111.978 78.5191 111.978 78.1276V63.978C111.978 63.5865 112.134 63.2112 112.411 62.9343C112.688 62.6575 113.063 62.5018 113.455 62.5014H125.445C125.837 62.5018 126.212 62.6575 126.489 62.9343C126.766 63.2112 126.921 63.5865 126.922 63.978V78.1276C126.921 78.5191 126.766 78.8944 126.489 79.1712C126.212 79.4481 125.837 79.6038 125.445 79.6042Z',\r\n    fill: '#42A4FF',\r\n  },\r\n  {\r\n    d:\r\n      'M175.652 64.1813H163.661C163.27 64.1809 162.895 64.0252 162.618 63.7483C162.341 63.4715 162.185 63.0962 162.185 62.7047V48.5551C162.185 48.1636 162.341 47.7883 162.618 47.5114C162.895 47.2346 163.27 47.0789 163.661 47.0785H175.652C176.043 47.0789 176.419 47.2346 176.696 47.5114C176.972 47.7883 177.128 48.1636 177.129 48.5551V62.7047C177.128 63.0962 176.972 63.4715 176.696 63.7483C176.419 64.0252 176.043 64.1809 175.652 64.1813Z',\r\n    fill: '#42A4FF',\r\n  },\r\n  {\r\n    d:\r\n      'M221.92 64.1813H209.93C209.539 64.1809 209.163 64.0252 208.886 63.7483C208.61 63.4715 208.454 63.0962 208.453 62.7047V48.5551C208.454 48.1636 208.61 47.7883 208.886 47.5114C209.163 47.2346 209.539 47.0789 209.93 47.0785H221.92C222.312 47.0789 222.687 47.2346 222.964 47.5114C223.241 47.7883 223.397 48.1636 223.397 48.5551V62.7047C223.397 63.0962 223.241 63.4715 222.964 63.7483C222.687 64.0252 222.312 64.1809 221.92 64.1813Z',\r\n    fill: '#42A4FF',\r\n  },\r\n  {\r\n    d:\r\n      'M243.25 68.1191H231.259C230.868 68.1186 230.493 67.9629 230.216 67.6861C229.939 67.4093 229.783 67.0339 229.783 66.6424V52.4929C229.783 52.1014 229.939 51.726 230.216 51.4492C230.493 51.1724 230.868 51.0167 231.259 51.0162H243.25C243.641 51.0167 244.017 51.1724 244.294 51.4492C244.57 51.726 244.726 52.1014 244.727 52.4929V66.6424C244.726 67.0339 244.57 67.4093 244.294 67.6861C244.017 67.9629 243.641 68.1186 243.25 68.1191Z',\r\n    fill: '#E6E6E6',\r\n  },\r\n  {\r\n    d:\r\n      'M233.734 93.3864H221.743C221.352 93.3859 220.976 93.2302 220.7 92.9534C220.423 92.6765 220.267 92.3012 220.267 91.9097V77.7602C220.267 77.3687 220.423 76.9933 220.7 76.7165C220.976 76.4397 221.352 76.2839 221.743 76.2835H233.734C234.125 76.2839 234.501 76.4397 234.777 76.7165C235.054 76.9933 235.21 77.3687 235.21 77.7602V91.9097C235.21 92.3012 235.054 92.6766 234.777 92.9534C234.501 93.2302 234.125 93.3859 233.734 93.3864Z',\r\n    fill: '#E6E6E6',\r\n  },\r\n  {\r\n    d:\r\n      'M193.044 88.136H181.053C180.662 88.1356 180.286 87.9799 180.009 87.703C179.733 87.4262 179.577 87.0509 179.576 86.6594V72.5098C179.577 72.1183 179.733 71.743 180.009 71.4662C180.286 71.1893 180.662 71.0336 181.053 71.0332H193.044C193.435 71.0336 193.81 71.1893 194.087 71.4662C194.364 71.743 194.52 72.1183 194.52 72.5098V86.6594C194.52 87.0509 194.364 87.4262 194.087 87.7031C193.81 87.9799 193.435 88.1356 193.044 88.136Z',\r\n    fill: '#FF6584',\r\n  },\r\n  {\r\n    d:\r\n      'M169.745 93.3864H157.754C157.363 93.3859 156.988 93.2302 156.711 92.9534C156.434 92.6765 156.278 92.3012 156.278 91.9097V77.7602C156.278 77.3687 156.434 76.9933 156.711 76.7165C156.988 76.4397 157.363 76.2839 157.754 76.2835H169.745C170.136 76.2839 170.512 76.4397 170.789 76.7165C171.065 76.9933 171.221 77.3687 171.222 77.7602V91.9097C171.221 92.3012 171.065 92.6766 170.789 92.9534C170.512 93.2302 170.136 93.3859 169.745 93.3864Z',\r\n    fill: '#E6E6E6',\r\n  },\r\n  {\r\n    d:\r\n      'M119.539 115.7H107.548C107.157 115.7 106.781 115.544 106.505 115.267C106.228 114.991 106.072 114.615 106.072 114.224V100.074C106.072 99.6826 106.228 99.3073 106.505 99.0305C106.781 98.7536 107.157 98.5979 107.548 98.5975H119.539C119.93 98.5979 120.305 98.7536 120.582 99.0305C120.859 99.3073 121.015 99.6826 121.015 100.074V114.224C121.015 114.615 120.859 114.991 120.582 115.267C120.305 115.544 119.93 115.7 119.539 115.7Z',\r\n    fill: '#E6E6E6',\r\n  },\r\n  {\r\n    d:\r\n      'M58.8316 96.996H46.8412C46.4497 96.9956 46.0743 96.8398 45.7975 96.563C45.5207 96.2862 45.3649 95.9108 45.3645 95.5193V81.3698C45.3649 80.9783 45.5207 80.6029 45.7975 80.3261C46.0743 80.0493 46.4497 79.8936 46.8412 79.8931H58.8316C59.2231 79.8936 59.5985 80.0493 59.8753 80.3261C60.1521 80.6029 60.3079 80.9783 60.3083 81.3698V95.5193C60.3079 95.9108 60.1521 96.2862 59.8753 96.563C59.5985 96.8398 59.2231 96.9956 58.8316 96.996Z',\r\n    fill: '#FF6584',\r\n  },\r\n  {\r\n    d:\r\n      'M92.6307 71.0724H80.6402C80.2487 71.072 79.8734 70.9163 79.5966 70.6394C79.3197 70.3626 79.164 69.9873 79.1636 69.5958V55.4462C79.164 55.0547 79.3197 54.6794 79.5966 54.4025C79.8734 54.1257 80.2487 53.97 80.6402 53.9695H92.6307C93.0222 53.97 93.3976 54.1257 93.6744 54.4025C93.9512 54.6794 94.1069 55.0547 94.1074 55.4462V69.5958C94.1069 69.9873 93.9512 70.3626 93.6744 70.6394C93.3976 70.9163 93.0222 71.072 92.6307 71.0724Z',\r\n    fill: '#E6E6E6',\r\n  },\r\n  {\r\n    d:\r\n      'M82.8141 31.8302H64.1097C63.7616 31.8302 63.4277 31.6919 63.1816 31.4458C62.9354 31.1996 62.7971 30.8658 62.7971 30.5176C62.7971 30.1695 62.9354 29.8357 63.1816 29.5895C63.4277 29.3433 63.7616 29.205 64.1097 29.205H82.8141C83.1622 29.205 83.496 29.3433 83.7422 29.5895C83.9884 29.8357 84.1266 30.1695 84.1266 30.5176C84.1266 30.8658 83.9884 31.1996 83.7422 31.4458C83.496 31.6919 83.1622 31.8302 82.8141 31.8302Z',\r\n    fill: '#CCCCCC',\r\n  },\r\n  {\r\n    d:\r\n      'M135.645 31.8302H116.941C116.593 31.8302 116.259 31.6919 116.013 31.4458C115.767 31.1996 115.628 30.8658 115.628 30.5176C115.628 30.1695 115.767 29.8357 116.013 29.5895C116.259 29.3433 116.593 29.205 116.941 29.205H135.645C135.993 29.205 136.327 29.3433 136.573 29.5895C136.82 29.8357 136.958 30.1695 136.958 30.5176C136.958 30.8658 136.82 31.1996 136.573 31.4458C136.327 31.6919 135.993 31.8302 135.645 31.8302Z',\r\n    fill: '#CCCCCC',\r\n  },\r\n  {\r\n    d:\r\n      'M185.196 31.8302H166.491C166.143 31.8302 165.809 31.6919 165.563 31.4458C165.317 31.1996 165.179 30.8658 165.179 30.5176C165.179 30.1695 165.317 29.8357 165.563 29.5895C165.809 29.3433 166.143 29.205 166.491 29.205H185.196C185.544 29.205 185.878 29.3433 186.124 29.5895C186.37 29.8357 186.508 30.1695 186.508 30.5176C186.508 30.8658 186.37 31.1996 186.124 31.4458C185.878 31.6919 185.544 31.8302 185.196 31.8302Z',\r\n    fill: '#CCCCCC',\r\n  },\r\n  {\r\n    d:\r\n      'M231.464 31.8302H212.76C212.412 31.8302 212.078 31.6919 211.832 31.4458C211.586 31.1996 211.447 30.8658 211.447 30.5176C211.447 30.1695 211.586 29.8357 211.832 29.5895C212.078 29.3433 212.412 29.205 212.76 29.205H231.464C231.812 29.205 232.146 29.3433 232.392 29.5895C232.639 29.8357 232.777 30.1695 232.777 30.5176C232.777 30.8658 232.639 31.1996 232.392 31.4458C232.146 31.6919 231.812 31.8302 231.464 31.8302Z',\r\n    fill: '#CCCCCC',\r\n  },\r\n];\r\n\r\nexport const KanbanBoard = React.memo<Props>(({ className = '', style = {} }) => {\r\n  const transRef = React.useRef<any>();\r\n  const transition = useTransition(tasks, {\r\n    from: {\r\n      transform: 'scale(0)',\r\n    },\r\n    enter: {\r\n      transform: 'scale(1)',\r\n    },\r\n    ref: transRef,\r\n    unique: true,\r\n    trail: 4000 / tasks.length,\r\n  });\r\n\r\n  useChain([transRef], [0, 0.6]);\r\n  const taskRender = transition((style, t) => {\r\n    return <animated.path style={style} d={t.d} fill={t.fill} />;\r\n  });\r\n  return (\r\n    <>\r\n      <svg\r\n        width=\"270\"\r\n        height=\"190\"\r\n        viewBox=\"0 0 270 190\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className={className}\r\n        style={style}\r\n      >\r\n        <path\r\n          d=\"M51.771 19.0325H34.5762C32.9231 19.034 31.3381 19.6914 30.1692 20.8603C29.0002 22.0292 28.3429 23.6142 28.3414 25.2673V43.9093C28.1215 43.8962 27.9017 43.8765 27.6851 43.8502C23.6115 43.4216 19.7386 41.8636 16.5031 39.3517C13.2676 36.8398 10.7982 33.474 9.37324 29.6338C7.94829 25.7935 7.62449 21.6316 8.43835 17.6171C9.2522 13.6027 11.1714 9.89547 13.9794 6.9134C16.7875 3.93133 20.3728 1.79302 24.3311 0.739558C28.2894 -0.313905 32.4633 -0.240626 36.3822 0.951138C40.3011 2.1429 43.8091 4.40576 46.5107 7.48456C49.2124 10.5634 51.0002 14.3357 51.6726 18.3762C51.7087 18.5928 51.7415 18.8126 51.771 19.0325Z\"\r\n          fill=\"#F2F2F2\"\r\n        />\r\n        <path\r\n          d=\"M254.763 18.3762H34.5764C32.7494 18.3782 30.9978 19.1049 29.7059 20.3968C28.414 21.6887 27.6873 23.4403 27.6853 25.2673V141.431C27.6873 143.258 28.414 145.01 29.7059 146.302C30.9978 147.594 32.7494 148.32 34.5764 148.322H254.763C256.59 148.32 258.341 147.594 259.633 146.302C260.925 145.01 261.652 143.258 261.654 141.431V25.2673C261.652 23.4403 260.925 21.6887 259.633 20.3968C258.341 19.1049 256.59 18.3782 254.763 18.3762ZM260.997 141.431C260.996 143.084 260.339 144.669 259.17 145.838C258.001 147.007 256.416 147.664 254.763 147.666H34.5764C32.9233 147.664 31.3383 147.007 30.1694 145.838C29.0004 144.669 28.3431 143.084 28.3416 141.431V25.2673C28.3431 23.6142 29.0004 22.0292 30.1694 20.8603C31.3383 19.6914 32.9233 19.034 34.5764 19.0325H254.763C256.416 19.034 258.001 19.6914 259.17 20.8603C260.339 22.0292 260.996 23.6142 260.997 25.2673V141.431Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M243.934 37.2019H45.4053C45.3183 37.2019 45.2348 37.1673 45.1733 37.1057C45.1117 37.0442 45.0771 36.9607 45.0771 36.8737C45.0771 36.7867 45.1117 36.7032 45.1733 36.6417C45.2348 36.5801 45.3183 36.5456 45.4053 36.5456H243.934C244.021 36.5456 244.104 36.5801 244.166 36.6417C244.228 36.7032 244.262 36.7867 244.262 36.8737C244.262 36.9607 244.228 37.0442 244.166 37.1057C244.104 37.1673 244.021 37.2019 243.934 37.2019Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M101.518 134.212C101.431 134.212 101.348 134.177 101.286 134.116C101.225 134.054 101.19 133.971 101.19 133.884V25.9236C101.19 25.8365 101.225 25.7531 101.286 25.6915C101.348 25.63 101.431 25.5954 101.518 25.5954C101.605 25.5954 101.689 25.63 101.75 25.6915C101.812 25.7531 101.846 25.8365 101.846 25.9236V133.884C101.846 133.971 101.812 134.054 101.75 134.116C101.689 134.177 101.605 134.212 101.518 134.212Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M151.068 134.212C150.981 134.212 150.898 134.177 150.836 134.116C150.775 134.054 150.74 133.971 150.74 133.884V25.9236C150.74 25.8365 150.775 25.7531 150.836 25.6915C150.898 25.63 150.981 25.5954 151.068 25.5954C151.155 25.5954 151.239 25.63 151.3 25.6915C151.362 25.7531 151.397 25.8365 151.397 25.9236V133.884C151.397 133.971 151.362 134.054 151.3 134.116C151.239 134.177 151.155 134.212 151.068 134.212Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        <path\r\n          d=\"M200.618 134.212C200.531 134.212 200.448 134.177 200.386 134.116C200.325 134.054 200.29 133.971 200.29 133.884V25.9236C200.29 25.8365 200.325 25.7531 200.386 25.6915C200.448 25.63 200.531 25.5954 200.618 25.5954C200.705 25.5954 200.789 25.63 200.85 25.6915C200.912 25.7531 200.947 25.8365 200.947 25.9236V133.884C200.947 133.971 200.912 134.054 200.85 134.116C200.789 134.177 200.705 134.212 200.618 134.212Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n        {taskRender}\r\n\r\n        <path\r\n          d=\"M40.9203 127.941C40.4402 127.894 39.9762 127.743 39.5611 127.497C39.146 127.251 38.7898 126.918 38.5176 126.519C38.2454 126.121 38.0638 125.668 37.9857 125.192C37.9076 124.716 37.9348 124.228 38.0654 123.764L29.6541 115.934L34.1013 114.806L42.3725 121.514C43.1381 121.786 43.7777 122.328 44.17 123.039C44.5623 123.75 44.6801 124.581 44.5011 125.373C44.3221 126.165 43.8587 126.864 43.1987 127.338C42.5388 127.811 41.7281 128.026 40.9203 127.941Z\"\r\n          fill=\"#FFB8B8\"\r\n        />\r\n        <path\r\n          d=\"M52.5351 185.814H56.5582L58.4719 170.297H52.5344L52.5351 185.814Z\"\r\n          fill=\"#FFB8B8\"\r\n        />\r\n        <path\r\n          d=\"M64.3169 189.549L51.6732 189.55L51.6729 184.665L59.4316 184.664C60.7272 184.664 61.9698 185.179 62.8859 186.095C63.8021 187.011 64.3168 188.254 64.3169 189.549L64.3169 189.549Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M24.9514 182.909L28.8393 183.944L34.6806 169.441L28.943 167.914L24.9514 182.909Z\"\r\n          fill=\"#FFB8B8\"\r\n        />\r\n        <path\r\n          d=\"M35.376 189.55L23.1577 186.298L24.4142 181.577L31.9118 183.573C33.1638 183.906 34.2322 184.723 34.8818 185.844C35.5315 186.965 35.7092 188.298 35.376 189.55Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M57.64 182.876H51.5013C51.1135 182.877 50.7393 182.734 50.4523 182.473C50.1653 182.212 49.9863 181.853 49.9505 181.467L46.2239 142.768C46.1966 142.485 46.0714 142.219 45.8699 142.017C45.6684 141.815 45.4031 141.69 45.1193 141.662C44.8354 141.635 44.5508 141.706 44.3141 141.865C44.0773 142.024 43.9032 142.261 43.8215 142.534L33.0014 178.695C32.8869 179.08 32.6285 179.405 32.2801 179.604C31.9316 179.802 31.5199 179.858 31.131 179.761L25.4202 178.333C25.2209 178.283 25.0334 178.194 24.8685 178.071C24.7036 177.949 24.5646 177.795 24.4595 177.618C24.3543 177.442 24.2851 177.246 24.2559 177.043C24.2266 176.84 24.2379 176.633 24.289 176.434C24.3822 176.069 33.6118 140 33.6924 139.629C35.7837 124.217 38.2855 120.087 39.6296 117.868C39.7409 117.685 39.8431 117.516 39.9352 117.356C40.0504 117.157 40.7596 115.176 41.2095 113.89C41.268 113.68 41.3691 113.486 41.5067 113.317C41.6442 113.149 41.8151 113.011 42.0086 112.913C47.6562 110.024 54.264 112.024 56.1547 112.705C56.4681 112.816 56.7374 113.025 56.9219 113.301C62.5938 121.856 59.8104 171.544 59.1948 181.418C59.1691 181.813 58.9942 182.183 58.7055 182.454C58.4168 182.725 58.0359 182.876 57.64 182.876Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M41.7981 84.8539C46.2493 84.8539 49.8578 81.2454 49.8578 76.7942C49.8578 72.343 46.2493 68.7346 41.7981 68.7346C37.3469 68.7346 33.7385 72.343 33.7385 76.7942C33.7385 81.2454 37.3469 84.8539 41.7981 84.8539Z\"\r\n          fill=\"#FFB8B8\"\r\n        />\r\n        <path\r\n          d=\"M40.9441 115.454L40.8862 115.398C40.7775 115.293 30.0391 104.773 31.4288 95.0452C32.0232 90.8844 35.3896 88.2259 41.1642 87.3565C43.2856 87.0414 45.4495 87.5027 47.258 88.6554C49.0666 89.8082 50.3983 91.5749 51.0085 93.631L56.7182 113.151L40.9441 115.454Z\"\r\n          fill=\"#CCCCCC\"\r\n        />\r\n        <path\r\n          d=\"M35.4481 122.937L27.7963 115.334C27.2731 114.811 26.8932 114.162 26.6932 113.45C26.4933 112.738 26.4799 111.986 26.6544 111.267L30.3587 96.1992C30.4697 95.7477 30.6721 95.3237 30.9535 94.9536C31.235 94.5835 31.5893 94.275 31.9948 94.0474C32.4002 93.8198 32.848 93.6778 33.3105 93.6302C33.773 93.5826 34.2404 93.6304 34.6837 93.7708C35.5286 94.0431 36.2343 94.6336 36.6514 95.4173C37.0684 96.2009 37.1641 97.1161 36.918 97.9691L33.0182 111.225L39.3246 117.997L35.4481 122.937Z\"\r\n          fill=\"#CCCCCC\"\r\n        />\r\n        <path\r\n          d=\"M76.4899 96.9878C76.2876 97.4257 75.9917 97.8139 75.6231 98.1252C75.2545 98.4364 74.8222 98.663 74.3565 98.789C73.8909 98.915 73.4033 98.9375 72.928 98.8547C72.4528 98.7719 72.0015 98.5859 71.6059 98.3098L61.3909 103.604L61.8424 99.1068L70.8982 93.5024C71.4061 92.8686 72.1288 92.4431 72.9294 92.3065C73.73 92.1699 74.5529 92.3318 75.2422 92.7614C75.9314 93.191 76.4391 93.8586 76.6691 94.6375C76.8991 95.4165 76.8353 96.2527 76.4899 96.9878H76.4899Z\"\r\n          fill=\"#FFB8B8\"\r\n        />\r\n        <path\r\n          d=\"M70.4901 100.336L60.5321 104.639C59.8693 104.923 59.1445 105.032 58.4275 104.955C57.7105 104.878 57.0253 104.618 56.4378 104.2L43.775 95.1266C43.3971 94.8558 43.0787 94.5103 42.8397 94.1116C42.6006 93.7128 42.446 93.2692 42.3853 92.8082C42.3246 92.3473 42.3591 91.8787 42.4868 91.4317C42.6144 90.9846 42.8324 90.5685 43.1274 90.2091C43.6941 89.5257 44.5046 89.0899 45.3872 88.9938C46.2698 88.8978 47.155 89.1491 47.8555 89.6945L58.7134 98.2401L67.3437 94.9012L70.4901 100.336Z\"\r\n          fill=\"#CCCCCC\"\r\n        />\r\n        <path\r\n          d=\"M43.1342 79.3769C44.1285 78.1311 45.986 78.0641 47.3518 77.2423C49.1408 76.1659 49.8804 73.7604 49.3039 71.7538C48.7274 69.7471 47.0272 68.1832 45.0779 67.4352C43.1286 66.6873 40.9599 66.6781 38.9035 67.0396C35.8418 67.5779 32.8275 69.0069 30.9602 71.4922C29.0929 73.9775 28.6177 77.6173 30.31 80.225C31.0878 81.4235 32.2885 82.4128 32.599 83.8074C33.0067 85.6383 31.7224 87.4042 30.3465 88.6791C28.7791 90.1315 26.9807 91.348 25.6075 92.9853C24.2342 94.6226 23.3184 96.8595 23.9451 98.9025C24.4701 100.614 25.9979 101.875 27.6733 102.507C29.3486 103.138 31.1733 103.23 32.9634 103.265C34.7017 103.299 36.548 103.256 38.0123 102.319C39.5799 101.316 40.4169 99.4124 40.4787 97.5522C40.5406 95.692 39.9189 93.8696 39.0859 92.2052C38.5893 91.2132 38.0119 90.2519 37.682 89.1927C37.352 88.1336 37.2949 86.9317 37.8233 85.9563C38.3787 84.931 39.5024 84.3126 40.6467 84.0878C40.7061 84.0761 40.769 84.0657 40.8348 84.0564C41.1604 84.0141 41.474 83.9063 41.7567 83.7394C42.0394 83.5725 42.2853 83.35 42.4796 83.0854C42.6739 82.8207 42.8124 82.5195 42.8869 82.1997C42.9615 81.88 42.9703 81.5485 42.9131 81.2252C42.7827 80.4986 42.794 79.8031 43.1342 79.3769Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M150.594 186.158H146.57L144.657 170.64L150.594 170.64L150.594 186.158Z\"\r\n          fill=\"#A0616A\"\r\n        />\r\n        <path\r\n          d=\"M143.697 185.008H151.456V189.893H138.812C138.812 189.252 138.938 188.616 139.184 188.024C139.429 187.431 139.789 186.892 140.243 186.439C140.696 185.985 141.235 185.625 141.827 185.38C142.42 185.134 143.055 185.008 143.697 185.008Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M179.784 181.601L176.125 183.272L167.936 169.953L173.337 167.486L179.784 181.601Z\"\r\n          fill=\"#A0616A\"\r\n        />\r\n        <path\r\n          d=\"M173.033 183.42L180.09 180.197L182.12 184.64L170.619 189.893C170.353 189.31 170.204 188.68 170.181 188.038C170.158 187.397 170.261 186.758 170.486 186.157C170.71 185.556 171.05 185.005 171.487 184.535C171.924 184.066 172.45 183.687 173.033 183.42Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M168.068 133.837C168.453 133.547 168.771 133.176 168.997 132.75C169.224 132.324 169.354 131.854 169.379 131.372C169.404 130.89 169.323 130.409 169.142 129.961C168.961 129.514 168.684 129.112 168.331 128.784L173.06 118.054L167.052 119.072L163.482 129.105C162.97 129.735 162.706 130.532 162.741 131.343C162.777 132.154 163.108 132.925 163.674 133.508C164.239 134.091 164.998 134.447 165.808 134.507C166.618 134.568 167.422 134.329 168.068 133.837Z\"\r\n          fill=\"#A0616A\"\r\n        />\r\n        <path\r\n          d=\"M150.337 182.066H146.494C146.121 182.065 145.763 181.923 145.49 181.669C145.217 181.415 145.049 181.068 145.021 180.696L142.925 124.728C142.91 124.514 142.941 124.298 143.017 124.097C143.094 123.896 143.213 123.714 143.367 123.564C143.521 123.414 143.706 123.299 143.909 123.228C144.111 123.157 144.327 123.131 144.541 123.152L166.768 125.512C167.129 125.547 167.463 125.714 167.709 125.979C167.955 126.245 168.095 126.592 168.101 126.954L168.567 151.642C168.57 151.776 168.596 151.909 168.644 152.034L177.762 175.677C177.832 175.86 177.865 176.055 177.86 176.251C177.854 176.446 177.81 176.639 177.729 176.817C177.648 176.996 177.533 177.156 177.39 177.29C177.246 177.423 177.078 177.526 176.894 177.594L173 179.029C172.661 179.154 172.289 179.15 171.953 179.019C171.618 178.889 171.341 178.639 171.176 178.319L159.976 156.54C159.915 156.422 159.87 156.296 159.843 156.165L157.93 146.946C157.874 146.679 157.725 146.44 157.51 146.273C157.294 146.105 157.026 146.02 156.753 146.032C156.48 146.045 156.221 146.154 156.021 146.34C155.822 146.526 155.695 146.778 155.664 147.049L151.804 180.757C151.763 181.118 151.591 181.45 151.32 181.691C151.05 181.933 150.7 182.066 150.337 182.066Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M152.251 80.9665C156.702 80.9665 160.31 77.3581 160.31 72.9069C160.31 68.4557 156.702 64.8473 152.251 64.8473C147.799 64.8473 144.191 68.4557 144.191 72.9069C144.191 77.3581 147.799 80.9665 152.251 80.9665Z\"\r\n          fill=\"#A0616A\"\r\n        />\r\n        <path\r\n          d=\"M157.778 129.846C152.312 129.786 146.977 128.169 142.397 125.187L142.318 125.132L142.326 125.037L145.409 89.133C145.516 87.9149 146.059 86.7764 146.94 85.9282C147.821 85.0799 148.979 84.5793 150.2 84.5187C154.195 84.3351 159.562 84.5667 162.435 86.7063C166.777 89.9401 168.869 94.8095 168.176 100.066C166.739 110.967 168.367 125.671 168.558 127.312L168.571 127.43L168.463 127.48C165.116 129.037 161.469 129.844 157.778 129.846Z\"\r\n          fill=\"#42A4FF\"\r\n        />\r\n        <path\r\n          d=\"M168.52 127.373C168.293 127.372 168.068 127.325 167.861 127.233C167.653 127.141 167.466 127.008 167.313 126.84L165.55 124.917C165.359 124.708 165.226 124.453 165.162 124.178C165.098 123.902 165.106 123.615 165.186 123.344L169.206 109.737L163.089 96.8925C162.803 96.2912 162.733 95.61 162.891 94.9632C163.03 94.3955 163.337 93.8831 163.773 93.4938C164.209 93.1045 164.753 92.8564 165.333 92.7823C165.912 92.7083 166.501 92.8117 167.021 93.0789C167.54 93.3462 167.967 93.7647 168.244 94.2793L176.544 107.747C176.882 108.293 177.079 108.914 177.121 109.555C177.162 110.196 177.045 110.837 176.781 111.422L170.018 126.407C169.906 126.654 169.735 126.87 169.519 127.035C169.303 127.2 169.05 127.309 168.782 127.352C168.695 127.366 168.608 127.373 168.52 127.373Z\"\r\n          fill=\"#42A4FF\"\r\n        />\r\n        <path\r\n          d=\"M111.711 101.382C112.098 101.67 112.543 101.869 113.016 101.966C113.488 102.063 113.977 102.056 114.446 101.944C114.915 101.832 115.354 101.618 115.732 101.318C116.11 101.018 116.417 100.639 116.633 100.208L128.261 101.716L125.589 96.2397L114.956 95.647C114.207 95.3332 113.368 95.305 112.6 95.5679C111.831 95.8307 111.186 96.3663 110.786 97.0732C110.386 97.78 110.259 98.6091 110.43 99.4031C110.6 100.197 111.056 100.901 111.711 101.382V101.382Z\"\r\n          fill=\"#A0616A\"\r\n        />\r\n        <path\r\n          d=\"M137.343 104.373C137.14 104.373 136.938 104.359 136.738 104.331L118.443 101.793C118.144 101.752 117.86 101.637 117.617 101.459C117.373 101.281 117.178 101.045 117.048 100.772C117.006 100.685 116.972 100.594 116.944 100.5H116.944C116.873 100.258 116.853 100.004 116.886 99.7534C116.918 99.5031 117.002 99.2623 117.133 99.0461L118.646 96.5361C118.809 96.2679 119.038 96.0459 119.312 95.8916C119.585 95.7373 119.893 95.6557 120.207 95.6547H120.21L136.156 95.673L148.066 85.0026C148.62 84.5073 149.328 84.2177 150.07 84.1824C150.722 84.1522 151.367 84.3203 151.922 84.6645C152.476 85.0087 152.913 85.5128 153.175 86.1104C153.437 86.7079 153.512 87.3709 153.389 88.0118C153.267 88.6527 152.953 89.2414 152.489 89.7003L140.605 102.918C140.194 103.375 139.691 103.742 139.129 103.992C138.567 104.243 137.958 104.373 137.343 104.373Z\"\r\n          fill=\"#42A4FF\"\r\n        />\r\n        <path\r\n          d=\"M153.167 80.077C153.904 78.3724 154.527 76.1023 153.114 74.8971C152.295 74.1981 151.114 74.1966 150.041 74.1096C147.016 73.8646 143.903 72.473 142.424 69.8229C140.946 67.1728 141.772 63.2323 144.561 62.0366C146.441 61.2307 148.596 61.7797 150.564 62.3378L156.472 64.0133C158.228 64.5111 160.071 65.0601 161.335 66.3764C163.351 68.4756 163.2 72.0243 161.599 74.4547C159.998 76.8851 157.587 79.4198 154.827 80.3426L153.167 80.077Z\"\r\n          fill=\"#2F2E41\"\r\n        />\r\n        <path\r\n          d=\"M234.675 190H19.3717C19.326 190 19.2807 189.987 19.2385 189.962C19.1962 189.937 19.1578 189.901 19.1255 189.854C19.0931 189.808 19.0675 189.752 19.05 189.692C19.0325 189.631 19.0234 189.566 19.0234 189.5C19.0234 189.434 19.0325 189.369 19.05 189.308C19.0675 189.248 19.0931 189.192 19.1255 189.146C19.1578 189.099 19.1962 189.063 19.2385 189.038C19.2807 189.013 19.326 189 19.3717 189H234.675C234.721 189 234.766 189.013 234.808 189.038C234.851 189.063 234.889 189.099 234.921 189.146C234.954 189.192 234.979 189.248 234.997 189.308C235.014 189.369 235.023 189.434 235.023 189.5C235.023 189.566 235.014 189.631 234.997 189.692C234.979 189.752 234.954 189.808 234.921 189.854C234.889 189.901 234.851 189.937 234.808 189.962C234.766 189.987 234.721 190 234.675 190Z\"\r\n          fill=\"#3F3D56\"\r\n        />\r\n      </svg>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport {\r\n  Group,\r\n  Div,\r\n  Text,\r\n  Spinner,\r\n  View,\r\n  Panel,\r\n  PanelHeader,\r\n  Input,\r\n  FormLayout,\r\n  HorizontalScroll,\r\n} from '@vkontakte/vkui';\r\nimport { useFela } from 'react-fela';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { isThemeDrak, getBoardUiState } from 'core/selectors/common';\r\nimport { Button } from 'atoms/Button';\r\nimport { AppDispatchActions, FetchingStateName, WelcomeView } from 'core/models';\r\nimport { KanbanBoard } from 'assets/svg/KanbanBoard';\r\nimport { useViewChange } from 'core/hooks';\r\nimport { useTransition, useChain, animated } from 'react-spring';\r\nimport { isFirstListUpdating } from 'core/selectors/boardLists';\r\n\r\nconst suggestions = ['Важные задачи', 'Работа', 'Цели', 'Дом', 'Игры', 'Спорт'];\r\n\r\nexport const Welcome = React.memo(() => {\r\n  const { css } = useFela();\r\n  const dark = useSelector(isThemeDrak);\r\n  const updating = useSelector(isFirstListUpdating);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const { firstBoardListName } = useSelector(getBoardUiState);\r\n  const { activeView, goForward } = useViewChange(WelcomeView, 'Greetings');\r\n  const transRef = React.useRef<any>();\r\n\r\n  const handleChange = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      dispatch({\r\n        type: 'SET_FIRST_BOARD_LIST_NAME',\r\n        payload: e.target.value,\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n  const handleSet = React.useCallback(\r\n    (payload: string) => {\r\n      dispatch({\r\n        type: 'SET_FIRST_BOARD_LIST_NAME',\r\n        payload,\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const transition = useTransition(suggestions, {\r\n    from: {\r\n      transform: 'scale(0)',\r\n    },\r\n    enter: {\r\n      transform: 'scale(1)',\r\n    },\r\n    ref: transRef,\r\n    unique: true,\r\n    trail: 4000 / suggestions.length,\r\n  });\r\n\r\n  useChain([transRef], [0, 0.6]);\r\n  const suggestionRender = transition((style, t) => {\r\n    return (\r\n      <animated.div style={style} className={css(itemStyle)} onClick={() => handleSet(t)}>\r\n        <Text\r\n          weight=\"medium\"\r\n          className={`useMonrope ${css({\r\n            fontSize: '13px',\r\n            lineHeight: '22px',\r\n            padding: '10px 20px',\r\n          })}`}\r\n        >\r\n          {t}\r\n        </Text>\r\n      </animated.div>\r\n    );\r\n  });\r\n\r\n  const create = React.useCallback(() => {\r\n    dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.FirstBoardList });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <View activePanel={activeView}>\r\n      <Panel id={WelcomeView.Greetings}>\r\n        <PanelHeader separator={false} />\r\n        <Group separator=\"hide\" className={css({ height: '40vh' })}>\r\n          <Div\r\n            className={css({\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              height: '100%',\r\n            })}\r\n          >\r\n            <KanbanBoard\r\n              className={css({\r\n                display: 'flex',\r\n                marginTop: 'auto',\r\n                marginBottom: '32px',\r\n                alignSelf: 'center',\r\n              })}\r\n            />\r\n          </Div>\r\n        </Group>\r\n        <Div>\r\n          <Text\r\n            weight=\"semibold\"\r\n            className={`useMonrope ${css({\r\n              fontSize: '20px',\r\n              lineHeight: '25px',\r\n              textAlign: 'center',\r\n              padding: '0 44px',\r\n              marginBottom: '14px',\r\n            })}`}\r\n          >\r\n            Добро пожаловать!\r\n          </Text>\r\n          <Text\r\n            weight=\"medium\"\r\n            className={`useMonrope ${css({\r\n              fontSize: '15px',\r\n              lineHeight: '22px',\r\n              textAlign: 'center',\r\n              padding: '0 25px',\r\n              marginBottom: '30px',\r\n              color: dark ? '#858585' : '#6A6A6A',\r\n            })}`}\r\n          >\r\n            Stuff — мини-приложение для отслеживания своих задач.\r\n          </Text>\r\n          <span className={css({ padding: '0 25px', display: 'flex', marginBottom: '.5rem' })}>\r\n            <Button\r\n              mode=\"primary\"\r\n              stretched\r\n              size=\"xl\"\r\n              onClick={() => goForward(WelcomeView.TaskCreation)}\r\n            >\r\n              Продолжить\r\n            </Button>\r\n          </span>\r\n        </Div>\r\n      </Panel>\r\n      <Panel id={WelcomeView.TaskCreation}>\r\n        <PanelHeader separator={false} />\r\n        <Group separator=\"hide\" className={css({ height: '20vh' })} />\r\n        <Div>\r\n          <Text\r\n            weight=\"semibold\"\r\n            className={`useMonrope ${css({\r\n              fontSize: '20px',\r\n              lineHeight: '25px',\r\n              textAlign: 'center',\r\n              padding: '0 44px',\r\n              marginBottom: '14px',\r\n            })}`}\r\n          >\r\n            Создайте свой первый список\r\n          </Text>\r\n          <Text\r\n            weight=\"medium\"\r\n            className={`useMonrope ${css({\r\n              fontSize: '15px',\r\n              lineHeight: '22px',\r\n              textAlign: 'center',\r\n              padding: '0 25px',\r\n              color: dark ? '#858585' : '#6A6A6A',\r\n            })}`}\r\n          >\r\n            Название можно изменить в настройках списка.\r\n          </Text>\r\n          <FormLayout className={css({ margin: '0 13px' })}>\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Придумайте название\"\r\n              minLength={1}\r\n              maxLength={512}\r\n              className={css({\r\n                marginTop: '2rem',\r\n                marginBottom: '1rem',\r\n                '>div': {\r\n                  border: 'none !important',\r\n                  background: 'transparent !important',\r\n                  borderRadius: '11px !important',\r\n                },\r\n                '>input': {\r\n                  border: '1px solid #F0F0F0 !important',\r\n                  background: 'transparent !important',\r\n                  borderRadius: '11px !important',\r\n                  height: '59px !important',\r\n                  paddingLeft: '19px',\r\n                  paddingRight: '19px',\r\n                },\r\n              } as any)}\r\n              onChange={handleChange}\r\n              value={firstBoardListName}\r\n            />\r\n          </FormLayout>\r\n          <span className={css({ display: 'flex', alignItems: 'center' })}>\r\n            <Text\r\n              weight=\"medium\"\r\n              className={`useMonrope ${css({\r\n                fontSize: '13px',\r\n                lineHeight: '22px',\r\n                color: dark ? '#858585' : '#AEAEAE',\r\n                paddingLeft: '25px',\r\n              })}`}\r\n            >\r\n              Подсказки:\r\n            </Text>\r\n            <HorizontalScroll className={css({ paddingLeft: '9px' })}>\r\n              <div style={{ display: 'flex' }}>{suggestionRender}</div>\r\n            </HorizontalScroll>\r\n          </span>\r\n          <span\r\n            className={css({\r\n              padding: '0 25px',\r\n              display: 'flex',\r\n              marginBottom: '.5rem',\r\n              marginTop: '1rem',\r\n            })}\r\n          >\r\n            <Button\r\n              mode=\"primary\"\r\n              stretched\r\n              square\r\n              onClick={create}\r\n              disabled={!firstBoardListName || updating}\r\n              before={updating ? <Spinner /> : null}\r\n            >\r\n              Создать\r\n            </Button>\r\n          </span>\r\n        </Div>\r\n      </Panel>\r\n    </View>\r\n  );\r\n});\r\n\r\nconst itemStyle = () => ({\r\n  border: ' 1px solid #F0F0F0',\r\n  borderRadius: '27px',\r\n  height: '42px',\r\n  flexShrink: 0,\r\n  marginRight: '9px',\r\n});\r\n","import React from 'react';\r\nimport { Snackbar, Avatar } from '@vkontakte/vkui';\r\nimport Icon24ErrorCircle from '@vkontakte/icons/dist/24/error_circle';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getStateUi } from 'core/selectors/common';\r\nimport { AppDispatchActions } from 'core/models';\r\nimport { useFela } from 'react-fela';\r\n\r\nexport const SnakbarsErr = React.memo(() => {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [humanError, setError] = React.useState('');\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const errorsQueue = useSelector(getStateUi).errorsQueue;\r\n  const { css } = useFela();\r\n\r\n  React.useEffect(() => {\r\n    if (errorsQueue.length > 0 && !visible) {\r\n      setError(errorsQueue[0] ?? '');\r\n      setVisible(true);\r\n      dispatch({\r\n        type: 'DEQUEUE_ERROR',\r\n        payload: errorsQueue[0],\r\n      });\r\n    }\r\n  }, [errorsQueue, visible]);\r\n\r\n  if (!visible) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Snackbar\r\n        layout=\"vertical\"\r\n        onClose={() => setVisible(false)}\r\n        before={\r\n          <Avatar size={24}>\r\n            <Icon24ErrorCircle fill=\"#FF4848\" width={24} height={24} />\r\n          </Avatar>\r\n        }\r\n        className={css({ zIndex: 105 })}\r\n      >\r\n        {humanError}\r\n      </Snackbar>\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { View, Panel, PanelHeader, PanelHeaderBack, Text } from '@vkontakte/vkui';\r\nimport { Offline } from './Offline';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getActiveMainView } from 'core/selectors/router';\r\nimport { MainView, AppDispatchActions, ActiveModal } from 'core/models';\r\nimport { BoardLayout } from 'modules/board';\r\nimport { RootModals } from 'modules/modals/Root';\r\nimport { ListMembershipLayout } from 'modules/board-list';\r\nimport { useViewChange } from 'core/hooks';\r\nimport { goBack, push, getSearch } from 'connected-react-router';\r\nimport { useFela } from 'react-fela';\r\nimport { isThemeDrak } from 'core/selectors/common';\r\nimport { Premium } from 'modules/about';\r\nimport { MembershipPreview } from 'modules/membership-preview';\r\nimport { isPreviewMembershipReady } from 'core/selectors/membership';\r\nimport { Welcome } from 'modules/welcome';\r\nimport { SnakbarsErr } from 'modules/snaks';\r\n\r\nexport const Main = React.memo(() => {\r\n  const activeView = useSelector(getActiveMainView);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const dark = useSelector(isThemeDrak);\r\n  const search = useSelector(getSearch);\r\n  const previewMembershipReady = useSelector(isPreviewMembershipReady);\r\n  const { css } = useFela();\r\n  const { goForward, goBack: swipeBack, history } = useViewChange(MainView, 'Board', true);\r\n\r\n  React.useEffect(() => {\r\n    if (previewMembershipReady) {\r\n      goToMembershipPreview();\r\n    }\r\n  }, [previewMembershipReady]);\r\n\r\n  const goToMembershipPreview = React.useCallback(() => {\r\n    goForward(MainView.ListSharePreview);\r\n    dispatch(push(`/${MainView.ListSharePreview}${search}`) as any);\r\n  }, [dispatch, goForward, search]);\r\n\r\n  const handleBack = () => {\r\n    if (activeView === MainView.ListMembership) {\r\n      dispatch({ type: 'SET_MODAL', payload: ActiveModal.Lists });\r\n    }\r\n    swipeBack();\r\n    dispatch(goBack() as any);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <View\r\n        activePanel={activeView}\r\n        modal={<RootModals goForward={goForward} />}\r\n        onSwipeBack={handleBack}\r\n        history={history}\r\n      >\r\n        <Panel\r\n          id={MainView.Board}\r\n          className={css({\r\n            background: dark\r\n              ? undefined\r\n              : 'linear-gradient(180deg, #FFFFFF 12.81%, #FBFBFB 100%) !important',\r\n            '>div': {\r\n              background: dark\r\n                ? undefined\r\n                : 'linear-gradient(180deg, #FFFFFF 12.81%, #FBFBFB 100%) !important',\r\n            },\r\n          } as any)}\r\n        >\r\n          <BoardLayout />\r\n        </Panel>\r\n        <Panel id={MainView.Offline}>\r\n          <Offline />\r\n        </Panel>\r\n        <Panel id={MainView.ListMembership}>\r\n          <PanelHeader separator={false} left={<PanelHeaderBack onClick={handleBack} />}>\r\n            <Text\r\n              weight=\"semibold\"\r\n              className={`useMonrope ${css({\r\n                fontSize: '18px',\r\n                whiteSpace: 'nowrap',\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis',\r\n                lineHeight: '24px',\r\n              })}`}\r\n            >\r\n              Доступ\r\n            </Text>\r\n          </PanelHeader>\r\n          <ListMembershipLayout />\r\n        </Panel>\r\n        <Panel id={MainView.About}>\r\n          <PanelHeader separator={false} left={<PanelHeaderBack onClick={handleBack} />}>\r\n            <Text\r\n              weight=\"semibold\"\r\n              className={`useMonrope ${css({\r\n                fontSize: '18px',\r\n                whiteSpace: 'nowrap',\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis',\r\n                lineHeight: '24px',\r\n              })}`}\r\n            >\r\n              О приложении\r\n            </Text>\r\n          </PanelHeader>\r\n          <Premium />\r\n        </Panel>\r\n        <Panel id={MainView.ListSharePreview}>\r\n          <PanelHeader separator={false} />\r\n          <MembershipPreview handleBack={handleBack} />\r\n        </Panel>\r\n        <Panel id={MainView.Welcome}>\r\n          <Welcome />\r\n        </Panel>\r\n      </View>\r\n      <SnakbarsErr />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { PanelHeader, Group, Div, Title, Text } from '@vkontakte/vkui';\r\nimport { AlienOffline } from 'assets/svg/AlienOffline';\r\nimport { captureException } from '@sentry/browser';\r\n\r\ntype LocalState = {\r\n  hasError: boolean;\r\n  error: any;\r\n};\r\n\r\nexport class ErrorBoundary extends React.Component<unknown, LocalState> {\r\n  state: LocalState = { hasError: false, error: '' };\r\n\r\n  static getDerivedStateFromError(error: any) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    // You can also log the error to an error reporting service\r\n    captureException(error);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <>\r\n          <PanelHeader separator={false} />\r\n          <Group\r\n            separator=\"hide\"\r\n            style={{\r\n              height: '40vh',\r\n            }}\r\n          >\r\n            <Div\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                height: '100%',\r\n              }}\r\n            >\r\n              <AlienOffline\r\n                style={{\r\n                  display: 'flex',\r\n                  marginTop: 'auto',\r\n                  marginBottom: '2rem',\r\n                  alignSelf: 'center',\r\n                }}\r\n              />\r\n            </Div>\r\n          </Group>\r\n          <Group separator=\"hide\" style={{ textAlign: 'center' }}>\r\n            <Title weight=\"bold\" level=\"2\" className=\"useMonrope manropeBold\">\r\n              Произошла ошибка\r\n            </Title>\r\n            <Text weight=\"regular\">{JSON.stringify(this.state.error)}</Text>\r\n          </Group>\r\n        </>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","let clientCallbacks: { [name: string]: any } = {};\r\n\r\ntype CallbackMethod = <M>() => M;\r\n\r\nexport function clientPerformCallback<T>(perform: (c: CallbackMethod) => T): T {\r\n  const callbacks = (clientCallbacks = clientCallbacks || {});\r\n\r\n  const pr: any = perform((): any => null);\r\n\r\n  Object.keys(pr).forEach((m) => {\r\n    callbacks[m] = pr[m];\r\n  });\r\n\r\n  return callbacks as T;\r\n}\r\n\r\nexport function initCallbacks(socket: SocketIOClient.Socket) {\r\n  Object.keys(clientCallbacks).forEach((m) => {\r\n    let subscribe: Function = socket['on'];\r\n\r\n    subscribe.call(socket, m, function () {\r\n      const cb = clientCallbacks[m];\r\n      if (cb) {\r\n        cb.apply(socket, arguments);\r\n      }\r\n    });\r\n  });\r\n}\r\n","import io from 'socket.io-client';\r\nimport { initCallbacks } from './callbacks';\r\n\r\nconst listNs = '/selectedList';\r\n\r\nlet selectedListConnected = false;\r\n\r\nlet socket: SocketIOClient.Socket;\r\n\r\nexport const connectListSocket = (query: string) => {\r\n  console.debug('list connecting');\r\n  if (selectedListConnected) return;\r\n  socket = io(listNs, { query: query.replace(/\\?vk_/g, 'vk_') });\r\n\r\n  socket.on('connect', () => {\r\n    console.debug('list ws connected');\r\n    initCallbacks(socket);\r\n    selectedListConnected = true;\r\n  });\r\n  socket.on('disconnect', () => {\r\n    console.debug('list ws disconnected');\r\n    selectedListConnected = false;\r\n  });\r\n};\r\n\r\nexport const joinRoom = (listGUID: string, userId: number) => {\r\n  socket.emit('joinRoom', { listGUID, userId });\r\n};\r\nexport const leaveRoom = (listGUID: string) => {\r\n  socket.emit('leaveRoom', listGUID);\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Main } from 'roots/Main';\r\nimport { FetchingStateName, AppDispatchActions } from 'core/models';\r\nimport { ErrorBoundary } from 'modules/error-bound';\r\nimport { connectListSocket } from 'core/socket/list';\r\nimport { getSearch } from 'connected-react-router';\r\n\r\nexport const Router = React.memo(() => {\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n  const search = useSelector(getSearch);\r\n\r\n  React.useEffect(() => {\r\n    dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.User });\r\n    dispatch({ type: 'SET_UPDATING_DATA', payload: FetchingStateName.Ads });\r\n    connectListSocket(search);\r\n  }, []);\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <Main />\r\n    </ErrorBoundary>\r\n  );\r\n});\r\n","import * as models from 'core/models';\r\nimport {\r\n  FetchingStatus,\r\n  ClientTheme,\r\n  ActiveModal,\r\n  appId,\r\n  FINISH_TASK_TIMER_VALUE,\r\n} from 'core/models';\r\n\r\nconst hashListGUID = window.location.hash ? window.location.hash.split('#').pop() : null;\r\n\r\nexport const initialState: models.AppState['ui'] = {\r\n  theme: ClientTheme.Light,\r\n  errorsQueue: [],\r\n  fetchingDatas: {},\r\n  notifications: false,\r\n  appId,\r\n  hashListGUID: hashListGUID ?? null,\r\n  online: true,\r\n  initialQuery: '',\r\n  isAppUser: true,\r\n  onlineHandleActivate: true,\r\n  activeModal: null,\r\n  board: {\r\n    selectedList: {\r\n      data: {\r\n        created: '',\r\n        createdBy: 0,\r\n        id: 0,\r\n        listguid: '',\r\n        memberships: [],\r\n        name: '',\r\n      },\r\n      id: 1,\r\n      tasks: [],\r\n    },\r\n    boardListName: '',\r\n    firstBoardListName: '',\r\n    editBoardListName: '',\r\n    boardListOpenId: 0,\r\n    boardListToDeleteId: 0,\r\n    newTask: {\r\n      description: '',\r\n      dueDate: '',\r\n      name: '',\r\n    },\r\n    tasksToBeUnfinished: [],\r\n    tasksToBeFinished: [],\r\n    tasksToBeFinishedTimer: FINISH_TASK_TIMER_VALUE,\r\n    selectedTask: {\r\n      id: 0,\r\n      name: '',\r\n      description: '',\r\n      dueDate: '',\r\n      taskGUID: '',\r\n    },\r\n    editedTask: {\r\n      id: 0,\r\n      name: '',\r\n      description: '',\r\n      dueDate: '',\r\n      taskGUID: '',\r\n    },\r\n  },\r\n  membership: {\r\n    dropUserId: 0,\r\n  },\r\n  showAds: true,\r\n  googleSyncProccess: false,\r\n};\r\n\r\nexport const reducer = (\r\n  state = initialState,\r\n  dispatch: models.AppDispatch\r\n): models.AppState['ui'] => {\r\n  switch (dispatch.type) {\r\n    case 'SET_THEME': {\r\n      return {\r\n        ...state,\r\n        theme: dispatch.payload,\r\n      };\r\n    }\r\n    case 'SET_UPDATING_DATA': {\r\n      return {\r\n        ...state,\r\n        fetchingDatas: {\r\n          ...state.fetchingDatas,\r\n          [dispatch.payload]: {\r\n            ...(state.fetchingDatas[dispatch.payload] ?? {}),\r\n            status: FetchingStatus.Updating,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case 'SET_READY_DATA': {\r\n      return {\r\n        ...state,\r\n        fetchingDatas: {\r\n          ...state.fetchingDatas,\r\n          [dispatch.payload.name]: {\r\n            ...(state.fetchingDatas[dispatch.payload.name] ?? {}),\r\n            status: FetchingStatus.Ready,\r\n            data: dispatch.payload.data,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case 'SET_ERROR_DATA': {\r\n      return {\r\n        ...state,\r\n        fetchingDatas: {\r\n          ...state.fetchingDatas,\r\n          [dispatch.payload.name]: {\r\n            ...(state.fetchingDatas[dispatch.payload.name] ?? {}),\r\n            status: FetchingStatus.Error,\r\n            error: dispatch.payload.error,\r\n          },\r\n        },\r\n        errorsQueue:\r\n          state.errorsQueue.includes(dispatch.payload.error) ||\r\n          (typeof dispatch.payload.error === 'string' &&\r\n            dispatch.payload.error.includes('Cannot load '))\r\n            ? state.errorsQueue\r\n            : [...state.errorsQueue, dispatch.payload.error],\r\n      };\r\n    }\r\n\r\n    case 'SET_NOTIFICATIONS': {\r\n      return {\r\n        ...state,\r\n        notifications: dispatch.payload,\r\n      };\r\n    }\r\n    case 'SET_APPID': {\r\n      return {\r\n        ...state,\r\n        appId: dispatch.payload,\r\n      };\r\n    }\r\n    case 'SET_HASH': {\r\n      return {\r\n        ...state,\r\n        hashListGUID: dispatch.payload,\r\n      };\r\n    }\r\n    case 'SET_APP_CONNECT': {\r\n      return {\r\n        ...state,\r\n        online: dispatch.payload,\r\n      };\r\n    }\r\n    case 'SET_INIT_QUERY': {\r\n      return {\r\n        ...state,\r\n        initialQuery: dispatch.payload,\r\n      };\r\n    }\r\n    case 'SET_APP_USER': {\r\n      return {\r\n        ...state,\r\n        isAppUser: dispatch.payload,\r\n      };\r\n    }\r\n\r\n    case 'HANDLE_ACTIVATE_INIT': {\r\n      return {\r\n        ...state,\r\n        onlineHandleActivate: dispatch.payload,\r\n        activeModal: null,\r\n      };\r\n    }\r\n\r\n    case 'SET_MODAL': {\r\n      return {\r\n        ...state,\r\n        activeModal: dispatch.payload,\r\n      };\r\n    }\r\n    case 'SELECT_BOARD_LIST': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          selectedList: {\r\n            ...state.board.selectedList,\r\n            id: dispatch.payload.id,\r\n            data: dispatch.payload.data ?? state.board.selectedList.data,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case 'SET_BOARD_TASKS': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          selectedList: {\r\n            ...state.board.selectedList,\r\n            tasks: dispatch.payload,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case 'OPEN_BOARD_LIST': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          boardListOpenId: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'UPDATE_NEW_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          newTask: {\r\n            ...state.board.newTask,\r\n            [dispatch.payload.name]: dispatch.payload.value,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case 'RESET_NEW_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          newTask: {\r\n            description: null,\r\n            dueDate: null,\r\n            name: '',\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case 'FINISH_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          tasksToBeFinished: [...state.board.tasksToBeFinished, dispatch.payload],\r\n        },\r\n      };\r\n    }\r\n    case 'REMOVE_FINISH_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          tasksToBeFinished: state.board.tasksToBeFinished.filter(\r\n            (tId) => tId !== dispatch.payload\r\n          ),\r\n        },\r\n      };\r\n    }\r\n    case 'UNFINISH_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          tasksToBeUnfinished: [...state.board.tasksToBeUnfinished, dispatch.payload],\r\n        },\r\n      };\r\n    }\r\n    case 'REMOVE_UNFINISH_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          tasksToBeUnfinished: state.board.tasksToBeUnfinished.filter(\r\n            (tId) => tId !== dispatch.payload\r\n          ),\r\n        },\r\n      };\r\n    }\r\n    case 'RESET_FINISH_TASKS': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          tasksToBeFinished: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'RESET_UNFINISH_TASKS': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          tasksToBeUnfinished: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'SELECT_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          selectedTask: dispatch.payload,\r\n          editedTask: dispatch.payload,\r\n        },\r\n        activeModal: ActiveModal.SelectedTask,\r\n      };\r\n    }\r\n    case 'EDIT_TASK': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          editedTask: {\r\n            ...state.board.editedTask,\r\n            [dispatch.payload.name]: dispatch.payload.value,\r\n          },\r\n        },\r\n      };\r\n    }\r\n\r\n    case 'SET_BOARD_LIST_NAME': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          boardListName: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'SET_FINISH_TASK_TIMER': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          tasksToBeFinishedTimer: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'DROP_MEMBER_SHIP_ID': {\r\n      return {\r\n        ...state,\r\n        membership: {\r\n          ...state.membership,\r\n          dropUserId: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n\r\n    case 'SET_DELETE_BOARD_LIST_ID': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          boardListToDeleteId: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'EDIT_BOARD_LIST_NAME': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          editBoardListName: dispatch.payload.name,\r\n        },\r\n      };\r\n    }\r\n    case 'SET_FIRST_BOARD_LIST_NAME': {\r\n      return {\r\n        ...state,\r\n        board: {\r\n          ...state.board,\r\n          firstBoardListName: dispatch.payload,\r\n        },\r\n      };\r\n    }\r\n    case 'SET_ADS': {\r\n      return {\r\n        ...state,\r\n        showAds: dispatch.payload,\r\n      };\r\n    }\r\n    case 'ENQUEUE_ERROR': {\r\n      return {\r\n        ...state,\r\n        errorsQueue: state.errorsQueue.includes(dispatch.payload)\r\n          ? state.errorsQueue\r\n          : [...state.errorsQueue, dispatch.payload],\r\n      };\r\n    }\r\n    case 'DEQUEUE_ERROR': {\r\n      return {\r\n        ...state,\r\n        errorsQueue: state.errorsQueue.filter((e) => e !== dispatch.payload),\r\n      };\r\n    }\r\n    case 'SET_GOOGLE_SYNC': {\r\n      return {\r\n        ...state,\r\n        googleSyncProccess: dispatch.payload,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { OS } from '@vkontakte/vkui';\r\n\r\nexport const getOrigin = window.location.origin;\r\n\r\nexport const errMap = (error: any) =>\r\n  JSON.stringify(error, [\r\n    'message',\r\n    'arguments',\r\n    'type',\r\n    'name',\r\n    'error_type',\r\n    'error_data',\r\n    'statusCode',\r\n  ]);\r\n\r\nexport const platform = () => (/android/i.test(navigator.userAgent) ? OS.ANDROID : OS.IOS);\r\n","import { tapticDone } from 'core/vk-bridge/taptic';\r\nimport { TapticNotificationType } from '@vkontakte/vk-bridge';\r\nimport { isPlatformIOS } from 'core/selectors/settings';\r\nimport { from } from 'rxjs';\r\nimport { mergeMap, timeout, tap } from 'rxjs/operators';\r\nimport { AppDispatch, Skeys, isDev } from 'core/models';\r\nimport { captureErrorAndNothingElse } from './errors';\r\nimport { setStorageValue } from 'core/vk-bridge/user';\r\n\r\nexport const useTapticEpic = (type: TapticNotificationType) =>\r\n  from(isPlatformIOS() ? tapticDone(type) : Promise.resolve()).pipe(\r\n    devTimeout(),\r\n    mergeMap(() => [] as AppDispatch[]),\r\n    captureErrorAndNothingElse('useTapticEpic')\r\n  );\r\n\r\nexport const setStorageValueEpic = (key: Skeys, value: string) =>\r\n  from(setStorageValue(key, value)).pipe(\r\n    devTimeout(),\r\n    mergeMap(() => [] as AppDispatch[]),\r\n    captureErrorAndNothingElse('setStorageValueEpic')\r\n  );\r\n\r\nexport const devTimeout = <T>() => (isDev ? timeout<T>(1500) : tap<T>());\r\n","import { vkBridge } from './instance';\r\nimport { Skeys, appId, payToUserId, premiumPrice } from 'core/models';\r\n\r\nexport const getUserData = () => vkBridge.send('VKWebAppGetUserInfo');\r\n\r\nexport const getUserStorageKeys = () =>\r\n  vkBridge.send('VKWebAppStorageGet', {\r\n    keys: [Skeys.appUser, Skeys.userSelectedListId],\r\n  });\r\n\r\nexport const setStorageValue = (key: Skeys, value: string) =>\r\n  vkBridge.send('VKWebAppStorageSet', { key, value });\r\n\r\nexport const buyPremium = () =>\r\n  vkBridge.send('VKWebAppOpenPayForm', {\r\n    app_id: appId,\r\n    action: 'pay-to-user',\r\n    params: { user_id: payToUserId, amount: premiumPrice },\r\n  });\r\n","import { FetchingStateName, AppDispatch } from 'core/models';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { ObservableInput, of, concat, empty } from 'rxjs';\r\nimport { captureUrlEvent } from 'core/sentry';\r\nimport { errMap } from 'core/utils';\r\nimport { useTapticEpic } from './addons';\r\n\r\nexport const captureFetchError = (name: FetchingStateName) =>\r\n  catchError<AppDispatch, ObservableInput<AppDispatch>>((error, o) => {\r\n    console.error('Error in', name, errMap(error));\r\n    captureUrlEvent(`Error in ${name} ${errMap(error)}`);\r\n    return of({\r\n      type: 'SET_ERROR_DATA',\r\n      payload: {\r\n        name,\r\n        error: `Cannot load ${name} data`,\r\n      },\r\n    });\r\n  });\r\n\r\nexport const captureFetchErrorMoreActions = (name: FetchingStateName, ...actions: AppDispatch[]) =>\r\n  catchError<AppDispatch, ObservableInput<AppDispatch>>((error, o) => {\r\n    console.error('Error in', name, errMap(error));\r\n    captureUrlEvent(`Error in ${name} ${errMap(error)}`);\r\n    return concat(\r\n      of({\r\n        type: 'SET_ERROR_DATA',\r\n        payload: {\r\n          name,\r\n          error: `Cannot load ${name} data`,\r\n        },\r\n      } as AppDispatch),\r\n      ...actions.map((a) => of(a))\r\n    );\r\n  });\r\nexport const captureErrorFallbackActions = (context: string, ...actions: AppDispatch[]) =>\r\n  catchError<AppDispatch, ObservableInput<AppDispatch>>((error, o) => {\r\n    console.error('Error in', context, errMap(error));\r\n    captureUrlEvent(`Error in ${context} ${errMap(error)}`);\r\n    return concat(...actions.map((a) => of(a)));\r\n  });\r\n\r\nexport const captureFetchErrorUserErr = (name: FetchingStateName, humanError: string) =>\r\n  catchError<AppDispatch, ObservableInput<AppDispatch>>((error, o) => {\r\n    console.error('Error in', name, errMap(error));\r\n    captureUrlEvent(`Error in ${name} ${errMap(error)}`);\r\n    return of({\r\n      type: 'SET_ERROR_DATA',\r\n      payload: {\r\n        name,\r\n        error: humanError,\r\n      },\r\n    });\r\n  });\r\n\r\nexport const captureFetchErrorWithTaptic = (name: FetchingStateName, humanError: string) =>\r\n  catchError<AppDispatch, ObservableInput<AppDispatch>>((error, o) => {\r\n    console.error('Error in', name, errMap(error));\r\n    captureUrlEvent(`Error in ${name} ${errMap(error)}`);\r\n    return concat(\r\n      of({\r\n        type: 'SET_ERROR_DATA',\r\n        payload: {\r\n          name,\r\n          error: humanError,\r\n        },\r\n      } as AppDispatch),\r\n      useTapticEpic('error')\r\n    );\r\n  });\r\n\r\nexport const captureErrorAndNothingElse = (context: string) =>\r\n  catchError<AppDispatch, ObservableInput<AppDispatch>>((error, o) => {\r\n    console.error('Error in', context, errMap(error));\r\n    captureUrlEvent(`Error in ${context} ${errMap(error)}`);\r\n    return empty();\r\n  });\r\n","import { Action, AnyAction } from 'redux';\r\nimport { Epic, combineEpics } from 'redux-observable';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nexport function safeCombineEpics<T extends Action = AnyAction, O extends T = T, S = void, D = {}>(\r\n  ...epics: Epic<T, O, S, D>[]\r\n): Epic<T, O, S, D> {\r\n  const pipeCatchError = (epic: Epic): Epic => (action$, state$, dependencies) =>\r\n    epic(action$, state$, dependencies).pipe(\r\n      catchError((error, caughtObs) => {\r\n        console.error('Uncaught epic error (safe):', error);\r\n\r\n        if (dependencies && typeof dependencies.captureException === 'function') {\r\n          dependencies.captureException(error);\r\n        }\r\n\r\n        return caughtObs;\r\n      })\r\n    );\r\n\r\n  return combineEpics<T, O, S, D>(...epics.map(pipeCatchError));\r\n}\r\n","import { ofType } from 'redux-observable';\r\nimport {\r\n  AppDispatch,\r\n  FetchingStateName,\r\n  AppUser,\r\n  AppEpic,\r\n  Skeys,\r\n  SelectBoardListAction,\r\n} from 'core/models';\r\nimport { filter, switchMap, mergeMap, auditTime } from 'rxjs/operators';\r\nimport { from } from 'rxjs';\r\nimport { getUserData, getUserStorageKeys } from 'core/vk-bridge/user';\r\nimport { UserInfo } from '@vkontakte/vk-bridge';\r\nimport { getHash, getSearch } from 'connected-react-router';\r\nimport { captureFetchErrorMoreActions } from './errors';\r\nimport { getLocationNotificationEnabled, getLocationVkAppId } from 'core/selectors/router';\r\nimport { safeCombineEpics } from './combine';\r\nimport { devTimeout, setStorageValueEpic } from './addons';\r\n\r\nconst getUserInfo: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.User),\r\n    switchMap(() =>\r\n      from(getUserData()).pipe(\r\n        devTimeout(),\r\n        mergeMap((userInfo: UserInfo) => {\r\n          return [\r\n            {\r\n              type: 'SET_READY_DATA',\r\n              payload: {\r\n                name: FetchingStateName.User,\r\n                data: userInfo,\r\n              },\r\n            },\r\n            {\r\n              type: 'SET_UPDATING_DATA',\r\n              payload: FetchingStateName.PaymentInfo,\r\n            },\r\n            {\r\n              type: 'SET_UPDATING_DATA',\r\n              payload: FetchingStateName.UserSKeys,\r\n            },\r\n          ] as AppDispatch[];\r\n        }),\r\n        captureFetchErrorMoreActions(\r\n          FetchingStateName.User,\r\n          {\r\n            type: 'SET_UPDATING_DATA',\r\n            payload: FetchingStateName.UserSKeys,\r\n          },\r\n          {\r\n            type: 'SET_UPDATING_DATA',\r\n            payload: FetchingStateName.PaymentInfo,\r\n          }\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nconst getUserSKeysEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.UserSKeys),\r\n    switchMap(() =>\r\n      from(getUserStorageKeys()).pipe(\r\n        devTimeout(),\r\n        mergeMap((result) => {\r\n          const isAppUser = result.keys.find((v) => v.key === Skeys.appUser)?.value === AppUser.Yes;\r\n          const selectedListId =\r\n            result.keys.find((v) => v.key === Skeys.userSelectedListId)?.value ?? 0;\r\n          return [\r\n            {\r\n              type: 'SET_APP_USER',\r\n              payload: isAppUser,\r\n            },\r\n            {\r\n              type: 'SELECT_BOARD_LIST',\r\n              payload: {\r\n                id: Number(selectedListId),\r\n              },\r\n            },\r\n            {\r\n              type: 'SET_UPDATING_DATA',\r\n              payload: FetchingStateName.Board,\r\n            },\r\n            {\r\n              type: 'SET_READY_DATA',\r\n              payload: {\r\n                name: FetchingStateName.UserSKeys,\r\n                data: undefined,\r\n              },\r\n            },\r\n          ] as AppDispatch[];\r\n        }),\r\n        captureFetchErrorMoreActions(\r\n          FetchingStateName.UserSKeys,\r\n          {\r\n            type: 'SET_APP_USER',\r\n            payload: false,\r\n          },\r\n          {\r\n            type: 'SET_UPDATING_DATA',\r\n            payload: FetchingStateName.Board,\r\n          }\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nconst setInitInfo: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.User),\r\n    mergeMap(() => {\r\n      const state = state$.value;\r\n      const hash = getHash(state$.value);\r\n      const q = getSearch(state$.value);\r\n      const hashListGUID = hash ? hash.split('#').pop() : null;\r\n      const actions: AppDispatch[] = [\r\n        {\r\n          type: 'SET_NOTIFICATIONS',\r\n          payload: !!getLocationNotificationEnabled(state),\r\n        },\r\n        {\r\n          type: 'SET_APPID',\r\n          payload: getLocationVkAppId(state),\r\n        },\r\n        {\r\n          type: 'SET_HASH',\r\n          payload: hashListGUID ?? null,\r\n        },\r\n      ];\r\n\r\n      if (!!q) {\r\n        actions.push({\r\n          type: 'SET_INIT_QUERY',\r\n          payload: q,\r\n        });\r\n      }\r\n      return actions;\r\n    })\r\n  );\r\n\r\nconst updateUserStorageSelectedListId: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SELECT_BOARD_LIST'),\r\n    auditTime<SelectBoardListAction>(2500),\r\n    switchMap(({ payload }) => setStorageValueEpic(Skeys.userSelectedListId, String(payload.id)))\r\n  );\r\n\r\nexport const userEpics = safeCombineEpics(\r\n  getUserInfo,\r\n  getUserSKeysEpic,\r\n  setInitInfo,\r\n  updateUserStorageSelectedListId\r\n);\r\n","import { fromFetch } from 'rxjs/fetch';\r\n\r\nexport const request = <T = {}>(url: string, method: Method, data?: T) =>\r\n  fromFetch(`/api${url}`, {\r\n    headers: {\r\n      'Content-Type': 'application/json; charset=UTF-8',\r\n    },\r\n    method: method,\r\n    body: data ? JSON.stringify(data) : undefined,\r\n  });\r\n\r\nexport enum Method {\r\n  Get = 'get',\r\n  Post = 'post',\r\n  Put = 'put',\r\n  Delete = 'delete',\r\n}\r\n","import { vkBridge } from './instance';\r\n\r\nexport const getAdsData = vkBridge.supports('VKWebAppGetAds')\r\n  ? vkBridge.send('VKWebAppGetAds' as any)\r\n  : Promise.reject();\r\n","import { ofType } from 'redux-observable';\r\nimport { AppDispatch, FetchingStateName, BannerData, AppEpic } from 'core/models';\r\nimport { filter, switchMap, mergeMap } from 'rxjs/operators';\r\nimport { from } from 'rxjs';\r\nimport { getAdsData } from 'core/vk-bridge/ads';\r\nimport { captureFetchError } from './errors';\r\n\r\nexport const getAdsEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.Ads),\r\n    switchMap(() =>\r\n      from(getAdsData).pipe(\r\n        mergeMap((adsData: BannerData) => {\r\n          return [\r\n            {\r\n              type: 'SET_READY_DATA',\r\n              payload: {\r\n                name: FetchingStateName.Ads,\r\n                data: adsData,\r\n              },\r\n            },\r\n          ] as AppDispatch[];\r\n        }),\r\n        captureFetchError(FetchingStateName.Ads)\r\n      )\r\n    )\r\n  );\r\n","import { request, Method } from './common';\r\n\r\nexport const getBoard = (q: string) => request(`/board${q}`, Method.Get);\r\n\r\nexport const newBoardList = (name: string, q: string) =>\r\n  request(`/board/list${q}`, Method.Post, { name });\r\n\r\nexport const editBoardList = (name: string, listId: number, q: string) =>\r\n  request(`/board/list${q}`, Method.Put, { name, listId });\r\n","import {\r\n  AppEpic,\r\n  FetchingStateName,\r\n  AppDispatch,\r\n  FetchResponse,\r\n  BoardListItem,\r\n  EditBoardNamePayload,\r\n  FetchReadyAction,\r\n  Skeys,\r\n  AppUser,\r\n} from 'core/models';\r\nimport { ofType } from 'redux-observable';\r\nimport { filter, switchMap, map, debounceTime, exhaustMap, delay, auditTime } from 'rxjs/operators';\r\nimport { from, of, concat, iif } from 'rxjs';\r\nimport { captureFetchError, captureFetchErrorWithTaptic } from './errors';\r\nimport { getBoard, newBoardList, editBoardList } from 'core/operations/board';\r\nimport { safeCombineEpics } from './combine';\r\nimport { getQToQuery } from 'core/selectors/user';\r\nimport { deletBoardList } from 'core/operations/boardList';\r\nimport { selectedBoardListInfo, getSelectedListId } from 'core/selectors/boardLists';\r\nimport { useTapticEpic, setStorageValueEpic } from './addons';\r\n\r\nconst fetchBoardEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.Board),\r\n    map(() => ({\r\n      q: getQToQuery(state$.value),\r\n    })),\r\n    switchMap(({ q }) =>\r\n      getBoard(q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<BoardListItem[]>>).pipe(\r\n              map((v) => v?.data ?? []),\r\n              switchMap((data) => {\r\n                const state = state$.value;\r\n                const { name } = selectedBoardListInfo(state);\r\n                const id = getSelectedListId(state);\r\n                const boardDataList = data.find((bl) => bl.id === id);\r\n                if (!boardDataList) {\r\n                  return concat(\r\n                    of({\r\n                      type: 'SET_READY_DATA',\r\n                      payload: {\r\n                        name: FetchingStateName.Board,\r\n                        data,\r\n                      },\r\n                    } as AppDispatch),\r\n                    of({\r\n                      type: 'SELECT_BOARD_LIST',\r\n                      payload: {\r\n                        id: data[0]?.id,\r\n                        data: data[0],\r\n                      },\r\n                    } as AppDispatch),\r\n                    of({\r\n                      type: 'SET_UPDATING_DATA',\r\n                      payload: FetchingStateName.Tasks,\r\n                    } as AppDispatch)\r\n                  );\r\n                }\r\n\r\n                if (boardDataList.name !== name) {\r\n                  return concat(\r\n                    of({\r\n                      type: 'SET_READY_DATA',\r\n                      payload: {\r\n                        name: FetchingStateName.Board,\r\n                        data,\r\n                      },\r\n                    } as AppDispatch),\r\n                    of({\r\n                      type: 'SELECT_BOARD_LIST',\r\n                      payload: {\r\n                        id,\r\n                        data: boardDataList,\r\n                      },\r\n                    } as AppDispatch),\r\n                    of({\r\n                      type: 'SET_UPDATING_DATA',\r\n                      payload: FetchingStateName.Tasks,\r\n                    } as AppDispatch)\r\n                  );\r\n                }\r\n\r\n                return concat(\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.Board,\r\n                      data,\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_UPDATING_DATA',\r\n                    payload: FetchingStateName.Tasks,\r\n                  } as AppDispatch)\r\n                );\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchError(FetchingStateName.Board)\r\n      )\r\n    )\r\n  );\r\n\r\nconst saveBoardListEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_BOARD_LIST_NAME'),\r\n    debounceTime(1500),\r\n    map(() => ({\r\n      q: getQToQuery(state$.value),\r\n      listName: state$.value.ui.board.boardListName,\r\n    })),\r\n    switchMap(({ q, listName }) =>\r\n      iif(\r\n        () => !listName.length,\r\n        of({\r\n          type: 'SET_READY_DATA',\r\n          payload: {\r\n            name: FetchingStateName.NewBoardList,\r\n            data: false,\r\n          },\r\n        } as AppDispatch),\r\n        newBoardList(listName, q).pipe(\r\n          switchMap((response) => {\r\n            if (response.ok) {\r\n              return concat(\r\n                of({\r\n                  type: 'SET_UPDATING_DATA',\r\n                  payload: FetchingStateName.Board,\r\n                } as AppDispatch),\r\n                of({\r\n                  type: 'SET_READY_DATA',\r\n                  payload: {\r\n                    name: FetchingStateName.NewBoardList,\r\n                    data: true,\r\n                  },\r\n                } as AppDispatch),\r\n                useTapticEpic('success')\r\n              );\r\n            } else {\r\n              throw new Error(`Http ${response.status} on ${response.url}`);\r\n            }\r\n          }),\r\n          captureFetchErrorWithTaptic(\r\n            FetchingStateName.NewBoardList,\r\n            'Не удалось сохранить новый список'\r\n          )\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nconst deleteBoardListEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.DeleteBoardList),\r\n    map(() => {\r\n      const state = state$.value;\r\n      return {\r\n        q: getQToQuery(state),\r\n        listId: state.ui.board.boardListToDeleteId,\r\n      };\r\n    }),\r\n    exhaustMap(({ q, listId }) =>\r\n      deletBoardList(listId, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return concat(\r\n              of({\r\n                type: 'SET_UPDATING_DATA',\r\n                payload: FetchingStateName.Board,\r\n              } as AppDispatch),\r\n              of({\r\n                type: 'SET_READY_DATA',\r\n                payload: {\r\n                  name: FetchingStateName.DeleteBoardList,\r\n                  data: true,\r\n                },\r\n              } as AppDispatch)\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchError(FetchingStateName.DeleteBoardList)\r\n      )\r\n    )\r\n  );\r\n\r\nconst editBoardListNameEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('EDIT_BOARD_LIST_NAME'),\r\n    filter(({ payload }) => !!(payload as EditBoardNamePayload).id),\r\n    debounceTime(1500),\r\n    map((p) => ({\r\n      q: getQToQuery(state$.value),\r\n      listName: state$.value.ui.board.editBoardListName,\r\n      listId: (p.payload as EditBoardNamePayload).id!,\r\n    })),\r\n    switchMap(({ q, listName, listId }) =>\r\n      iif(\r\n        () => !listName.length,\r\n        of({\r\n          type: 'SET_READY_DATA',\r\n          payload: {\r\n            name: FetchingStateName.EditBoardList,\r\n            data: false,\r\n          },\r\n        } as AppDispatch),\r\n        editBoardList(listName, listId, q).pipe(\r\n          switchMap((response) => {\r\n            if (response.ok) {\r\n              return concat(\r\n                of({\r\n                  type: 'SET_UPDATING_DATA',\r\n                  payload: FetchingStateName.Board,\r\n                } as AppDispatch),\r\n                of({\r\n                  type: 'SET_READY_DATA',\r\n                  payload: {\r\n                    name: FetchingStateName.EditBoardList,\r\n                    data: true,\r\n                  },\r\n                } as AppDispatch),\r\n                useTapticEpic('success')\r\n              );\r\n            } else {\r\n              throw new Error(`Http ${response.status} on ${response.url}`);\r\n            }\r\n          }),\r\n          captureFetchErrorWithTaptic(\r\n            FetchingStateName.EditBoardList,\r\n            'Не удалось обновить название списока'\r\n          )\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nconst resetPutListActionsEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_READY_DATA'),\r\n    filter<FetchReadyAction>(\r\n      ({ payload }) =>\r\n        (payload.name === FetchingStateName.EditBoardList ||\r\n          payload.name === FetchingStateName.NewBoardList) &&\r\n        !!payload.data\r\n    ),\r\n    auditTime(100),\r\n    delay(2500),\r\n    exhaustMap(({ payload }) =>\r\n      of({ type: 'SET_READY_DATA', payload: { name: payload.name, data: false } } as AppDispatch)\r\n    )\r\n  );\r\n\r\nconst firstBoardListEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.FirstBoardList),\r\n    map(() => {\r\n      const state = state$.value;\r\n      return {\r\n        q: getQToQuery(state),\r\n        listName: state.ui.board.firstBoardListName,\r\n      };\r\n    }),\r\n    switchMap(({ q, listName }) =>\r\n      newBoardList(listName, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return concat(\r\n              useTapticEpic('success'),\r\n              of({\r\n                type: 'SET_UPDATING_DATA',\r\n                payload: FetchingStateName.Board,\r\n              } as AppDispatch),\r\n              of({ type: 'SET_APP_USER', payload: true } as AppDispatch),\r\n              of({\r\n                type: 'SET_READY_DATA',\r\n                payload: {\r\n                  name: FetchingStateName.FirstBoardList,\r\n                  data: true,\r\n                },\r\n              } as AppDispatch),\r\n              setStorageValueEpic(Skeys.appUser, AppUser.Yes)\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchErrorWithTaptic(FetchingStateName.FirstBoardList, 'Не удалось создать список')\r\n      )\r\n    )\r\n  );\r\n\r\nexport const boardEpics = safeCombineEpics(\r\n  fetchBoardEpic,\r\n  saveBoardListEpic,\r\n  deleteBoardListEpic,\r\n  editBoardListNameEpic,\r\n  resetPutListActionsEpic,\r\n  firstBoardListEpic\r\n);\r\n","import { Method, request } from './common';\r\n\r\nexport const deletBoardList = (listId: number, q: string) => \r\n  request(`/list${q}&listId=${listId}`, Method.Delete);\r\n","import {\r\n  AppEpic,\r\n  FetchingStateName,\r\n  NewTaskModel,\r\n  FetchResponse,\r\n  AppDispatch,\r\n  BoardTaskItem,\r\n  FINISH_TASK_TIMER_VALUE,\r\n  EditTaskModel,\r\n  UNFINISH_TASK_TIMER_VALUE,\r\n} from 'core/models';\r\nimport { ofType } from 'redux-observable';\r\nimport { filter, map, switchMap, auditTime, exhaustMap } from 'rxjs/operators';\r\nimport { getNewTaskValues, getEditTaskValues } from 'core/selectors/board';\r\nimport { getQToQuery } from 'core/selectors/user';\r\nimport { from, concat, of, iif, empty } from 'rxjs';\r\nimport {\r\n  captureFetchErrorUserErr,\r\n  captureFetchError,\r\n  captureFetchErrorMoreActions,\r\n} from './errors';\r\nimport { safeCombineEpics } from './combine';\r\nimport * as ops from 'core/operations/task';\r\nimport { getBoardUiState } from 'core/selectors/common';\r\nimport { getSelectedTaskId, getSelectedTaskGUID } from 'core/selectors/task';\r\nimport { getSelectedListId } from 'core/selectors/boardLists';\r\n\r\nconst postNewTaskEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.NewTask),\r\n    map(() => {\r\n      const state = state$.value;\r\n      const formValues = getNewTaskValues(state);\r\n      return {\r\n        q: getQToQuery(state),\r\n        data: {\r\n          ...formValues,\r\n          description: formValues.description || null,\r\n          dueDate: formValues.dueDate || null,\r\n          listId: getSelectedListId(state),\r\n        } as NewTaskModel,\r\n      };\r\n    }),\r\n    switchMap(({ q, data }) =>\r\n      ops.postNewTask(data, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<number>>).pipe(\r\n              switchMap((data) => {\r\n                return concat(\r\n                  of({\r\n                    type: 'SET_MODAL',\r\n                    payload: null,\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'RESET_NEW_TASK',\r\n                    payload: null,\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.NewTask,\r\n                      data,\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_UPDATING_DATA',\r\n                    payload: FetchingStateName.Tasks,\r\n                  } as AppDispatch)\r\n                );\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchErrorUserErr(FetchingStateName.NewTask, 'Не получилось сохранить новую задачу')\r\n      )\r\n    )\r\n  );\r\n\r\nconst fetchTasksEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.Tasks),\r\n    map(() => ({\r\n      q: getQToQuery(state$.value),\r\n      listId: getSelectedListId(state$.value),\r\n    })),\r\n    switchMap(({ q, listId }) =>\r\n      ops.getTasks(listId, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<BoardTaskItem[]>>).pipe(\r\n              map((v) => v?.data ?? []),\r\n              switchMap((data) => {\r\n                return concat(\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.Tasks,\r\n                      data,\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_BOARD_TASKS',\r\n                    payload: data,\r\n                  } as AppDispatch)\r\n                );\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchError(FetchingStateName.Tasks)\r\n      )\r\n    )\r\n  );\r\n\r\nconst finishTasksEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('FINISH_TASK'),\r\n    auditTime(FINISH_TASK_TIMER_VALUE),\r\n    map(() => {\r\n      const state = state$.value;\r\n      const { tasksToBeFinished } = getBoardUiState(state);\r\n\r\n      return {\r\n        q: getQToQuery(state),\r\n        taskIds: tasksToBeFinished,\r\n        listId: getSelectedListId(state),\r\n      };\r\n    }),\r\n    exhaustMap(({ q, taskIds, listId }) =>\r\n      iif(\r\n        () => !taskIds.length,\r\n        of({\r\n          type: 'SET_FINISH_TASK_TIMER',\r\n          payload: FINISH_TASK_TIMER_VALUE,\r\n        } as AppDispatch),\r\n        ops.finishTasks(taskIds, listId, q).pipe(\r\n          switchMap((response) => {\r\n            if (response.ok) {\r\n              return concat(\r\n                of({\r\n                  type: 'SET_UPDATING_DATA',\r\n                  payload: FetchingStateName.Tasks,\r\n                } as AppDispatch),\r\n                of({\r\n                  type: 'SET_FINISH_TASK_TIMER',\r\n                  payload: FINISH_TASK_TIMER_VALUE,\r\n                } as AppDispatch),\r\n                of({\r\n                  type: 'RESET_FINISH_TASKS',\r\n                  payload: [],\r\n                } as AppDispatch)\r\n              );\r\n            } else {\r\n              throw new Error(`Http ${response.status} on ${response.url}`);\r\n            }\r\n          }),\r\n          captureFetchErrorMoreActions(FetchingStateName.FinishTasks, {\r\n            type: 'SET_FINISH_TASK_TIMER',\r\n            payload: FINISH_TASK_TIMER_VALUE,\r\n          })\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nconst deleteTaskEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.DeleteTask),\r\n    map(() => {\r\n      const state = state$.value;\r\n      const { selectedTask } = getBoardUiState(state);\r\n\r\n      return {\r\n        q: getQToQuery(state),\r\n        selectedTaskId: selectedTask.id,\r\n        listId: getSelectedListId(state),\r\n      };\r\n    }),\r\n    switchMap(({ q, selectedTaskId, listId }) =>\r\n      ops.deleteTask(selectedTaskId, listId, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return concat(\r\n              of({\r\n                type: 'SET_UPDATING_DATA',\r\n                payload: FetchingStateName.Tasks,\r\n              } as AppDispatch),\r\n              of({\r\n                type: 'SET_READY_DATA',\r\n                payload: {\r\n                  name: FetchingStateName.DeleteTask,\r\n                  data: true,\r\n                },\r\n              } as AppDispatch),\r\n              of({\r\n                type: 'SET_MODAL',\r\n                payload: null,\r\n              } as AppDispatch)\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchError(FetchingStateName.DeleteTask)\r\n      )\r\n    )\r\n  );\r\n\r\nconst putEditTaskEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.EditTask),\r\n    map(() => {\r\n      const state = state$.value;\r\n      const formValues = getEditTaskValues(state);\r\n      return {\r\n        q: getQToQuery(state),\r\n        dataModel: {\r\n          ...formValues,\r\n          dueDate: formValues.dueDate || null,\r\n          listId: getSelectedListId(state),\r\n          id: getSelectedTaskId(state),\r\n        } as EditTaskModel,\r\n      };\r\n    }),\r\n    switchMap(({ q, dataModel }) =>\r\n      ops.putEditTask(dataModel, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<number>>).pipe(\r\n              switchMap(() => {\r\n                return concat(\r\n                  of({\r\n                    type: 'SELECT_TASK',\r\n                    payload: {\r\n                      id: dataModel.id,\r\n                      description: dataModel.description,\r\n                      dueDate: dataModel.dueDate,\r\n                      name: dataModel.name,\r\n                      taskGUID: getSelectedTaskGUID(state$.value),\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.EditTask,\r\n                      data: true,\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_UPDATING_DATA',\r\n                    payload: FetchingStateName.Tasks,\r\n                  } as AppDispatch)\r\n                );\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchErrorUserErr(FetchingStateName.EditTask, 'Не получилось обновить задачу')\r\n      )\r\n    )\r\n  );\r\n\r\nconst unfinishTasksEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('UNFINISH_TASK'),\r\n    auditTime(UNFINISH_TASK_TIMER_VALUE),\r\n    map(() => {\r\n      const state = state$.value;\r\n      const { tasksToBeUnfinished } = getBoardUiState(state);\r\n\r\n      return {\r\n        q: getQToQuery(state),\r\n        taskIds: tasksToBeUnfinished,\r\n        listId: getSelectedListId(state),\r\n      };\r\n    }),\r\n    exhaustMap(({ q, taskIds, listId }) =>\r\n      iif(\r\n        () => !taskIds.length,\r\n        empty(),\r\n        ops.unfinishTasks(taskIds, listId, q).pipe(\r\n          switchMap((response) => {\r\n            if (response.ok) {\r\n              return concat(\r\n                of({\r\n                  type: 'SET_UPDATING_DATA',\r\n                  payload: FetchingStateName.Tasks,\r\n                } as AppDispatch),\r\n                of({\r\n                  type: 'RESET_UNFINISH_TASKS',\r\n                  payload: [],\r\n                } as AppDispatch)\r\n              );\r\n            } else {\r\n              throw new Error(`Http ${response.status} on ${response.url}`);\r\n            }\r\n          }),\r\n          captureFetchError(FetchingStateName.FinishTasks)\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nexport const taskEpics = safeCombineEpics(\r\n  postNewTaskEpic,\r\n  fetchTasksEpic,\r\n  finishTasksEpic,\r\n  deleteTaskEpic,\r\n  putEditTaskEpic,\r\n  unfinishTasksEpic\r\n);\r\n","import { NewTaskModel, EditTaskModel } from 'core/models';\r\nimport { request, Method } from './common';\r\n\r\nexport const postNewTask = (data: NewTaskModel, q: string) =>\r\n  request(`/list/task${q}`, Method.Post, data);\r\n\r\nexport const getTasks = (listId: number, q: string) =>\r\n  request(`/list/tasks${q}&listId=${listId}`, Method.Get);\r\n\r\nexport const finishTasks = (taskIds: number[], listId: number, q: string) =>\r\n  request(`/list/tasks${q}`, Method.Put, { taskIds, listId });\r\n  \r\nexport const unfinishTasks = (taskIds: number[], listId: number, q: string) =>\r\n  request(`/list/tasks${q}`, Method.Delete, { taskIds, listId });\r\n\r\nexport const deleteTask = (taskId: number, listId: number, q: string) =>\r\n  request(`/list/task${q}&taskId=${taskId}&listId=${listId}`, Method.Delete);\r\n\r\nexport const putEditTask = (data: EditTaskModel, q: string) =>\r\n  request(`/list/task${q}`, Method.Put, data);\r\n","import {\r\n  AppEpic,\r\n  FetchingStateName,\r\n  AppDispatch,\r\n  SetHashAction,\r\n  FetchResponse,\r\n  FetchUpdateAction,\r\n  MembershipListPreview,\r\n} from 'core/models';\r\nimport { ofType } from 'redux-observable';\r\nimport { filter, map, switchMap } from 'rxjs/operators';\r\nimport { getBoardUiState, getMembershipUiState } from 'core/selectors/common';\r\nimport { getQToQuery } from 'core/selectors/user';\r\nimport {\r\n  dropMembership,\r\n  createMembership,\r\n  listMembershipPreview,\r\n} from 'core/operations/membership';\r\nimport { concat, of, from } from 'rxjs';\r\nimport { captureFetchError, captureFetchErrorWithTaptic } from './errors';\r\nimport { safeCombineEpics } from './combine';\r\nimport { getSearch } from 'connected-react-router';\r\nimport { getBoardListData } from 'core/selectors/board';\r\nimport { getPreviewMembershipData } from 'core/selectors/membership';\r\n\r\nconst dropMembershipEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.DropMembership),\r\n    map(() => {\r\n      const state = state$.value;\r\n      const { boardListOpenId } = getBoardUiState(state);\r\n      const { dropUserId } = getMembershipUiState(state);\r\n\r\n      return {\r\n        q: getQToQuery(state),\r\n        userId: dropUserId,\r\n        listId: boardListOpenId,\r\n      };\r\n    }),\r\n    switchMap(({ q, userId, listId }) =>\r\n      dropMembership(userId, listId, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return concat(\r\n              of({\r\n                type: 'SET_UPDATING_DATA',\r\n                payload: FetchingStateName.Board,\r\n              } as AppDispatch),\r\n              of({\r\n                type: 'SET_READY_DATA',\r\n                payload: {\r\n                  name: FetchingStateName.DropMembership,\r\n                  data: true,\r\n                },\r\n              } as AppDispatch)\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchError(FetchingStateName.DropMembership)\r\n      )\r\n    )\r\n  );\r\n\r\nconst procceedToPreviewMembershipListEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_HASH'),\r\n    filter<SetHashAction>(\r\n      ({ payload }) =>\r\n        payload !== null && !getBoardListData(state$.value).find((l) => l.listguid === payload)\r\n    ),\r\n    map(({ payload }) => ({\r\n      q: getSearch(state$.value),\r\n      guid: payload!,\r\n    })),\r\n    map(\r\n      () =>\r\n        ({\r\n          type: 'SET_UPDATING_DATA',\r\n          payload: FetchingStateName.ListMembershipPreview,\r\n        } as AppDispatch)\r\n    )\r\n  );\r\n\r\nconst getPreviewMembershipListEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter<FetchUpdateAction>(({ payload }) => payload === FetchingStateName.ListMembershipPreview),\r\n    map(() => ({\r\n      q: getSearch(state$.value),\r\n      guid: state$.value.ui.hashListGUID!,\r\n    })),\r\n    switchMap(({ q, guid }) =>\r\n      listMembershipPreview(guid, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<MembershipListPreview>>).pipe(\r\n              switchMap((r) => {\r\n                return concat(\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.ListMembershipPreview,\r\n                      data: r?.data,\r\n                    },\r\n                  } as AppDispatch)\r\n                );\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchErrorWithTaptic(\r\n          FetchingStateName.ListMembershipPreview,\r\n          'Ссылка недействительна'\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nconst saveMembershipEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter<FetchUpdateAction>(({ payload }) => payload === FetchingStateName.SaveMembership),\r\n    map(() => ({\r\n      q: getSearch(state$.value),\r\n      listId: getPreviewMembershipData(state$.value).id,\r\n    })),\r\n    switchMap(({ q, listId }) =>\r\n      createMembership(listId, q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<number>>).pipe(\r\n              switchMap((r) => {\r\n                return concat(\r\n                  of({\r\n                    type: 'SELECT_BOARD_LIST',\r\n                    payload: {\r\n                      id: r?.data ?? 0,\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_UPDATING_DATA',\r\n                    payload: FetchingStateName.Board,\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.SaveMembership,\r\n                      data: true,\r\n                    },\r\n                  } as AppDispatch)\r\n                );\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchErrorWithTaptic(\r\n          FetchingStateName.SaveMembership,\r\n          'Не получилось Вас добавить в список'\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nexport const membershipEpics = safeCombineEpics(\r\n  dropMembershipEpic,\r\n  procceedToPreviewMembershipListEpic,\r\n  getPreviewMembershipListEpic,\r\n  saveMembershipEpic\r\n);\r\n","import { Method, request } from './common';\r\n\r\nexport const dropMembership = (userId: number, listId: number, q: string) =>\r\n  request(`/list/membership${q}`, Method.Delete, {\r\n    userId,\r\n    listId,\r\n  });\r\n\r\nexport const createMembership = (listId: number, q: string) =>\r\n  request(`/list/membership${q}`, Method.Post, {\r\n    listId,\r\n  });\r\n\r\nexport const listMembershipPreview = (guid: string, q: string) =>\r\n  request(`/list/membership${q}&guid=${guid}`, Method.Get);\r\n","import { ofType } from 'redux-observable';\r\nimport { AppEpic, SelectBoardListAction } from 'core/models';\r\nimport { filter, tap, ignoreElements } from 'rxjs/operators';\r\nimport { safeCombineEpics } from './combine';\r\nimport { joinRoom } from 'core/socket/list';\r\nimport { getUserId } from 'core/selectors/user';\r\n\r\nconst joinRoomEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SELECT_BOARD_LIST'),\r\n    filter<SelectBoardListAction>(({ payload }) => !!payload.data),\r\n    tap(({ payload }) => {\r\n      const { listguid } = payload.data!;\r\n      const userId = getUserId(state$.value);\r\n      console.log('go to room', listguid);\r\n      if (listguid) {\r\n        joinRoom(listguid, userId);\r\n      }\r\n    }),\r\n    ignoreElements()\r\n  );\r\n\r\nexport const socketEpics = safeCombineEpics(joinRoomEpic);\r\n","import { safeCombineEpics } from './combine';\r\nimport { AppEpic, FetchingStateName, AppDispatch, premiumPrice, FetchResponse } from 'core/models';\r\nimport { ofType } from 'redux-observable';\r\nimport { filter, switchMap, map } from 'rxjs/operators';\r\nimport { from, of, concat } from 'rxjs';\r\nimport { buyPremium } from 'core/vk-bridge/user';\r\nimport { devTimeout } from './addons';\r\nimport { captureFetchErrorWithTaptic, captureFetchError } from './errors';\r\nimport { createPayment, paymentInfo, lastGoogleSyncInfo } from 'core/operations/payment';\r\nimport { getQToQuery } from 'core/selectors/user';\r\nimport { getSearch } from 'connected-react-router';\r\n\r\nconst userMakePaymentEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.PaymentProccess),\r\n    switchMap(() =>\r\n      from(buyPremium()).pipe(\r\n        devTimeout(),\r\n        switchMap((pr) => {\r\n          console.log(pr);\r\n          let amount = '';\r\n          if ('result' in pr) {\r\n            if (pr.result.status && pr.result.amount === premiumPrice.toString()) {\r\n              amount = pr.result.amount;\r\n            }\r\n            if (!pr.result.status) {\r\n              throw new Error(`Платеж не завершен`);\r\n            }\r\n            if (pr.result.amount !== premiumPrice.toString()) {\r\n              amount = pr.result.amount;\r\n            }\r\n          } else {\r\n            if (pr.status && pr.amount === premiumPrice.toString()) {\r\n              amount = pr.amount;\r\n            }\r\n            if (!pr.status) {\r\n              throw new Error(`Платеж не завершен`);\r\n            }\r\n            if (pr.amount !== premiumPrice.toString()) {\r\n              amount = pr.amount;\r\n            }\r\n          }\r\n          const q = getQToQuery(state$.value);\r\n          return createPayment(amount, q).pipe(\r\n            switchMap((response) => {\r\n              if (response.ok) {\r\n                return concat(\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.PaymentProccess,\r\n                      data: true,\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_UPDATING_DATA',\r\n                    payload: FetchingStateName.PaymentInfo,\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_UPDATING_DATA',\r\n                    payload: FetchingStateName.LastGoogleSync,\r\n                  } as AppDispatch)\r\n                );\r\n              } else {\r\n                throw new Error(`Http ${response.status} on ${response.url}`);\r\n              }\r\n            }),\r\n            captureFetchErrorWithTaptic(\r\n              FetchingStateName.PaymentProccess,\r\n              'Не удалось произвести покупку премиума'\r\n            )\r\n          );\r\n        }),\r\n        captureFetchErrorWithTaptic(\r\n          FetchingStateName.PaymentProccess,\r\n          'Не удалось произвести покупку премиума'\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\nconst ensurePaymentEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.PaymentInfo),\r\n    map(() => ({\r\n      q: getSearch(state$.value),\r\n    })),\r\n    switchMap(({ q }) =>\r\n      paymentInfo(q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<boolean>>).pipe(\r\n              switchMap((r) => {\r\n                return concat(\r\n                  of({\r\n                    type: 'SET_READY_DATA',\r\n                    payload: {\r\n                      name: FetchingStateName.PaymentInfo,\r\n                      data: r?.data,\r\n                    },\r\n                  } as AppDispatch),\r\n                  of({\r\n                    type: 'SET_UPDATING_DATA',\r\n                    payload: FetchingStateName.LastGoogleSync,\r\n                  } as AppDispatch)\r\n                );\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchError(FetchingStateName.PaymentInfo)\r\n      )\r\n    )\r\n  );\r\nconst lastGoogleSyncInfoEpic: AppEpic = (action$, state$) =>\r\n  action$.pipe(\r\n    ofType('SET_UPDATING_DATA'),\r\n    filter(({ payload }) => payload === FetchingStateName.LastGoogleSync),\r\n    map(() => ({\r\n      q: getSearch(state$.value),\r\n    })),\r\n    switchMap(({ q }) =>\r\n      lastGoogleSyncInfo(q).pipe(\r\n        switchMap((response) => {\r\n          if (response.ok) {\r\n            return from(response.json() as Promise<FetchResponse<number>>).pipe(\r\n              switchMap((r) => {\r\n                return of({\r\n                  type: 'SET_READY_DATA',\r\n                  payload: {\r\n                    name: FetchingStateName.LastGoogleSync,\r\n                    data: r?.data ?? 24,\r\n                  },\r\n                } as AppDispatch);\r\n              })\r\n            );\r\n          } else {\r\n            throw new Error(`Http ${response.status} on ${response.url}`);\r\n          }\r\n        }),\r\n        captureFetchError(FetchingStateName.LastGoogleSync)\r\n      )\r\n    )\r\n  );\r\n\r\nexport const paymentEpics = safeCombineEpics(\r\n  userMakePaymentEpic,\r\n  ensurePaymentEpic,\r\n  lastGoogleSyncInfoEpic\r\n);\r\n","import { Method, request } from './common';\r\n\r\nexport const createPayment = (amount: string, q: string) =>\r\n  request(`/payment${q}`, Method.Post, {\r\n    amount,\r\n  });\r\nexport const paymentInfo = (q: string) => request(`/payment${q}`, Method.Get);\r\nexport const lastGoogleSyncInfo = (q: string) => request(`/payment/gSync${q}`, Method.Get);\r\n","import { combineReducers, createStore, ReducersMapObject, Store, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { reducer as uiReducer, initialState } from 'core/reducers/main';\r\nimport { AppState, AppDispatch } from 'core/models';\r\nimport { createBrowserHistory } from 'history';\r\nimport { connectRouter } from 'connected-react-router';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport { createEpicMiddleware } from 'redux-observable';\r\nimport { rootEpic } from 'core/epics';\r\nimport * as sentry from '@sentry/browser';\r\n\r\nconst epicMiddleware = createEpicMiddleware({\r\n  dependencies: {\r\n    captureException: (exception: any) => {\r\n      return sentry.captureException(exception);\r\n    }\r\n  }\r\n});\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst rootReducerMap: ReducersMapObject<AppState, AppDispatch> = {\r\n  ui: uiReducer,\r\n  router: connectRouter(history) as any,\r\n};\r\n\r\nexport const store: Store<AppState, AppDispatch> = createStore<\r\n  AppState,\r\n  AppDispatch,\r\n  unknown,\r\n  unknown\r\n>(\r\n  combineReducers(rootReducerMap),\r\n  { ui: initialState } as any,\r\n  composeWithDevTools(applyMiddleware(routerMiddleware(history), epicMiddleware))\r\n);\r\n\r\nepicMiddleware.run(rootEpic);\r\n","import { combineEpics, Epic } from 'redux-observable';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { userEpics } from './user';\r\nimport { getAdsEpic } from './ads';\r\nimport { captureUrlEvent } from 'core/sentry';\r\nimport { errMap } from 'core/utils';\r\nimport { boardEpics } from './board';\r\nimport { taskEpics } from './tasks';\r\nimport { membershipEpics } from './membership';\r\nimport { socketEpics } from './socket';\r\nimport { paymentEpics } from './payment';\r\n\r\nexport const rootEpic: Epic = (action$, store$, dependencies) =>\r\n  combineEpics(\r\n    userEpics,\r\n    getAdsEpic,\r\n    boardEpics,\r\n    taskEpics,\r\n    membershipEpics,\r\n    socketEpics,\r\n    paymentEpics\r\n  )(action$, store$, dependencies).pipe(\r\n    catchError((error, source) => {\r\n      console.error('Error in root epic', error);\r\n      captureUrlEvent(`Error in root epic ${errMap(error)}`);\r\n      return source;\r\n    })\r\n  );\r\n","import * as sentry from '@sentry/browser';\r\nimport { Severity, User } from '@sentry/types';\r\nimport { store } from 'core/store';\r\nimport { UserInfo } from '@vkontakte/vk-bridge';\r\nimport { appV } from 'core/models';\r\n\r\nexport const captureUrlEvent = (message: string, request: sentry.Request = {}) => {\r\n  // sentry.captureEvent({\r\n  //   message,\r\n  //   request,\r\n  //   level: Severity.Error,\r\n  // });\r\n};\r\n\r\nconst beforeSend: sentry.BrowserOptions['beforeSend'] = (event) => {\r\n  if (!event.message || event.message?.indexOf('ChunkLoadError') !== -1) {\r\n    return null;\r\n  }\r\n\r\n  const state = store.getState();\r\n  const { ui } = state;\r\n\r\n  event.user =\r\n    ui.fetchingDatas.user &&\r\n    ({\r\n      ...event.user,\r\n      id: String((ui.fetchingDatas.user.data as UserInfo)?.id),\r\n      username: (ui.fetchingDatas.user.data as UserInfo)?.first_name,\r\n      fullName: (ui.fetchingDatas.user.data as UserInfo)?.last_name,\r\n    } as User);\r\n\r\n  event.extra = {\r\n    ...event.extra,\r\n    uiState: ui,\r\n  };\r\n\r\n  event.tags = event.tags || {};\r\n\r\n  return event;\r\n};\r\n\r\nexport async function initSentry() {\r\n  return sentry.init({\r\n    // dsn: 'https://e0a9247786274dd8bf9f8ce968cd182b@sr.testfriendship.special.vk-apps.com/2',\r\n    dsn: '',\r\n    release: appV.toString(),\r\n    beforeSend,\r\n    enabled: process.env.NODE_ENV === 'production',\r\n    environment: 'production',\r\n    ignoreErrors: [/Non-Error promise rejection captured with keys/i],\r\n  });\r\n}\r\n","import React from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { ConfigProvider } from '@vkontakte/vkui';\r\nimport { Router } from 'modules/routes';\r\nimport { initSentry } from 'core/sentry';\r\nimport { ClientTheme, AppDispatchActions } from 'core/models';\r\nimport { vkBridge } from 'core/vk-bridge/instance';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst lights = [ClientTheme.Light, ClientTheme.oldLight];\r\nconst hashListGUID = window.location.hash ? window.location.hash.split('#').pop() : null;\r\n\r\nconst App = React.memo(() => {\r\n  const theme = useSelector((state) => state.ui.theme);\r\n  const dispatch = useDispatch<AppDispatchActions>();\r\n\r\n  const changeTheme = (payload: ClientTheme) => {\r\n    dispatch({\r\n      type: 'SET_THEME',\r\n      payload,\r\n    });\r\n  };\r\n  React.useEffect(() => {\r\n    \r\n    vkBridge.send('VKWebAppInit');\r\n    vkBridge.subscribe(({ detail: { type, data } }) => {\r\n      if (type === 'VKWebAppUpdateConfig') {\r\n        const dataScheme = (data as any).scheme;\r\n        let isLight = lights.includes(dataScheme);\r\n\r\n        changeTheme(isLight ? ClientTheme.Light : ClientTheme.Dark);\r\n\r\n        vkBridge.send('VKWebAppSetViewSettings', {\r\n          status_bar_style: isLight ? 'dark' : 'light',\r\n          action_bar_color: isLight ? '#ffffff' : '#191919',\r\n        });\r\n      }\r\n\r\n      if (type === 'VKWebAppViewRestore') {\r\n        dispatch({\r\n          type: 'SET_HASH',\r\n          payload: hashListGUID ?? null,\r\n        });\r\n\r\n        // const { listguid } = selectedBoardListInfo(store.getState());\r\n        // if (listguid) {\r\n        //   joinRoom(listguid);\r\n        // }\r\n      }\r\n    });\r\n    initSentry();\r\n  }, []);\r\n\r\n  return (\r\n    <ConfigProvider isWebView scheme={theme}>\r\n      <Router />\r\n    </ConfigProvider>\r\n  );\r\n});\r\n\r\nexport default App;\r\n","import { clientPerformCallback } from 'core/socket/callbacks';\r\n\r\nexport const client = clientPerformCallback(m => ({\r\n  new_task: m<(taskId: string) => void>(),\r\n  stop_g_sync: m<() => void>(),\r\n}));\r\n","import { client } from 'core/callbacks';\r\nimport { store } from 'core/store';\r\n\r\nclient.new_task = (taskId) => {\r\n  console.warn(taskId, 'new_task');\r\n};\r\n\r\nclient.stop_g_sync = () => {\r\n  console.warn('stop_g_sync');\r\n  store.dispatch({ type: 'SET_GOOGLE_SYNC', payload: false });\r\n};\r\n","import { store } from 'core/store';\r\n\r\nexport const k = 'k';\r\n\r\nwindow.addEventListener('offline', function (e) {\r\n  console.log('offline');\r\n  store.dispatch({ type: 'SET_APP_CONNECT', payload: false });\r\n  store.dispatch({ type: 'HANDLE_ACTIVATE_INIT', payload: false });\r\n});\r\n\r\nwindow.addEventListener('online', function (e) {\r\n  console.log('online');\r\n  store.dispatch({ type: 'SET_APP_CONNECT', payload: true });\r\n});\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport 'whatwg-fetch';\r\nimport 'abortcontroller-polyfill/dist/polyfill-patch-fetch';\r\nimport 'promise-polyfill/src/polyfill';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider as Redux } from 'react-redux';\r\nimport { store, history } from 'core/store';\r\nimport { RendererProvider as Fela } from 'react-fela';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport { configureFela } from 'core/fela';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport 'core/fire-callbacks';\r\nimport 'core/global-listen';\r\nimport 'assets/css/theme.css';\r\nimport 'assets/fonts/style.css';\r\n// if (process.env.NODE_ENV === 'development') {\r\nimport('./eruda').then(({ default: eruda }) => {}); //runtime download\r\n// }\r\n\r\nconst felaRenderer = configureFela();\r\n\r\nReactDOM.render(\r\n  <Redux store={store}>\r\n    <Fela renderer={felaRenderer}>\r\n      <ConnectedRouter history={history} noInitialPop>\r\n        <App />\r\n      </ConnectedRouter>\r\n    </Fela>\r\n  </Redux>,\r\n  document.getElementById('root')\r\n);\r\n","import webPreset from 'fela-preset-web';\r\nimport embedded from 'fela-plugin-embedded';\r\nimport { createRenderer } from 'fela';\r\n\r\nexport const configureFela = () => {\r\n  const renderer = createRenderer({\r\n    selectorPrefix: 'f_',\r\n    plugins: [...webPreset, embedded()]\r\n  });\r\n\r\n  return renderer;\r\n};\r\n"],"sourceRoot":""}